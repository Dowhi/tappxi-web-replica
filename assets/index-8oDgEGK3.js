var RC=Object.defineProperty;var MC=(e,t,n)=>t in e?RC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Er=(e,t,n)=>MC(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var d$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a2={exports:{}},Kh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function zC(){if(vw)return Kh;vw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Kh.Fragment=t,Kh.jsx=n,Kh.jsxs=n,Kh}var yw;function IC(){return yw||(yw=1,a2.exports=zC()),a2.exports}var u=IC(),i2={exports:{}},kn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw;function PC(){if(bw)return kn;bw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function g(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function E(M,N,F){this.props=M,this.context=N,this.refs=A,this.updater=F||T}E.prototype.isReactComponent={},E.prototype.setState=function(M,N){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,N,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function D(){}D.prototype=E.prototype;function j(M,N,F){this.props=M,this.context=N,this.refs=A,this.updater=F||T}var R=j.prototype=new D;R.constructor=j,b(R,E.prototype),R.isPureReactComponent=!0;var q=Array.isArray;function Z(){}var I={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function P(M,N,F){var L=F.ref;return{$$typeof:e,type:M,key:N,ref:L!==void 0?L:null,props:F}}function Q(M,N){return P(M.type,N,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function G(M){var N={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(F){return N[F]})}var K=/\/+/g;function X(M,N){return typeof M=="object"&&M!==null&&M.key!=null?G(""+M.key):N.toString(36)}function H(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Z,Z):(M.status="pending",M.then(function(N){M.status==="pending"&&(M.status="fulfilled",M.value=N)},function(N){M.status==="pending"&&(M.status="rejected",M.reason=N)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,N,F,L,B){var te=typeof M;(te==="undefined"||te==="boolean")&&(M=null);var de=!1;if(M===null)de=!0;else switch(te){case"bigint":case"string":case"number":de=!0;break;case"object":switch(M.$$typeof){case e:case t:de=!0;break;case m:return de=M._init,V(de(M._payload),N,F,L,B)}}if(de)return B=B(M),de=L===""?"."+X(M,0):L,q(B)?(F="",de!=null&&(F=de.replace(K,"$&/")+"/"),V(B,N,F,"",function(ve){return ve})):B!=null&&(O(B)&&(B=Q(B,F+(B.key==null||M&&M.key===B.key?"":(""+B.key).replace(K,"$&/")+"/")+de)),N.push(B)),1;de=0;var Ne=L===""?".":L+":";if(q(M))for(var se=0;se<M.length;se++)L=M[se],te=Ne+X(L,se),de+=V(L,N,F,te,B);else if(se=g(M),typeof se=="function")for(M=se.call(M),se=0;!(L=M.next()).done;)L=L.value,te=Ne+X(L,se++),de+=V(L,N,F,te,B);else if(te==="object"){if(typeof M.then=="function")return V(H(M),N,F,L,B);throw N=String(M),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return de}function ae(M,N,F){if(M==null)return M;var L=[],B=0;return V(M,L,"","",function(te){return N.call(F,te,B++)}),L}function ce(M){if(M._status===-1){var N=M._result;N=N(),N.then(function(F){(M._status===0||M._status===-1)&&(M._status=1,M._result=F)},function(F){(M._status===0||M._status===-1)&&(M._status=2,M._result=F)}),M._status===-1&&(M._status=0,M._result=N)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},me={map:ae,forEach:function(M,N,F){ae(M,function(){N.apply(this,arguments)},F)},count:function(M){var N=0;return ae(M,function(){N++}),N},toArray:function(M){return ae(M,function(N){return N})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return kn.Activity=v,kn.Children=me,kn.Component=E,kn.Fragment=n,kn.Profiler=a,kn.PureComponent=j,kn.StrictMode=r,kn.Suspense=d,kn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,kn.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},kn.cache=function(M){return function(){return M.apply(null,arguments)}},kn.cacheSignal=function(){return null},kn.cloneElement=function(M,N,F){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var L=b({},M.props),B=M.key;if(N!=null)for(te in N.key!==void 0&&(B=""+N.key),N)!Y.call(N,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&N.ref===void 0||(L[te]=N[te]);var te=arguments.length-2;if(te===1)L.children=F;else if(1<te){for(var de=Array(te),Ne=0;Ne<te;Ne++)de[Ne]=arguments[Ne+2];L.children=de}return P(M.type,B,L)},kn.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},kn.createElement=function(M,N,F){var L,B={},te=null;if(N!=null)for(L in N.key!==void 0&&(te=""+N.key),N)Y.call(N,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(B[L]=N[L]);var de=arguments.length-2;if(de===1)B.children=F;else if(1<de){for(var Ne=Array(de),se=0;se<de;se++)Ne[se]=arguments[se+2];B.children=Ne}if(M&&M.defaultProps)for(L in de=M.defaultProps,de)B[L]===void 0&&(B[L]=de[L]);return P(M,te,B)},kn.createRef=function(){return{current:null}},kn.forwardRef=function(M){return{$$typeof:c,render:M}},kn.isValidElement=O,kn.lazy=function(M){return{$$typeof:m,_payload:{_status:-1,_result:M},_init:ce}},kn.memo=function(M,N){return{$$typeof:h,type:M,compare:N===void 0?null:N}},kn.startTransition=function(M){var N=I.T,F={};I.T=F;try{var L=M(),B=I.S;B!==null&&B(F,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(Z,le)}catch(te){le(te)}finally{N!==null&&F.types!==null&&(N.types=F.types),I.T=N}},kn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},kn.use=function(M){return I.H.use(M)},kn.useActionState=function(M,N,F){return I.H.useActionState(M,N,F)},kn.useCallback=function(M,N){return I.H.useCallback(M,N)},kn.useContext=function(M){return I.H.useContext(M)},kn.useDebugValue=function(){},kn.useDeferredValue=function(M,N){return I.H.useDeferredValue(M,N)},kn.useEffect=function(M,N){return I.H.useEffect(M,N)},kn.useEffectEvent=function(M){return I.H.useEffectEvent(M)},kn.useId=function(){return I.H.useId()},kn.useImperativeHandle=function(M,N,F){return I.H.useImperativeHandle(M,N,F)},kn.useInsertionEffect=function(M,N){return I.H.useInsertionEffect(M,N)},kn.useLayoutEffect=function(M,N){return I.H.useLayoutEffect(M,N)},kn.useMemo=function(M,N){return I.H.useMemo(M,N)},kn.useOptimistic=function(M,N){return I.H.useOptimistic(M,N)},kn.useReducer=function(M,N,F){return I.H.useReducer(M,N,F)},kn.useRef=function(M){return I.H.useRef(M)},kn.useState=function(M){return I.H.useState(M)},kn.useSyncExternalStore=function(M,N,F){return I.H.useSyncExternalStore(M,N,F)},kn.useTransition=function(){return I.H.useTransition()},kn.version="19.2.0",kn}var ww;function Fv(){return ww||(ww=1,i2.exports=PC()),i2.exports}var W=Fv();const Ov=Lv(W);var s2={exports:{}},Xh={},o2={exports:{}},l2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function BC(){return Sw||(Sw=1,(function(e){function t(V,ae){var ce=V.length;V.push(ae);e:for(;0<ce;){var le=ce-1>>>1,me=V[le];if(0<a(me,ae))V[le]=ae,V[ce]=me,ce=le;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var ae=V[0],ce=V.pop();if(ce!==ae){V[0]=ce;e:for(var le=0,me=V.length,M=me>>>1;le<M;){var N=2*(le+1)-1,F=V[N],L=N+1,B=V[L];if(0>a(F,ce))L<me&&0>a(B,F)?(V[le]=B,V[L]=ce,le=L):(V[le]=F,V[N]=ce,le=N);else if(L<me&&0>a(B,ce))V[le]=B,V[L]=ce,le=L;else break e}}return ae}function a(V,ae){var ce=V.sortIndex-ae.sortIndex;return ce!==0?ce:V.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],m=1,v=null,y=3,g=!1,T=!1,b=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function R(V){for(var ae=n(h);ae!==null;){if(ae.callback===null)r(h);else if(ae.startTime<=V)r(h),ae.sortIndex=ae.expirationTime,t(d,ae);else break;ae=n(h)}}function q(V){if(b=!1,R(V),!T)if(n(d)!==null)T=!0,Z||(Z=!0,G());else{var ae=n(h);ae!==null&&H(q,ae.startTime-V)}}var Z=!1,I=-1,Y=5,P=-1;function Q(){return A?!0:!(e.unstable_now()-P<Y)}function O(){if(A=!1,Z){var V=e.unstable_now();P=V;var ae=!0;try{e:{T=!1,b&&(b=!1,D(I),I=-1),g=!0;var ce=y;try{t:{for(R(V),v=n(d);v!==null&&!(v.expirationTime>V&&Q());){var le=v.callback;if(typeof le=="function"){v.callback=null,y=v.priorityLevel;var me=le(v.expirationTime<=V);if(V=e.unstable_now(),typeof me=="function"){v.callback=me,R(V),ae=!0;break t}v===n(d)&&r(d),R(V)}else r(d);v=n(d)}if(v!==null)ae=!0;else{var M=n(h);M!==null&&H(q,M.startTime-V),ae=!1}}break e}finally{v=null,y=ce,g=!1}ae=void 0}}finally{ae?G():Z=!1}}}var G;if(typeof j=="function")G=function(){j(O)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,X=K.port2;K.port1.onmessage=O,G=function(){X.postMessage(null)}}else G=function(){E(O,0)};function H(V,ae){I=E(function(){V(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var ae=3;break;default:ae=y}var ce=y;y=ae;try{return V()}finally{y=ce}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ce=y;y=V;try{return ae()}finally{y=ce}},e.unstable_scheduleCallback=function(V,ae,ce){var le=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?le+ce:le):ce=le,V){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ce+me,V={id:m++,callback:ae,priorityLevel:V,startTime:ce,expirationTime:me,sortIndex:-1},ce>le?(V.sortIndex=ce,t(h,V),n(d)===null&&V===n(h)&&(b?(D(I),I=-1):b=!0,H(q,ce-le))):(V.sortIndex=me,t(d,V),T||g||(T=!0,Z||(Z=!0,G()))),V},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(V){var ae=y;return function(){var ce=y;y=ae;try{return V.apply(this,arguments)}finally{y=ce}}}})(l2)),l2}var Nw;function UC(){return Nw||(Nw=1,o2.exports=BC()),o2.exports}var c2={exports:{}},Mi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function HC(){if(_w)return Mi;_w=1;var e=Fv();function t(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,h,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:h,implementation:m}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mi.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(d,h,null,m)},Mi.flushSync=function(d){var h=l.T,m=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=m,r.d.f()}},Mi.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Mi.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Mi.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:g}):m==="script"&&r.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mi.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Mi.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,v=c(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mi.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Mi.requestFormReset=function(d){r.d.r(d)},Mi.unstable_batchedUpdates=function(d,h){return d(h)},Mi.useFormState=function(d,h,m){return l.H.useFormState(d,h,m)},Mi.useFormStatus=function(){return l.H.useHostTransitionStatus()},Mi.version="19.2.0",Mi}var Tw;function VC(){if(Tw)return c2.exports;Tw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),c2.exports=HC(),c2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw;function GC(){if(Aw)return Xh;Aw=1;var e=UC(),t=Fv(),n=VC();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var o=i,f=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(f=o.return),i=o.return;while(i)}return o.tag===3?f:null}function l(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function c(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(s(i)!==i)throw Error(r(188))}function h(i){var o=i.alternate;if(!o){if(o=s(i),o===null)throw Error(r(188));return o!==i?null:i}for(var f=i,p=o;;){var w=f.return;if(w===null)break;var _=w.alternate;if(_===null){if(p=w.return,p!==null){f=p;continue}break}if(w.child===_.child){for(_=w.child;_;){if(_===f)return d(w),i;if(_===p)return d(w),o;_=_.sibling}throw Error(r(188))}if(f.return!==p.return)f=w,p=_;else{for(var U=!1,oe=w.child;oe;){if(oe===f){U=!0,f=w,p=_;break}if(oe===p){U=!0,p=w,f=_;break}oe=oe.sibling}if(!U){for(oe=_.child;oe;){if(oe===f){U=!0,f=_,p=w;break}if(oe===p){U=!0,p=_,f=w;break}oe=oe.sibling}if(!U)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var K=Symbol.for("react.client.reference");function X(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===K?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case E:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList";case P:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case T:return"Portal";case j:return i.displayName||"Context";case D:return(i._context.displayName||"Context")+".Consumer";case R:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return o=i.displayName||null,o!==null?o:X(i.type)||"Memo";case Y:o=i._payload,i=i._init;try{return X(i(o))}catch{}}return null}var H=Array.isArray,V=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},le=[],me=-1;function M(i){return{current:i}}function N(i){0>me||(i.current=le[me],le[me]=null,me--)}function F(i,o){me++,le[me]=i.current,i.current=o}var L=M(null),B=M(null),te=M(null),de=M(null);function Ne(i,o){switch(F(te,o),F(B,i),F(L,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Ub(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Ub(o),i=Hb(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}N(L),F(L,i)}function se(){N(L),N(B),N(te)}function ve(i){i.memoizedState!==null&&F(de,i);var o=L.current,f=Hb(o,i.type);o!==f&&(F(B,i),F(L,f))}function je(i){B.current===i&&(N(L),N(B)),de.current===i&&(N(de),qh._currentValue=ce)}var ke,Ge;function Te(i){if(ke===void 0)try{throw Error()}catch(f){var o=f.stack.trim().match(/\n( *(at )?)/);ke=o&&o[1]||"",Ge=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ke+i+Ge}var xe=!1;function gt(i,o){if(!i||xe)return"";xe=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(Qe){var Ke=Qe}Reflect.construct(i,[],ut)}else{try{ut.call()}catch(Qe){Ke=Qe}i.call(ut.prototype)}}else{try{throw Error()}catch(Qe){Ke=Qe}(ut=i())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(Qe){if(Qe&&Ke&&typeof Qe.stack=="string")return[Qe.stack,Ke.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=p.DetermineComponentFrameRoot(),U=_[0],oe=_[1];if(U&&oe){var Ee=U.split(`
`),Ye=oe.split(`
`);for(w=p=0;p<Ee.length&&!Ee[p].includes("DetermineComponentFrameRoot");)p++;for(;w<Ye.length&&!Ye[w].includes("DetermineComponentFrameRoot");)w++;if(p===Ee.length||w===Ye.length)for(p=Ee.length-1,w=Ye.length-1;1<=p&&0<=w&&Ee[p]!==Ye[w];)w--;for(;1<=p&&0<=w;p--,w--)if(Ee[p]!==Ye[w]){if(p!==1||w!==1)do if(p--,w--,0>w||Ee[p]!==Ye[w]){var it=`
`+Ee[p].replace(" at new "," at ");return i.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",i.displayName)),it}while(1<=p&&0<=w);break}}}finally{xe=!1,Error.prepareStackTrace=f}return(f=i?i.displayName||i.name:"")?Te(f):""}function Xe(i,o){switch(i.tag){case 26:case 27:case 5:return Te(i.type);case 16:return Te("Lazy");case 13:return i.child!==o&&o!==null?Te("Suspense Fallback"):Te("Suspense");case 19:return Te("SuspenseList");case 0:case 15:return gt(i.type,!1);case 11:return gt(i.type.render,!1);case 1:return gt(i.type,!0);case 31:return Te("Activity");default:return""}}function wt(i){try{var o="",f=null;do o+=Xe(i,f),f=i,i=i.return;while(i);return o}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Ze=Object.prototype.hasOwnProperty,Et=e.unstable_scheduleCallback,St=e.unstable_cancelCallback,Kt=e.unstable_shouldYield,Lt=e.unstable_requestPaint,qt=e.unstable_now,rn=e.unstable_getCurrentPriorityLevel,Wt=e.unstable_ImmediatePriority,cn=e.unstable_UserBlockingPriority,zt=e.unstable_NormalPriority,It=e.unstable_LowPriority,tn=e.unstable_IdlePriority,Ft=e.log,Mn=e.unstable_setDisableYieldValue,Xt=null,Dt=null;function Pt(i){if(typeof Ft=="function"&&Mn(i),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Xt,i)}catch{}}var xn=Math.clz32?Math.clz32:Bt,$t=Math.log,mn=Math.LN2;function Bt(i){return i>>>=0,i===0?32:31-($t(i)/mn|0)|0}var Fn=256,Hn=262144,_n=4194304;function Ut(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qe(i,o,f){var p=i.pendingLanes;if(p===0)return 0;var w=0,_=i.suspendedLanes,U=i.pingedLanes;i=i.warmLanes;var oe=p&134217727;return oe!==0?(p=oe&~_,p!==0?w=Ut(p):(U&=oe,U!==0?w=Ut(U):f||(f=oe&~i,f!==0&&(w=Ut(f))))):(oe=p&~_,oe!==0?w=Ut(oe):U!==0?w=Ut(U):f||(f=p&~i,f!==0&&(w=Ut(f)))),w===0?0:o!==0&&o!==w&&(o&_)===0&&(_=w&-w,f=o&-o,_>=f||_===32&&(f&4194048)!==0)?o:w}function Ie(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function nt(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ln(){var i=_n;return _n<<=1,(_n&62914560)===0&&(_n=4194304),i}function Wn(i){for(var o=[],f=0;31>f;f++)o.push(i);return o}function kt(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function rr(i,o,f,p,w,_){var U=i.pendingLanes;i.pendingLanes=f,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=f,i.entangledLanes&=f,i.errorRecoveryDisabledLanes&=f,i.shellSuspendCounter=0;var oe=i.entanglements,Ee=i.expirationTimes,Ye=i.hiddenUpdates;for(f=U&~f;0<f;){var it=31-xn(f),ut=1<<it;oe[it]=0,Ee[it]=-1;var Ke=Ye[it];if(Ke!==null)for(Ye[it]=null,it=0;it<Ke.length;it++){var Qe=Ke[it];Qe!==null&&(Qe.lane&=-536870913)}f&=~ut}p!==0&&Vn(i,p,0),_!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=_&~(U&~o))}function Vn(i,o,f){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-xn(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|f&261930}function nn(i,o){var f=i.entangledLanes|=o;for(i=i.entanglements;f;){var p=31-xn(f),w=1<<p;w&o|i[p]&o&&(i[p]|=o),f&=~w}}function Sr(i,o){var f=o&-o;return f=(f&42)!==0?1:jn(f),(f&(i.suspendedLanes|o))!==0?0:f}function jn(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ar(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ne(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:fw(i.type))}function ye(i,o){var f=ae.p;try{return ae.p=i,o()}finally{ae.p=f}}var fe=Math.random().toString(36).slice(2),he="__reactFiber$"+fe,ge="__reactProps$"+fe,be="__reactContainer$"+fe,Pe="__reactEvents$"+fe,Je="__reactListeners$"+fe,Ue="__reactHandles$"+fe,Re="__reactResources$"+fe,He="__reactMarker$"+fe;function ht(i){delete i[he],delete i[ge],delete i[Pe],delete i[Je],delete i[Ue]}function yt(i){var o=i[he];if(o)return o;for(var f=i.parentNode;f;){if(o=f[be]||f[he]){if(f=o.alternate,o.child!==null||f!==null&&f.child!==null)for(i=Kb(i);i!==null;){if(f=i[he])return f;i=Kb(i)}return o}i=f,f=i.parentNode}return null}function Tt(i){if(i=i[he]||i[be]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function xt(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Nt(i){var o=i[Re];return o||(o=i[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Mt(i){i[He]=!0}var Qn=new Set,On={};function er(i,o){ga(i,o),ga(i+"Capture",o)}function ga(i,o){for(On[i]=o,i=0;i<o.length;i++)Qn.add(o[i])}var $a=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yi={},ka={};function Li(i){return Ze.call(ka,i)?!0:Ze.call(yi,i)?!1:$a.test(i)?ka[i]=!0:(yi[i]=!0,!1)}function Oe(i,o,f){if(Li(o))if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+f)}}function lt(i,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+f)}}function rt(i,o,f,p){if(p===null)i.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttributeNS(o,f,""+p)}}function wn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function $n(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function qr(i,o,f){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,_=p.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return w.call(this)},set:function(U){f=""+U,_.call(this,U)}}),Object.defineProperty(i,o,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(U){f=""+U},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xa(i){if(!i._valueTracker){var o=$n(i)?"checked":"value";i._valueTracker=qr(i,o,""+i[o])}}function va(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var f=o.getValue(),p="";return i&&(p=$n(i)?i.checked?"true":"false":i.value),i=p,i!==f?(o.setValue(i),!0):!1}function oa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Gn=/[\n"\\]/g;function Ae(i){return i.replace(Gn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ot(i,o,f,p,w,_,U,oe){i.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?i.type=U:i.removeAttribute("type"),o!=null?U==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+wn(o)):i.value!==""+wn(o)&&(i.value=""+wn(o)):U!=="submit"&&U!=="reset"||i.removeAttribute("value"),o!=null?Yn(i,U,wn(o)):f!=null?Yn(i,U,wn(f)):p!=null&&i.removeAttribute("value"),w==null&&_!=null&&(i.defaultChecked=!!_),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),oe!=null&&typeof oe!="function"&&typeof oe!="symbol"&&typeof oe!="boolean"?i.name=""+wn(oe):i.removeAttribute("name")}function vt(i,o,f,p,w,_,U,oe){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||f!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){xa(i);return}f=f!=null?""+wn(f):"",o=o!=null?""+wn(o):f,oe||o===i.value||(i.value=o),i.defaultValue=o}p=p??w,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=oe?i.checked:!!p,i.defaultChecked=!!p,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(i.name=U),xa(i)}function Yn(i,o,f){o==="number"&&oa(i.ownerDocument)===i||i.defaultValue===""+f||(i.defaultValue=""+f)}function la(i,o,f,p){if(i=i.options,o){o={};for(var w=0;w<f.length;w++)o["$"+f[w]]=!0;for(f=0;f<i.length;f++)w=o.hasOwnProperty("$"+i[f].value),i[f].selected!==w&&(i[f].selected=w),w&&p&&(i[f].defaultSelected=!0)}else{for(f=""+wn(f),o=null,w=0;w<i.length;w++){if(i[w].value===f){i[w].selected=!0,p&&(i[w].defaultSelected=!0);return}o!==null||i[w].disabled||(o=i[w])}o!==null&&(o.selected=!0)}}function _s(i,o,f){if(o!=null&&(o=""+wn(o),o!==i.value&&(i.value=o),f==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=f!=null?""+wn(f):""}function Ts(i,o,f,p){if(o==null){if(p!=null){if(f!=null)throw Error(r(92));if(H(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),o=f}f=wn(o),i.defaultValue=f,p=i.textContent,p===f&&p!==""&&p!==null&&(i.value=p),xa(i)}function Kn(i,o){if(o){var f=i.firstChild;if(f&&f===i.lastChild&&f.nodeType===3){f.nodeValue=o;return}}i.textContent=o}var si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function La(i,o,f){var p=o.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,f):typeof f!="number"||f===0||si.has(o)?o==="float"?i.cssFloat=f:i[o]=(""+f).trim():i[o]=f+"px"}function Nr(i,o,f){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var w in o)p=o[w],o.hasOwnProperty(w)&&f[w]!==p&&La(i,w,p)}else for(var _ in o)o.hasOwnProperty(_)&&La(i,_,o[_])}function Tn(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(i){return yo.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Es(){}var bo=null;function Pl(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var pn=null,il=null;function Df(i){var o=Tt(i);if(o&&(i=o.stateNode)){var f=i[ge]||null;e:switch(i=o.stateNode,o.type){case"input":if(Ot(i,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),o=f.name,f.type==="radio"&&o!=null){for(f=i;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ae(""+o)+'"][type="radio"]'),o=0;o<f.length;o++){var p=f[o];if(p!==i&&p.form===i.form){var w=p[ge]||null;if(!w)throw Error(r(90));Ot(p,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<f.length;o++)p=f[o],p.form===i.form&&va(p)}break e;case"textarea":_s(i,f.value,f.defaultValue);break e;case"select":o=f.value,o!=null&&la(i,!!f.multiple,o,!1)}}}var Fu=!1;function kf(i,o,f){if(Fu)return i(o,f);Fu=!0;try{var p=i(o);return p}finally{if(Fu=!1,(pn!==null||il!==null)&&(B1(),pn&&(o=pn,i=il,il=pn=null,Df(o),i)))for(o=0;o<i.length;o++)Df(i[o])}}function qi(i,o){var f=i.stateNode;if(f===null)return null;var p=f[ge]||null;if(p===null)return null;f=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(f&&typeof f!="function")throw Error(r(231,o,typeof f));return f}var Ya=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=!1;if(Ya)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Ou=!1}var Wi=null,Ul=null,$s=null;function Hl(){if($s)return $s;var i,o=Ul,f=o.length,p,w="value"in Wi?Wi.value:Wi.textContent,_=w.length;for(i=0;i<f&&o[i]===w[i];i++);var U=f-i;for(p=1;p<=U&&o[f-p]===w[_-p];p++);return $s=w.slice(i,1<p?1-p:void 0)}function wo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Dc(){return!0}function kc(){return!1}function Pa(i){function o(f,p,w,_,U){this._reactName=f,this._targetInst=w,this.type=p,this.nativeEvent=_,this.target=U,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(f=i[oe],this[oe]=f?f(_):_[oe]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Dc:kc,this.isPropagationStopped=kc,this}return v(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Dc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Dc)},persist:function(){},isPersistent:Dc}),o}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=Pa($i),So=v({},$i,{view:0,detail:0}),Lc=Pa(So),Vl,No,sl,Gl=v({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==sl&&(sl&&i.type==="mousemove"?(Vl=i.screenX-sl.screenX,No=i.screenY-sl.screenY):No=Vl=0,sl=i),Vl)},movementY:function(i){return"movementY"in i?i.movementY:No}}),Ks=Pa(Gl),_o=v({},Gl,{dataTransfer:0}),Lf=Pa(_o),Ff=v({},So,{relatedTarget:0}),To=Pa(Ff),Of=v({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),C=Pa(Of),J=v({},$i,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_e=Pa(J),Ce=v({},$i,{data:0}),Me=Pa(Ce),st={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function an(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Zt[i])?!!o[i]:!1}function yn(){return an}var Cn=v({},So,{key:function(i){if(i.key){var o=st[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=wo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?dt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(i){return i.type==="keypress"?wo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),hr=Pa(Cn),$r=v({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ca=Pa($r),Fr=v({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn}),Fa=Pa(Fr),ya=v({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ka=Pa(ya),rs=v({},Gl,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fi=Pa(rs),Rf=v({},$i,{newState:0,oldState:0}),Fc=Pa(Rf),ql=[9,13,27,32],Xs=Ya&&"CompositionEvent"in window,Cs=null;Ya&&"documentMode"in document&&(Cs=document.documentMode);var Wl=Ya&&"TextEvent"in window&&!Cs,ol=Ya&&(!Xs||Cs&&8<Cs&&11>=Cs),Xa=" ",ll=!1;function cl(i,o){switch(i){case"keyup":return ql.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oc(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zs=!1;function ea(i,o){switch(i){case"compositionend":return Oc(o);case"keypress":return o.which!==32?null:(ll=!0,Xa);case"textInput":return i=o.data,i===Xa&&ll?null:i;default:return null}}function Ao(i,o){if(Zs)return i==="compositionend"||!Xs&&cl(i,o)?(i=Hl(),$s=Ul=Wi=null,Zs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ol&&o.locale!=="ko"?null:o.data;default:return null}}var Rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Rc[i.type]:o==="textarea"}function Yi(i,o,f,p){pn?il?il.push(p):il=[p]:pn=p,o=$1(o,"onChange"),0<o.length&&(f=new Ys("onChange","change",null,f,p),i.push({event:f,listeners:o}))}var js=null,Eo=null;function Mu(i){Rb(i,0)}function Ds(i){var o=xt(i);if(va(o))return i}function ul(i,o){if(i==="change")return o}var Oi=!1;if(Ya){var bi;if(Ya){var Js="oninput"in document;if(!Js){var Qs=document.createElement("div");Qs.setAttribute("oninput","return;"),Js=typeof Qs.oninput=="function"}bi=Js}else bi=!1;Oi=bi&&(!document.documentMode||9<document.documentMode)}function Co(){js&&(js.detachEvent("onpropertychange",Mc),Eo=js=null)}function Mc(i){if(i.propertyName==="value"&&Ds(Eo)){var o=[];Yi(o,Eo,i,Pl(i)),kf(Mu,o)}}function zc(i,o,f){i==="focusin"?(Co(),js=o,Eo=f,js.attachEvent("onpropertychange",Mc)):i==="focusout"&&Co()}function ua(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ds(Eo)}function Mf(i,o){if(i==="click")return Ds(o)}function eo(i,o){if(i==="input"||i==="change")return Ds(o)}function to(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Za=typeof Object.is=="function"?Object.is:to;function jo(i,o){if(Za(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var f=Object.keys(i),p=Object.keys(o);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var w=f[p];if(!Ze.call(o,w)||!Za(i[w],o[w]))return!1}return!0}function Ic(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pc(i,o){var f=Ic(i);i=0;for(var p;f;){if(f.nodeType===3){if(p=i+f.textContent.length,i<=o&&p>=o)return{node:f,offset:o-i};i=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Ic(f)}}function Do(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Do(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ko(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=oa(i.document);o instanceof i.HTMLIFrameElement;){try{var f=typeof o.contentWindow.location.href=="string"}catch{f=!1}if(f)i=o.contentWindow;else break;o=oa(i.document)}return o}function no(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var $l=Ya&&"documentMode"in document&&11>=document.documentMode,Ki=null,Lo=null,oi=null,as=!1;function dr(i,o,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;as||Ki==null||Ki!==oa(p)||(p=Ki,"selectionStart"in p&&no(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),oi&&jo(oi,p)||(oi=p,p=$1(Lo,"onSelect"),0<p.length&&(o=new Ys("onSelect","select",null,o,f),i.push({event:o,listeners:p}),o.target=Ki)))}function ir(i,o){var f={};return f[i.toLowerCase()]=o.toLowerCase(),f["Webkit"+i]="webkit"+o,f["Moz"+i]="moz"+o,f}var Or={animationend:ir("Animation","AnimationEnd"),animationiteration:ir("Animation","AnimationIteration"),animationstart:ir("Animation","AnimationStart"),transitionrun:ir("Transition","TransitionRun"),transitionstart:ir("Transition","TransitionStart"),transitioncancel:ir("Transition","TransitionCancel"),transitionend:ir("Transition","TransitionEnd")},fa={},ro={};Ya&&(ro=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function ks(i){if(fa[i])return fa[i];if(!Or[i])return i;var o=Or[i],f;for(f in o)if(o.hasOwnProperty(f)&&f in ro)return fa[i]=o[f];return i}var Yl=ks("animationend"),zu=ks("animationiteration"),mh=ks("animationstart"),g1=ks("transitionrun"),x1=ks("transitionstart"),v1=ks("transitioncancel"),ph=ks("transitionend"),gh=new Map,Kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kl.push("scrollEnd");function is(i,o){gh.set(i,o),er(o,[i])}var Iu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Xi=[],Xl=0,zf=0;function Pu(){for(var i=Xl,o=zf=Xl=0;o<i;){var f=Xi[o];Xi[o++]=null;var p=Xi[o];Xi[o++]=null;var w=Xi[o];Xi[o++]=null;var _=Xi[o];if(Xi[o++]=null,p!==null&&w!==null){var U=p.pending;U===null?w.next=w:(w.next=U.next,U.next=w),p.pending=w}_!==0&&Uu(f,w,_)}}function Bu(i,o,f,p){Xi[Xl++]=i,Xi[Xl++]=o,Xi[Xl++]=f,Xi[Xl++]=p,zf|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function If(i,o,f,p){return Bu(i,o,f,p),li(i)}function Fo(i,o){return Bu(i,null,null,o),li(i)}function Uu(i,o,f){i.lanes|=f;var p=i.alternate;p!==null&&(p.lanes|=f);for(var w=!1,_=i.return;_!==null;)_.childLanes|=f,p=_.alternate,p!==null&&(p.childLanes|=f),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(w=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,w&&o!==null&&(w=31-xn(f),i=_.hiddenUpdates,p=i[w],p===null?i[w]=[o]:p.push(o),o.lane=f|536870912),_):null}function li(i){if(50<Ih)throw Ih=0,Cg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Ja={};function Pf(i,o,f,p){this.tag=i,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ci(i,o,f,p){return new Pf(i,o,f,p)}function Bf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ss(i,o){var f=i.alternate;return f===null?(f=ci(i.tag,o,i.key,i.mode),f.elementType=i.elementType,f.type=i.type,f.stateNode=i.stateNode,f.alternate=i,i.alternate=f):(f.pendingProps=o,f.type=i.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=i.flags&65011712,f.childLanes=i.childLanes,f.lanes=i.lanes,f.child=i.child,f.memoizedProps=i.memoizedProps,f.memoizedState=i.memoizedState,f.updateQueue=i.updateQueue,o=i.dependencies,f.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},f.sibling=i.sibling,f.index=i.index,f.ref=i.ref,f.refCleanup=i.refCleanup,f}function Hu(i,o){i.flags&=65011714;var f=i.alternate;return f===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=f.childLanes,i.lanes=f.lanes,i.child=f.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=f.memoizedProps,i.memoizedState=f.memoizedState,i.updateQueue=f.updateQueue,i.type=f.type,o=f.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Bc(i,o,f,p,w,_){var U=0;if(p=i,typeof i=="function")Bf(i)&&(U=1);else if(typeof i=="string")U=NC(i,f,L.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case P:return i=ci(31,f,o,w),i.elementType=P,i.lanes=_,i;case b:return fl(f.children,w,_,o);case A:U=8,w|=24;break;case E:return i=ci(12,f,o,w|2),i.elementType=E,i.lanes=_,i;case q:return i=ci(13,f,o,w),i.elementType=q,i.lanes=_,i;case Z:return i=ci(19,f,o,w),i.elementType=Z,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case j:U=10;break e;case D:U=9;break e;case R:U=11;break e;case I:U=14;break e;case Y:U=16,p=null;break e}U=29,f=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=ci(U,f,o,w),o.elementType=i,o.type=p,o.lanes=_,o}function fl(i,o,f,p){return i=ci(7,i,p,o),i.lanes=f,i}function Vu(i,o,f){return i=ci(6,i,null,o),i.lanes=f,i}function Uf(i){var o=ci(18,null,null,0);return o.stateNode=i,o}function Uc(i,o,f){return o=ci(4,i.children!==null?i.children:[],i.key,o),o.lanes=f,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Hf=new WeakMap;function os(i,o){if(typeof i=="object"&&i!==null){var f=Hf.get(i);return f!==void 0?f:(o={value:i,source:o,stack:wt(o)},Hf.set(i,o),o)}return{value:i,source:o,stack:wt(o)}}var Hc=[],Zl=0,Vf=null,Gu=0,ls=[],cs=0,hl=null,us=1,fs="";function Zi(i,o){Hc[Zl++]=Gu,Hc[Zl++]=Vf,Vf=i,Gu=o}function y1(i,o,f){ls[cs++]=us,ls[cs++]=fs,ls[cs++]=hl,hl=i;var p=us;i=fs;var w=32-xn(p)-1;p&=~(1<<w),f+=1;var _=32-xn(o)+w;if(30<_){var U=w-w%5;_=(p&(1<<U)-1).toString(32),p>>=U,w-=U,us=1<<32-xn(o)+w|f<<w|p,fs=_+i}else us=1<<_|f<<w|p,fs=i}function xh(i){i.return!==null&&(Zi(i,1),y1(i,1,0))}function Gf(i){for(;i===Vf;)Vf=Hc[--Zl],Hc[Zl]=null,Gu=Hc[--Zl],Hc[Zl]=null;for(;i===hl;)hl=ls[--cs],ls[cs]=null,fs=ls[--cs],ls[cs]=null,us=ls[--cs],ls[cs]=null}function b1(i,o){ls[cs++]=us,ls[cs++]=fs,ls[cs++]=hl,us=o.id,fs=o.overflow,hl=i}var Qa=null,Ur=null,Xn=!1,wi=null,ta=!1,Ls=Error(r(519));function dl(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vc(os(o,i)),Ls}function vh(i){var o=i.stateNode,f=i.type,p=i.memoizedProps;switch(o[he]=i,o[ge]=p,f){case"dialog":Jn("cancel",o),Jn("close",o);break;case"iframe":case"object":case"embed":Jn("load",o);break;case"video":case"audio":for(f=0;f<Bh.length;f++)Jn(Bh[f],o);break;case"source":Jn("error",o);break;case"img":case"image":case"link":Jn("error",o),Jn("load",o);break;case"details":Jn("toggle",o);break;case"input":Jn("invalid",o),vt(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Jn("invalid",o);break;case"textarea":Jn("invalid",o),Ts(o,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||o.textContent===""+f||p.suppressHydrationWarning===!0||Pb(o.textContent,f)?(p.popover!=null&&(Jn("beforetoggle",o),Jn("toggle",o)),p.onScroll!=null&&Jn("scroll",o),p.onScrollEnd!=null&&Jn("scrollend",o),p.onClick!=null&&(o.onclick=Es),o=!0):o=!1,o||dl(i,!0)}function Oo(i){for(Qa=i.return;Qa;)switch(Qa.tag){case 5:case 31:case 13:ta=!1;return;case 27:case 3:ta=!0;return;default:Qa=Qa.return}}function ei(i){if(i!==Qa)return!1;if(!Xn)return Oo(i),Xn=!0,!1;var o=i.tag,f;if((f=o!==3&&o!==27)&&((f=o===5)&&(f=i.type,f=!(f!=="form"&&f!=="button")||Vg(i.type,i.memoizedProps)),f=!f),f&&Ur&&dl(i),Oo(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ur=Yb(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Ur=Yb(i)}else o===27?(o=Ur,ru(i.type)?(i=Yg,Yg=null,Ur=i):Ur=o):Ur=Qa?oo(i.stateNode.nextSibling):null;return!0}function Jl(){Ur=Qa=null,Xn=!1}function yh(){var i=wi;return i!==null&&(xs===null?xs=i:xs.push.apply(xs,i),wi=null),i}function Vc(i){wi===null?wi=[i]:wi.push(i)}var qf=M(null),ml=null,ao=null;function pl(i,o,f){F(qf,o._currentValue),o._currentValue=f}function hs(i){i._currentValue=qf.current,N(qf)}function Gc(i,o,f){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===f)break;i=i.return}}function Ql(i,o,f,p){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var _=w.dependencies;if(_!==null){var U=w.child;_=_.firstContext;e:for(;_!==null;){var oe=_;_=w;for(var Ee=0;Ee<o.length;Ee++)if(oe.context===o[Ee]){_.lanes|=f,oe=_.alternate,oe!==null&&(oe.lanes|=f),Gc(_.return,f,i),p||(U=null);break e}_=oe.next}}else if(w.tag===18){if(U=w.return,U===null)throw Error(r(341));U.lanes|=f,_=U.alternate,_!==null&&(_.lanes|=f),Gc(U,f,i),U=null}else U=w.child;if(U!==null)U.return=w;else for(U=w;U!==null;){if(U===i){U=null;break}if(w=U.sibling,w!==null){w.return=U.return,U=w;break}U=U.return}w=U}}function gl(i,o,f,p){i=null;for(var w=o,_=!1;w!==null;){if(!_){if((w.flags&524288)!==0)_=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var U=w.alternate;if(U===null)throw Error(r(387));if(U=U.memoizedProps,U!==null){var oe=w.type;Za(w.pendingProps.value,U.value)||(i!==null?i.push(oe):i=[oe])}}else if(w===de.current){if(U=w.alternate,U===null)throw Error(r(387));U.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(qh):i=[qh])}w=w.return}i!==null&&Ql(o,i,f,p),o.flags|=262144}function Wf(i){for(i=i.firstContext;i!==null;){if(!Za(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xl(i){ml=i,ao=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ti(i){return w1(ml,i)}function $f(i,o){return ml===null&&xl(i),w1(i,o)}function w1(i,o){var f=o._currentValue;if(o={context:o,memoizedValue:f,next:null},ao===null){if(i===null)throw Error(r(308));ao=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ao=ao.next=o;return f}var $p=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(f,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(f){return f()})}},Yp=e.unstable_scheduleCallback,Kp=e.unstable_NormalPriority,ha={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qc(){return{controller:new $p,data:new Map,refCount:0}}function qu(i){i.refCount--,i.refCount===0&&Yp(Kp,function(){i.controller.abort()})}var Wu=null,Yf=0,x=0,S=null;function k(i,o){if(Wu===null){var f=Wu=[];Yf=0,x=Og(),S={status:"pending",value:void 0,then:function(p){f.push(p)}}}return Yf++,o.then(z,z),o}function z(){if(--Yf===0&&Wu!==null){S!==null&&(S.status="fulfilled");var i=Wu;Wu=null,x=0,S=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function ee(i,o){var f=[],p={status:"pending",value:null,reason:null,then:function(w){f.push(w)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var w=0;w<f.length;w++)(0,f[w])(o)},function(w){for(p.status="rejected",p.reason=w,w=0;w<f.length;w++)(0,f[w])(void 0)}),p}var re=V.S;V.S=function(i,o){cb=qt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&k(i,o),re!==null&&re(i,o)};var ie=M(null);function ue(){var i=ie.current;return i!==null?i:Vr.pooledCache}function pe(i,o){o===null?F(ie,ie.current):F(ie,o.pool)}function Se(){var i=ue();return i===null?null:{parent:ha._currentValue,pool:i}}var De=Error(r(460)),We=Error(r(474)),we=Error(r(542)),Fe={then:function(){}};function Be(i){return i=i.status,i==="fulfilled"||i==="rejected"}function tt(i,o,f){switch(f=i[f],f===void 0?i.push(o):f!==o&&(o.then(Es,Es),o=f),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,bt(i),i;default:if(typeof o.status=="string")o.then(Es,Es);else{if(i=Vr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=p}},function(p){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,bt(i),i}throw et=o,De}}function Ve(i){try{var o=i._init;return o(i._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(et=f,De):f}}var et=null;function ot(){if(et===null)throw Error(r(459));var i=et;return et=null,i}function bt(i){if(i===De||i===we)throw Error(r(483))}var ft=null,Qt=0;function Ht(i){var o=Qt;return Qt+=1,ft===null&&(ft=[]),tt(ft,i,o)}function An(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Yt(i,o){throw o.$$typeof===y?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function qn(i){function o(ze,Le){if(i){var $e=ze.deletions;$e===null?(ze.deletions=[Le],ze.flags|=16):$e.push(Le)}}function f(ze,Le){if(!i)return null;for(;Le!==null;)o(ze,Le),Le=Le.sibling;return null}function p(ze){for(var Le=new Map;ze!==null;)ze.key!==null?Le.set(ze.key,ze):Le.set(ze.index,ze),ze=ze.sibling;return Le}function w(ze,Le){return ze=ss(ze,Le),ze.index=0,ze.sibling=null,ze}function _(ze,Le,$e){return ze.index=$e,i?($e=ze.alternate,$e!==null?($e=$e.index,$e<Le?(ze.flags|=67108866,Le):$e):(ze.flags|=67108866,Le)):(ze.flags|=1048576,Le)}function U(ze){return i&&ze.alternate===null&&(ze.flags|=67108866),ze}function oe(ze,Le,$e,ct){return Le===null||Le.tag!==6?(Le=Vu($e,ze.mode,ct),Le.return=ze,Le):(Le=w(Le,$e),Le.return=ze,Le)}function Ee(ze,Le,$e,ct){var dn=$e.type;return dn===b?it(ze,Le,$e.props.children,ct,$e.key):Le!==null&&(Le.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===Y&&Ve(dn)===Le.type)?(Le=w(Le,$e.props),An(Le,$e),Le.return=ze,Le):(Le=Bc($e.type,$e.key,$e.props,null,ze.mode,ct),An(Le,$e),Le.return=ze,Le)}function Ye(ze,Le,$e,ct){return Le===null||Le.tag!==4||Le.stateNode.containerInfo!==$e.containerInfo||Le.stateNode.implementation!==$e.implementation?(Le=Uc($e,ze.mode,ct),Le.return=ze,Le):(Le=w(Le,$e.children||[]),Le.return=ze,Le)}function it(ze,Le,$e,ct,dn){return Le===null||Le.tag!==7?(Le=fl($e,ze.mode,ct,dn),Le.return=ze,Le):(Le=w(Le,$e),Le.return=ze,Le)}function ut(ze,Le,$e){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Le=Vu(""+Le,ze.mode,$e),Le.return=ze,Le;if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return $e=Bc(Le.type,Le.key,Le.props,null,ze.mode,$e),An($e,Le),$e.return=ze,$e;case T:return Le=Uc(Le,ze.mode,$e),Le.return=ze,Le;case Y:return Le=Ve(Le),ut(ze,Le,$e)}if(H(Le)||G(Le))return Le=fl(Le,ze.mode,$e,null),Le.return=ze,Le;if(typeof Le.then=="function")return ut(ze,Ht(Le),$e);if(Le.$$typeof===j)return ut(ze,$f(ze,Le),$e);Yt(ze,Le)}return null}function Ke(ze,Le,$e,ct){var dn=Le!==null?Le.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint")return dn!==null?null:oe(ze,Le,""+$e,ct);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case g:return $e.key===dn?Ee(ze,Le,$e,ct):null;case T:return $e.key===dn?Ye(ze,Le,$e,ct):null;case Y:return $e=Ve($e),Ke(ze,Le,$e,ct)}if(H($e)||G($e))return dn!==null?null:it(ze,Le,$e,ct,null);if(typeof $e.then=="function")return Ke(ze,Le,Ht($e),ct);if($e.$$typeof===j)return Ke(ze,Le,$f(ze,$e),ct);Yt(ze,$e)}return null}function Qe(ze,Le,$e,ct,dn){if(typeof ct=="string"&&ct!==""||typeof ct=="number"||typeof ct=="bigint")return ze=ze.get($e)||null,oe(Le,ze,""+ct,dn);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case g:return ze=ze.get(ct.key===null?$e:ct.key)||null,Ee(Le,ze,ct,dn);case T:return ze=ze.get(ct.key===null?$e:ct.key)||null,Ye(Le,ze,ct,dn);case Y:return ct=Ve(ct),Qe(ze,Le,$e,ct,dn)}if(H(ct)||G(ct))return ze=ze.get($e)||null,it(Le,ze,ct,dn,null);if(typeof ct.then=="function")return Qe(ze,Le,$e,Ht(ct),dn);if(ct.$$typeof===j)return Qe(ze,Le,$e,$f(Le,ct),dn);Yt(Le,ct)}return null}function Jt(ze,Le,$e,ct){for(var dn=null,pr=null,sn=Le,In=Le=0,nr=null;sn!==null&&In<$e.length;In++){sn.index>In?(nr=sn,sn=null):nr=sn.sibling;var gr=Ke(ze,sn,$e[In],ct);if(gr===null){sn===null&&(sn=nr);break}i&&sn&&gr.alternate===null&&o(ze,sn),Le=_(gr,Le,In),pr===null?dn=gr:pr.sibling=gr,pr=gr,sn=nr}if(In===$e.length)return f(ze,sn),Xn&&Zi(ze,In),dn;if(sn===null){for(;In<$e.length;In++)sn=ut(ze,$e[In],ct),sn!==null&&(Le=_(sn,Le,In),pr===null?dn=sn:pr.sibling=sn,pr=sn);return Xn&&Zi(ze,In),dn}for(sn=p(sn);In<$e.length;In++)nr=Qe(sn,ze,In,$e[In],ct),nr!==null&&(i&&nr.alternate!==null&&sn.delete(nr.key===null?In:nr.key),Le=_(nr,Le,In),pr===null?dn=nr:pr.sibling=nr,pr=nr);return i&&sn.forEach(function(lu){return o(ze,lu)}),Xn&&Zi(ze,In),dn}function vn(ze,Le,$e,ct){if($e==null)throw Error(r(151));for(var dn=null,pr=null,sn=Le,In=Le=0,nr=null,gr=$e.next();sn!==null&&!gr.done;In++,gr=$e.next()){sn.index>In?(nr=sn,sn=null):nr=sn.sibling;var lu=Ke(ze,sn,gr.value,ct);if(lu===null){sn===null&&(sn=nr);break}i&&sn&&lu.alternate===null&&o(ze,sn),Le=_(lu,Le,In),pr===null?dn=lu:pr.sibling=lu,pr=lu,sn=nr}if(gr.done)return f(ze,sn),Xn&&Zi(ze,In),dn;if(sn===null){for(;!gr.done;In++,gr=$e.next())gr=ut(ze,gr.value,ct),gr!==null&&(Le=_(gr,Le,In),pr===null?dn=gr:pr.sibling=gr,pr=gr);return Xn&&Zi(ze,In),dn}for(sn=p(sn);!gr.done;In++,gr=$e.next())gr=Qe(sn,ze,In,gr.value,ct),gr!==null&&(i&&gr.alternate!==null&&sn.delete(gr.key===null?In:gr.key),Le=_(gr,Le,In),pr===null?dn=gr:pr.sibling=gr,pr=gr);return i&&sn.forEach(function(OC){return o(ze,OC)}),Xn&&Zi(ze,In),dn}function Ir(ze,Le,$e,ct){if(typeof $e=="object"&&$e!==null&&$e.type===b&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case g:e:{for(var dn=$e.key;Le!==null;){if(Le.key===dn){if(dn=$e.type,dn===b){if(Le.tag===7){f(ze,Le.sibling),ct=w(Le,$e.props.children),ct.return=ze,ze=ct;break e}}else if(Le.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===Y&&Ve(dn)===Le.type){f(ze,Le.sibling),ct=w(Le,$e.props),An(ct,$e),ct.return=ze,ze=ct;break e}f(ze,Le);break}else o(ze,Le);Le=Le.sibling}$e.type===b?(ct=fl($e.props.children,ze.mode,ct,$e.key),ct.return=ze,ze=ct):(ct=Bc($e.type,$e.key,$e.props,null,ze.mode,ct),An(ct,$e),ct.return=ze,ze=ct)}return U(ze);case T:e:{for(dn=$e.key;Le!==null;){if(Le.key===dn)if(Le.tag===4&&Le.stateNode.containerInfo===$e.containerInfo&&Le.stateNode.implementation===$e.implementation){f(ze,Le.sibling),ct=w(Le,$e.children||[]),ct.return=ze,ze=ct;break e}else{f(ze,Le);break}else o(ze,Le);Le=Le.sibling}ct=Uc($e,ze.mode,ct),ct.return=ze,ze=ct}return U(ze);case Y:return $e=Ve($e),Ir(ze,Le,$e,ct)}if(H($e))return Jt(ze,Le,$e,ct);if(G($e)){if(dn=G($e),typeof dn!="function")throw Error(r(150));return $e=dn.call($e),vn(ze,Le,$e,ct)}if(typeof $e.then=="function")return Ir(ze,Le,Ht($e),ct);if($e.$$typeof===j)return Ir(ze,Le,$f(ze,$e),ct);Yt(ze,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"||typeof $e=="bigint"?($e=""+$e,Le!==null&&Le.tag===6?(f(ze,Le.sibling),ct=w(Le,$e),ct.return=ze,ze=ct):(f(ze,Le),ct=Vu($e,ze.mode,ct),ct.return=ze,ze=ct),U(ze)):f(ze,Le)}return function(ze,Le,$e,ct){try{Qt=0;var dn=Ir(ze,Le,$e,ct);return ft=null,dn}catch(sn){if(sn===De||sn===we)throw sn;var pr=ci(29,sn,null,ze.mode);return pr.lanes=ct,pr.return=ze,pr}finally{}}}var Hr=qn(!0),Dn=qn(!1),Vt=!1;function jt(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yr(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function gn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Rn(i,o,f){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(br&2)!==0){var w=p.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),p.pending=o,o=li(i),Uu(i,null,f),o}return Bu(i,p,o,f),li(i)}function vr(i,o,f){if(o=o.updateQueue,o!==null&&(o=o.shared,(f&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,f|=p,o.lanes=f,nn(i,f)}}function Oa(i,o){var f=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var w=null,_=null;if(f=f.firstBaseUpdate,f!==null){do{var U={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};_===null?w=_=U:_=_.next=U,f=f.next}while(f!==null);_===null?w=_=o:_=_.next=o}else w=_=o;f={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:_,shared:p.shared,callbacks:p.callbacks},i.updateQueue=f;return}i=f.lastBaseUpdate,i===null?f.firstBaseUpdate=o:i.next=o,f.lastBaseUpdate=o}var ni=!1;function Rr(){if(ni){var i=S;if(i!==null)throw i}}function ba(i,o,f,p){ni=!1;var w=i.updateQueue;Vt=!1;var _=w.firstBaseUpdate,U=w.lastBaseUpdate,oe=w.shared.pending;if(oe!==null){w.shared.pending=null;var Ee=oe,Ye=Ee.next;Ee.next=null,U===null?_=Ye:U.next=Ye,U=Ee;var it=i.alternate;it!==null&&(it=it.updateQueue,oe=it.lastBaseUpdate,oe!==U&&(oe===null?it.firstBaseUpdate=Ye:oe.next=Ye,it.lastBaseUpdate=Ee))}if(_!==null){var ut=w.baseState;U=0,it=Ye=Ee=null,oe=_;do{var Ke=oe.lane&-536870913,Qe=Ke!==oe.lane;if(Qe?(tr&Ke)===Ke:(p&Ke)===Ke){Ke!==0&&Ke===x&&(ni=!0),it!==null&&(it=it.next={lane:0,tag:oe.tag,payload:oe.payload,callback:null,next:null});e:{var Jt=i,vn=oe;Ke=o;var Ir=f;switch(vn.tag){case 1:if(Jt=vn.payload,typeof Jt=="function"){ut=Jt.call(Ir,ut,Ke);break e}ut=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=vn.payload,Ke=typeof Jt=="function"?Jt.call(Ir,ut,Ke):Jt,Ke==null)break e;ut=v({},ut,Ke);break e;case 2:Vt=!0}}Ke=oe.callback,Ke!==null&&(i.flags|=64,Qe&&(i.flags|=8192),Qe=w.callbacks,Qe===null?w.callbacks=[Ke]:Qe.push(Ke))}else Qe={lane:Ke,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},it===null?(Ye=it=Qe,Ee=ut):it=it.next=Qe,U|=Ke;if(oe=oe.next,oe===null){if(oe=w.shared.pending,oe===null)break;Qe=oe,oe=Qe.next,Qe.next=null,w.lastBaseUpdate=Qe,w.shared.pending=null}}while(!0);it===null&&(Ee=ut),w.baseState=Ee,w.firstBaseUpdate=Ye,w.lastBaseUpdate=it,_===null&&(w.shared.lanes=0),Jc|=U,i.lanes=U,i.memoizedState=ut}}function ui(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function wa(i,o){var f=i.callbacks;if(f!==null)for(i.callbacks=null,i=0;i<f.length;i++)ui(f[i],o)}var Pn=M(null),or=M(0);function Kr(i,o){i=cc,F(or,i),F(Pn,o),cc=i|o.baseLanes}function mr(){F(or,cc),F(Pn,Pn.current)}function Ra(){cc=or.current,N(Pn),N(or)}var Xr=M(null),lr=null;function da(i){var o=i.alternate;F(sr,sr.current&1),F(Xr,i),lr===null&&(o===null||Pn.current!==null||o.memoizedState!==null)&&(lr=i)}function yr(i){F(sr,sr.current),F(Xr,i),lr===null&&(lr=i)}function Sa(i){i.tag===22?(F(sr,sr.current),F(Xr,i),lr===null&&(lr=i)):Na()}function Na(){F(sr,sr.current),F(Xr,Xr.current)}function _r(i){N(Xr),lr===i&&(lr=null),N(sr)}var sr=M(0);function fi(i){for(var o=i;o!==null;){if(o.tag===13){var f=o.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Wg(f)||$g(f)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var na=0,fn=null,hn=null,cr=null,Ri=!1,ds=!1,Si=!1,_a=0,vl=0,yl=null,Kf=0;function Mr(){throw Error(r(321))}function bh(i,o){if(o===null)return!1;for(var f=0;f<o.length&&f<i.length;f++)if(!Za(i[f],o[f]))return!1;return!0}function wh(i,o,f,p,w,_){return na=_,fn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,V.H=i===null||i.memoizedState===null?by:rg,Si=!1,_=f(p,w),Si=!1,ds&&(_=Ro(o,f,p,w)),Xf(i),_}function Xf(i){V.H=jh;var o=hn!==null&&hn.next!==null;if(na=0,cr=hn=fn=null,Ri=!1,vl=0,yl=null,o)throw Error(r(300));i===null||Ua||(i=i.dependencies,i!==null&&Wf(i)&&(Ua=!0))}function Ro(i,o,f,p){fn=i;var w=0;do{if(ds&&(yl=null),vl=0,ds=!1,25<=w)throw Error(r(301));if(w+=1,cr=hn=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}V.H=wy,_=o(f,p)}while(ds);return _}function Xp(){var i=V.H,o=i.useState()[0];return o=typeof o.then=="function"?bl(o):o,i=i.useState()[0],(hn!==null?hn.memoizedState:null)!==i&&(fn.flags|=1024),o}function Sh(){var i=_a!==0;return _a=0,i}function Nh(i,o,f){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~f}function Zf(i){if(Ri){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ri=!1}na=0,cr=hn=fn=null,ds=!1,vl=_a=0,yl=null}function Ba(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cr===null?fn.memoizedState=cr=i:cr=cr.next=i,cr}function ra(){if(hn===null){var i=fn.alternate;i=i!==null?i.memoizedState:null}else i=hn.next;var o=cr===null?fn.memoizedState:cr.next;if(o!==null)cr=o,hn=i;else{if(i===null)throw fn.alternate===null?Error(r(467)):Error(r(310));hn=i,i={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},cr===null?fn.memoizedState=cr=i:cr=cr.next=i}return cr}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(i){var o=vl;return vl+=1,yl===null&&(yl=[]),i=tt(yl,i,o),o=fn,(cr===null?o.memoizedState:cr.next)===null&&(o=o.alternate,V.H=o===null||o.memoizedState===null?by:rg),i}function Wc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bl(i);if(i.$$typeof===j)return ti(i)}throw Error(r(438,String(i)))}function ec(i){var o=null,f=fn.updateQueue;if(f!==null&&(o=f.memoCache),o==null){var p=fn.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),f===null&&(f=$u(),fn.updateQueue=f),f.memoCache=o,f=o.data[o.index],f===void 0)for(f=o.data[o.index]=Array(i),p=0;p<i;p++)f[p]=Q;return o.index++,f}function io(i,o){return typeof o=="function"?o(i):o}function Jf(i){var o=ra();return $c(o,hn,i)}function $c(i,o,f){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var w=i.baseQueue,_=p.pending;if(_!==null){if(w!==null){var U=w.next;w.next=_.next,_.next=U}o.baseQueue=w=_,p.pending=null}if(_=i.baseState,w===null)i.memoizedState=_;else{o=w.next;var oe=U=null,Ee=null,Ye=o,it=!1;do{var ut=Ye.lane&-536870913;if(ut!==Ye.lane?(tr&ut)===ut:(na&ut)===ut){var Ke=Ye.revertLane;if(Ke===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,gesture:null,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null}),ut===x&&(it=!0);else if((na&Ke)===Ke){Ye=Ye.next,Ke===x&&(it=!0);continue}else ut={lane:0,revertLane:Ye.revertLane,gesture:null,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Ee===null?(oe=Ee=ut,U=_):Ee=Ee.next=ut,fn.lanes|=Ke,Jc|=Ke;ut=Ye.action,Si&&f(_,ut),_=Ye.hasEagerState?Ye.eagerState:f(_,ut)}else Ke={lane:ut,revertLane:Ye.revertLane,gesture:Ye.gesture,action:Ye.action,hasEagerState:Ye.hasEagerState,eagerState:Ye.eagerState,next:null},Ee===null?(oe=Ee=Ke,U=_):Ee=Ee.next=Ke,fn.lanes|=ut,Jc|=ut;Ye=Ye.next}while(Ye!==null&&Ye!==o);if(Ee===null?U=_:Ee.next=oe,!Za(_,i.memoizedState)&&(Ua=!0,it&&(f=S,f!==null)))throw f;i.memoizedState=_,i.baseState=U,i.baseQueue=Ee,p.lastRenderedState=_}return w===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Qf(i){var o=ra(),f=o.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=i;var p=f.dispatch,w=f.pending,_=o.memoizedState;if(w!==null){f.pending=null;var U=w=w.next;do _=i(_,U.action),U=U.next;while(U!==w);Za(_,o.memoizedState)||(Ua=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),f.lastRenderedState=_}return[_,p]}function e0(i,o,f){var p=fn,w=ra(),_=Xn;if(_){if(f===void 0)throw Error(r(407));f=f()}else f=o();var U=!Za((hn||w).memoizedState,f);if(U&&(w.memoizedState=f,Ua=!0),w=w.queue,Zp(Th.bind(null,p,w,i),[i]),w.getSnapshot!==o||U||cr!==null&&cr.memoizedState.tag&1){if(p.flags|=2048,nc(9,{destroy:void 0},_h.bind(null,p,w,f,o),null),Vr===null)throw Error(r(349));_||(na&127)!==0||Mo(p,o,f)}return f}function Mo(i,o,f){i.flags|=16384,i={getSnapshot:o,value:f},o=fn.updateQueue,o===null?(o=$u(),fn.updateQueue=o,o.stores=[i]):(f=o.stores,f===null?o.stores=[i]:f.push(i))}function _h(i,o,f,p){o.value=f,o.getSnapshot=p,S1(o)&&Ah(i)}function Th(i,o,f){return f(function(){S1(o)&&Ah(i)})}function S1(i){var o=i.getSnapshot;i=i.value;try{var f=o();return!Za(i,f)}catch{return!0}}function Ah(i){var o=Fo(i,2);o!==null&&vs(o,i,2)}function wl(i){var o=Ba();if(typeof i=="function"){var f=i;if(i=f(),Si){Pt(!0);try{f()}finally{Pt(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:i},o}function N1(i,o,f,p){return i.baseState=f,$c(i,hn,typeof p=="function"?p:io)}function _1(i,o,f,p,w){if(C1(i))throw Error(r(485));if(i=o.action,i!==null){var _={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){_.listeners.push(U)}};V.T!==null?f(!0):_.isTransition=!1,p(_),f=o.pending,f===null?(_.next=o.pending=_,T1(o,_)):(_.next=f.next,o.pending=f.next=_)}}function T1(i,o){var f=o.action,p=o.payload,w=i.state;if(o.isTransition){var _=V.T,U={};V.T=U;try{var oe=f(w,p),Ee=V.S;Ee!==null&&Ee(U,oe),Eh(i,o,oe)}catch(Ye){tc(i,o,Ye)}finally{_!==null&&U.types!==null&&(_.types=U.types),V.T=_}}else try{_=f(w,p),Eh(i,o,_)}catch(Ye){tc(i,o,Ye)}}function Eh(i,o,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){A1(i,o,p)},function(p){return tc(i,o,p)}):A1(i,o,f)}function A1(i,o,f){o.status="fulfilled",o.value=f,t0(o),i.state=f,o=i.pending,o!==null&&(f=o.next,f===o?i.pending=null:(f=f.next,o.next=f,T1(i,f)))}function tc(i,o,f){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=f,t0(o),o=o.next;while(o!==p)}i.action=null}function t0(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Yu(i,o){return o}function so(i,o){if(Xn){var f=Vr.formState;if(f!==null){e:{var p=fn;if(Xn){if(Ur){t:{for(var w=Ur,_=ta;w.nodeType!==8;){if(!_){w=null;break t}if(w=oo(w.nextSibling),w===null){w=null;break t}}_=w.data,w=_==="F!"||_==="F"?w:null}if(w){Ur=oo(w.nextSibling),p=w.data==="F!";break e}}dl(p)}p=!1}p&&(o=f[0])}}return f=Ba(),f.memoizedState=f.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:o},f.queue=p,f=xy.bind(null,fn,p),p.dispatch=f,p=wl(!1),_=ng.bind(null,fn,!1,p.queue),p=Ba(),w={state:o,dispatch:null,action:i,pending:null},p.queue=w,f=_1.bind(null,fn,w,_,f),w.dispatch=f,p.memoizedState=i,[o,f,!1]}function zo(i){var o=ra();return Io(o,hn,i)}function Io(i,o,f){if(o=$c(i,o,Yu)[0],i=Jf(io)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=bl(o)}catch(U){throw U===De?we:U}else p=o;o=ra();var w=o.queue,_=w.dispatch;return f!==o.memoizedState&&(fn.flags|=2048,nc(9,{destroy:void 0},n0.bind(null,w,f),null)),[p,_,i]}function n0(i,o){i.action=o}function r0(i){var o=ra(),f=hn;if(f!==null)return Io(o,f,i);ra(),o=o.memoizedState,f=ra();var p=f.queue.dispatch;return f.memoizedState=i,[o,p,!1]}function nc(i,o,f,p){return i={tag:i,create:f,deps:p,inst:o,next:null},o=fn.updateQueue,o===null&&(o=$u(),fn.updateQueue=o),f=o.lastEffect,f===null?o.lastEffect=i.next=i:(p=f.next,f.next=i,i.next=p,o.lastEffect=i),i}function E1(){return ra().memoizedState}function Yc(i,o,f,p){var w=Ba();fn.flags|=i,w.memoizedState=nc(1|o,{destroy:void 0},f,p===void 0?null:p)}function Kc(i,o,f,p){var w=ra();p=p===void 0?null:p;var _=w.memoizedState.inst;hn!==null&&p!==null&&bh(p,hn.memoizedState.deps)?w.memoizedState=nc(o,_,f,p):(fn.flags|=i,w.memoizedState=nc(1|o,_,f,p))}function ry(i,o){Yc(8390656,8,i,o)}function Zp(i,o){Kc(2048,8,i,o)}function CE(i){fn.flags|=4;var o=fn.updateQueue;if(o===null)o=$u(),fn.updateQueue=o,o.events=[i];else{var f=o.events;f===null?o.events=[i]:f.push(i)}}function ay(i){var o=ra().memoizedState;return CE({ref:o,nextImpl:i}),function(){if((br&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function iy(i,o){return Kc(4,2,i,o)}function sy(i,o){return Kc(4,4,i,o)}function oy(i,o){if(typeof o=="function"){i=i();var f=o(i);return function(){typeof f=="function"?f():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function ly(i,o,f){f=f!=null?f.concat([i]):null,Kc(4,4,oy.bind(null,o,i),f)}function Jp(){}function cy(i,o){var f=ra();o=o===void 0?null:o;var p=f.memoizedState;return o!==null&&bh(o,p[1])?p[0]:(f.memoizedState=[i,o],i)}function uy(i,o){var f=ra();o=o===void 0?null:o;var p=f.memoizedState;if(o!==null&&bh(o,p[1]))return p[0];if(p=i(),Si){Pt(!0);try{i()}finally{Pt(!1)}}return f.memoizedState=[p,o],p}function Qp(i,o,f){return f===void 0||(na&1073741824)!==0&&(tr&261930)===0?i.memoizedState=o:(i.memoizedState=f,i=fb(),fn.lanes|=i,Jc|=i,f)}function fy(i,o,f,p){return Za(f,o)?f:Pn.current!==null?(i=Qp(i,f,p),Za(i,o)||(Ua=!0),i):(na&42)===0||(na&1073741824)!==0&&(tr&261930)===0?(Ua=!0,i.memoizedState=f):(i=fb(),fn.lanes|=i,Jc|=i,o)}function hy(i,o,f,p,w){var _=ae.p;ae.p=_!==0&&8>_?_:8;var U=V.T,oe={};V.T=oe,ng(i,!1,o,f);try{var Ee=w(),Ye=V.S;if(Ye!==null&&Ye(oe,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var it=ee(Ee,p);Ch(i,o,it,Rs(i))}else Ch(i,o,p,Rs(i))}catch(ut){Ch(i,o,{then:function(){},status:"rejected",reason:ut},Rs())}finally{ae.p=_,U!==null&&oe.types!==null&&(U.types=oe.types),V.T=U}}function jE(){}function eg(i,o,f,p){if(i.tag!==5)throw Error(r(476));var w=dy(i).queue;hy(i,w,o,ce,f===null?jE:function(){return my(i),f(p)})}function dy(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:ce},next:null};var f={};return o.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:f},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function my(i){var o=dy(i);o.next===null&&(o=i.alternate.memoizedState),Ch(i,o.next.queue,{},Rs())}function tg(){return ti(qh)}function py(){return ra().memoizedState}function gy(){return ra().memoizedState}function DE(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var f=Rs();i=gn(f);var p=Rn(o,i,f);p!==null&&(vs(p,o,f),vr(p,o,f)),o={cache:qc()},i.payload=o;return}o=o.return}}function kE(i,o,f){var p=Rs();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},C1(i)?vy(o,f):(f=If(i,o,f,p),f!==null&&(vs(f,i,p),yy(f,o,p)))}function xy(i,o,f){var p=Rs();Ch(i,o,f,p)}function Ch(i,o,f,p){var w={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(C1(i))vy(o,w);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var U=o.lastRenderedState,oe=_(U,f);if(w.hasEagerState=!0,w.eagerState=oe,Za(oe,U))return Bu(i,o,w,0),Vr===null&&Pu(),!1}catch{}finally{}if(f=If(i,o,w,p),f!==null)return vs(f,i,p),yy(f,o,p),!0}return!1}function ng(i,o,f,p){if(p={lane:2,revertLane:Og(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},C1(i)){if(o)throw Error(r(479))}else o=If(i,f,p,2),o!==null&&vs(o,i,2)}function C1(i){var o=i.alternate;return i===fn||o!==null&&o===fn}function vy(i,o){ds=Ri=!0;var f=i.pending;f===null?o.next=o:(o.next=f.next,f.next=o),i.pending=o}function yy(i,o,f){if((f&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,f|=p,o.lanes=f,nn(i,f)}}var jh={readContext:ti,use:Wc,useCallback:Mr,useContext:Mr,useEffect:Mr,useImperativeHandle:Mr,useLayoutEffect:Mr,useInsertionEffect:Mr,useMemo:Mr,useReducer:Mr,useRef:Mr,useState:Mr,useDebugValue:Mr,useDeferredValue:Mr,useTransition:Mr,useSyncExternalStore:Mr,useId:Mr,useHostTransitionStatus:Mr,useFormState:Mr,useActionState:Mr,useOptimistic:Mr,useMemoCache:Mr,useCacheRefresh:Mr};jh.useEffectEvent=Mr;var by={readContext:ti,use:Wc,useCallback:function(i,o){return Ba().memoizedState=[i,o===void 0?null:o],i},useContext:ti,useEffect:ry,useImperativeHandle:function(i,o,f){f=f!=null?f.concat([i]):null,Yc(4194308,4,oy.bind(null,o,i),f)},useLayoutEffect:function(i,o){return Yc(4194308,4,i,o)},useInsertionEffect:function(i,o){Yc(4,2,i,o)},useMemo:function(i,o){var f=Ba();o=o===void 0?null:o;var p=i();if(Si){Pt(!0);try{i()}finally{Pt(!1)}}return f.memoizedState=[p,o],p},useReducer:function(i,o,f){var p=Ba();if(f!==void 0){var w=f(o);if(Si){Pt(!0);try{f(o)}finally{Pt(!1)}}}else w=o;return p.memoizedState=p.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},p.queue=i,i=i.dispatch=kE.bind(null,fn,i),[p.memoizedState,i]},useRef:function(i){var o=Ba();return i={current:i},o.memoizedState=i},useState:function(i){i=wl(i);var o=i.queue,f=xy.bind(null,fn,o);return o.dispatch=f,[i.memoizedState,f]},useDebugValue:Jp,useDeferredValue:function(i,o){var f=Ba();return Qp(f,i,o)},useTransition:function(){var i=wl(!1);return i=hy.bind(null,fn,i.queue,!0,!1),Ba().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,f){var p=fn,w=Ba();if(Xn){if(f===void 0)throw Error(r(407));f=f()}else{if(f=o(),Vr===null)throw Error(r(349));(tr&127)!==0||Mo(p,o,f)}w.memoizedState=f;var _={value:f,getSnapshot:o};return w.queue=_,ry(Th.bind(null,p,_,i),[i]),p.flags|=2048,nc(9,{destroy:void 0},_h.bind(null,p,_,f,o),null),f},useId:function(){var i=Ba(),o=Vr.identifierPrefix;if(Xn){var f=fs,p=us;f=(p&~(1<<32-xn(p)-1)).toString(32)+f,o="_"+o+"R_"+f,f=_a++,0<f&&(o+="H"+f.toString(32)),o+="_"}else f=Kf++,o="_"+o+"r_"+f.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:tg,useFormState:so,useActionState:so,useOptimistic:function(i){var o=Ba();o.memoizedState=o.baseState=i;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=f,o=ng.bind(null,fn,!0,f),f.dispatch=o,[i,o]},useMemoCache:ec,useCacheRefresh:function(){return Ba().memoizedState=DE.bind(null,fn)},useEffectEvent:function(i){var o=Ba(),f={impl:i};return o.memoizedState=f,function(){if((br&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},rg={readContext:ti,use:Wc,useCallback:cy,useContext:ti,useEffect:Zp,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Jf,useRef:E1,useState:function(){return Jf(io)},useDebugValue:Jp,useDeferredValue:function(i,o){var f=ra();return fy(f,hn.memoizedState,i,o)},useTransition:function(){var i=Jf(io)[0],o=ra().memoizedState;return[typeof i=="boolean"?i:bl(i),o]},useSyncExternalStore:e0,useId:py,useHostTransitionStatus:tg,useFormState:zo,useActionState:zo,useOptimistic:function(i,o){var f=ra();return N1(f,hn,i,o)},useMemoCache:ec,useCacheRefresh:gy};rg.useEffectEvent=ay;var wy={readContext:ti,use:Wc,useCallback:cy,useContext:ti,useEffect:Zp,useImperativeHandle:ly,useInsertionEffect:iy,useLayoutEffect:sy,useMemo:uy,useReducer:Qf,useRef:E1,useState:function(){return Qf(io)},useDebugValue:Jp,useDeferredValue:function(i,o){var f=ra();return hn===null?Qp(f,i,o):fy(f,hn.memoizedState,i,o)},useTransition:function(){var i=Qf(io)[0],o=ra().memoizedState;return[typeof i=="boolean"?i:bl(i),o]},useSyncExternalStore:e0,useId:py,useHostTransitionStatus:tg,useFormState:r0,useActionState:r0,useOptimistic:function(i,o){var f=ra();return hn!==null?N1(f,hn,i,o):(f.baseState=i,[i,f.queue.dispatch])},useMemoCache:ec,useCacheRefresh:gy};wy.useEffectEvent=ay;function ag(i,o,f,p){o=i.memoizedState,f=f(p,o),f=f==null?o:v({},o,f),i.memoizedState=f,i.lanes===0&&(i.updateQueue.baseState=f)}var ig={enqueueSetState:function(i,o,f){i=i._reactInternals;var p=Rs(),w=gn(p);w.payload=o,f!=null&&(w.callback=f),o=Rn(i,w,p),o!==null&&(vs(o,i,p),vr(o,i,p))},enqueueReplaceState:function(i,o,f){i=i._reactInternals;var p=Rs(),w=gn(p);w.tag=1,w.payload=o,f!=null&&(w.callback=f),o=Rn(i,w,p),o!==null&&(vs(o,i,p),vr(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var f=Rs(),p=gn(f);p.tag=2,o!=null&&(p.callback=o),o=Rn(i,p,f),o!==null&&(vs(o,i,f),vr(o,i,f))}};function Sy(i,o,f,p,w,_,U){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,_,U):o.prototype&&o.prototype.isPureReactComponent?!jo(f,p)||!jo(w,_):!0}function Ny(i,o,f,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(f,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(f,p),o.state!==i&&ig.enqueueReplaceState(o,o.state,null)}function Ku(i,o){var f=o;if("ref"in o){f={};for(var p in o)p!=="ref"&&(f[p]=o[p])}if(i=i.defaultProps){f===o&&(f=v({},f));for(var w in i)f[w]===void 0&&(f[w]=i[w])}return f}function _y(i){Iu(i)}function Ty(i){console.error(i)}function Ay(i){Iu(i)}function j1(i,o){try{var f=i.onUncaughtError;f(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function Ey(i,o,f){try{var p=i.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function sg(i,o,f){return f=gn(f),f.tag=3,f.payload={element:null},f.callback=function(){j1(i,o)},f}function Cy(i){return i=gn(i),i.tag=3,i}function jy(i,o,f,p){var w=f.type.getDerivedStateFromError;if(typeof w=="function"){var _=p.value;i.payload=function(){return w(_)},i.callback=function(){Ey(o,f,p)}}var U=f.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(i.callback=function(){Ey(o,f,p),typeof w!="function"&&(Qc===null?Qc=new Set([this]):Qc.add(this));var oe=p.stack;this.componentDidCatch(p.value,{componentStack:oe!==null?oe:""})})}function LE(i,o,f,p,w){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=f.alternate,o!==null&&gl(o,f,w,!0),f=Xr.current,f!==null){switch(f.tag){case 31:case 13:return lr===null?U1():f.alternate===null&&Ta===0&&(Ta=3),f.flags&=-257,f.flags|=65536,f.lanes=w,p===Fe?f.flags|=16384:(o=f.updateQueue,o===null?f.updateQueue=new Set([p]):o.add(p),kg(i,p,w)),!1;case 22:return f.flags|=65536,p===Fe?f.flags|=16384:(o=f.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=o):(f=o.retryQueue,f===null?o.retryQueue=new Set([p]):f.add(p)),kg(i,p,w)),!1}throw Error(r(435,f.tag))}return kg(i,p,w),U1(),!1}if(Xn)return o=Xr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,p!==Ls&&(i=Error(r(422),{cause:p}),Vc(os(i,f)))):(p!==Ls&&(o=Error(r(423),{cause:p}),Vc(os(o,f))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,p=os(p,f),w=sg(i.stateNode,p,w),Oa(i,w),Ta!==4&&(Ta=2)),!1;var _=Error(r(520),{cause:p});if(_=os(_,f),zh===null?zh=[_]:zh.push(_),Ta!==4&&(Ta=2),o===null)return!0;p=os(p,f),f=o;do{switch(f.tag){case 3:return f.flags|=65536,i=w&-w,f.lanes|=i,i=sg(f.stateNode,p,i),Oa(f,i),!1;case 1:if(o=f.type,_=f.stateNode,(f.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Qc===null||!Qc.has(_))))return f.flags|=65536,w&=-w,f.lanes|=w,w=Cy(w),jy(w,i,f,p),Oa(f,w),!1}f=f.return}while(f!==null);return!1}var og=Error(r(461)),Ua=!1;function Ni(i,o,f,p){o.child=i===null?Dn(o,null,f,p):Hr(o,i.child,f,p)}function Dy(i,o,f,p,w){f=f.render;var _=o.ref;if("ref"in p){var U={};for(var oe in p)oe!=="ref"&&(U[oe]=p[oe])}else U=p;return xl(o),p=wh(i,o,f,U,_,w),oe=Sh(),i!==null&&!Ua?(Nh(i,o,w),rc(i,o,w)):(Xn&&oe&&xh(o),o.flags|=1,Ni(i,o,p,w),o.child)}function ky(i,o,f,p,w){if(i===null){var _=f.type;return typeof _=="function"&&!Bf(_)&&_.defaultProps===void 0&&f.compare===null?(o.tag=15,o.type=_,Ly(i,o,_,p,w)):(i=Bc(f.type,null,p,o,o.mode,w),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!pg(i,w)){var U=_.memoizedProps;if(f=f.compare,f=f!==null?f:jo,f(U,p)&&i.ref===o.ref)return rc(i,o,w)}return o.flags|=1,i=ss(_,p),i.ref=o.ref,i.return=o,o.child=i}function Ly(i,o,f,p,w){if(i!==null){var _=i.memoizedProps;if(jo(_,p)&&i.ref===o.ref)if(Ua=!1,o.pendingProps=p=_,pg(i,w))(i.flags&131072)!==0&&(Ua=!0);else return o.lanes=i.lanes,rc(i,o,w)}return lg(i,o,f,p,w)}function Fy(i,o,f,p){var w=p.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|f:f,i!==null){for(p=o.child=i.child,w=0;p!==null;)w=w|p.lanes|p.childLanes,p=p.sibling;p=w&~_}else p=0,o.child=null;return Oy(i,o,_,f,p)}if((f&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&pe(o,_!==null?_.cachePool:null),_!==null?Kr(o,_):mr(),Sa(o);else return p=o.lanes=536870912,Oy(i,o,_!==null?_.baseLanes|f:f,f,p)}else _!==null?(pe(o,_.cachePool),Kr(o,_),Na(),o.memoizedState=null):(i!==null&&pe(o,null),mr(),Na());return Ni(i,o,w,f),o.child}function Dh(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Oy(i,o,f,p,w){var _=ue();return _=_===null?null:{parent:ha._currentValue,pool:_},o.memoizedState={baseLanes:f,cachePool:_},i!==null&&pe(o,null),mr(),Sa(o),i!==null&&gl(i,o,p,!0),o.childLanes=w,null}function D1(i,o){return o=L1({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Ry(i,o,f){return Hr(o,i.child,null,f),i=D1(o,o.pendingProps),i.flags|=2,_r(o),o.memoizedState=null,i}function FE(i,o,f){var p=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Xn){if(p.mode==="hidden")return i=D1(o,p),o.lanes=536870912,Dh(null,i);if(yr(o),(i=Ur)?(i=$b(i,ta),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hl!==null?{id:us,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},f=Uf(i),f.return=o,o.child=f,Qa=o,Ur=null)):i=null,i===null)throw dl(o);return o.lanes=536870912,null}return D1(o,p)}var _=i.memoizedState;if(_!==null){var U=_.dehydrated;if(yr(o),w)if(o.flags&256)o.flags&=-257,o=Ry(i,o,f);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(Ua||gl(i,o,f,!1),w=(f&i.childLanes)!==0,Ua||w){if(p=Vr,p!==null&&(U=Sr(p,f),U!==0&&U!==_.retryLane))throw _.retryLane=U,Fo(i,U),vs(p,i,U),og;U1(),o=Ry(i,o,f)}else i=_.treeContext,Ur=oo(U.nextSibling),Qa=o,Xn=!0,wi=null,ta=!1,i!==null&&b1(o,i),o=D1(o,p),o.flags|=4096;return o}return i=ss(i.child,{mode:p.mode,children:p.children}),i.ref=o.ref,o.child=i,i.return=o,i}function k1(i,o){var f=o.ref;if(f===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(i===null||i.ref!==f)&&(o.flags|=4194816)}}function lg(i,o,f,p,w){return xl(o),f=wh(i,o,f,p,void 0,w),p=Sh(),i!==null&&!Ua?(Nh(i,o,w),rc(i,o,w)):(Xn&&p&&xh(o),o.flags|=1,Ni(i,o,f,w),o.child)}function My(i,o,f,p,w,_){return xl(o),o.updateQueue=null,f=Ro(o,p,f,w),Xf(i),p=Sh(),i!==null&&!Ua?(Nh(i,o,_),rc(i,o,_)):(Xn&&p&&xh(o),o.flags|=1,Ni(i,o,f,_),o.child)}function zy(i,o,f,p,w){if(xl(o),o.stateNode===null){var _=Ja,U=f.contextType;typeof U=="object"&&U!==null&&(_=ti(U)),_=new f(p,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ig,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=p,_.state=o.memoizedState,_.refs={},jt(o),U=f.contextType,_.context=typeof U=="object"&&U!==null?ti(U):Ja,_.state=o.memoizedState,U=f.getDerivedStateFromProps,typeof U=="function"&&(ag(o,f,U,p),_.state=o.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(U=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),U!==_.state&&ig.enqueueReplaceState(_,_.state,null),ba(o,p,_,w),Rr(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){_=o.stateNode;var oe=o.memoizedProps,Ee=Ku(f,oe);_.props=Ee;var Ye=_.context,it=f.contextType;U=Ja,typeof it=="object"&&it!==null&&(U=ti(it));var ut=f.getDerivedStateFromProps;it=typeof ut=="function"||typeof _.getSnapshotBeforeUpdate=="function",oe=o.pendingProps!==oe,it||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(oe||Ye!==U)&&Ny(o,_,p,U),Vt=!1;var Ke=o.memoizedState;_.state=Ke,ba(o,p,_,w),Rr(),Ye=o.memoizedState,oe||Ke!==Ye||Vt?(typeof ut=="function"&&(ag(o,f,ut,p),Ye=o.memoizedState),(Ee=Vt||Sy(o,f,Ee,p,Ke,Ye,U))?(it||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=Ye),_.props=p,_.state=Ye,_.context=U,p=Ee):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{_=o.stateNode,Yr(i,o),U=o.memoizedProps,it=Ku(f,U),_.props=it,ut=o.pendingProps,Ke=_.context,Ye=f.contextType,Ee=Ja,typeof Ye=="object"&&Ye!==null&&(Ee=ti(Ye)),oe=f.getDerivedStateFromProps,(Ye=typeof oe=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(U!==ut||Ke!==Ee)&&Ny(o,_,p,Ee),Vt=!1,Ke=o.memoizedState,_.state=Ke,ba(o,p,_,w),Rr();var Qe=o.memoizedState;U!==ut||Ke!==Qe||Vt||i!==null&&i.dependencies!==null&&Wf(i.dependencies)?(typeof oe=="function"&&(ag(o,f,oe,p),Qe=o.memoizedState),(it=Vt||Sy(o,f,it,p,Ke,Qe,Ee)||i!==null&&i.dependencies!==null&&Wf(i.dependencies))?(Ye||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(p,Qe,Ee),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(p,Qe,Ee)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||U===i.memoizedProps&&Ke===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&Ke===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Qe),_.props=p,_.state=Qe,_.context=Ee,p=it):(typeof _.componentDidUpdate!="function"||U===i.memoizedProps&&Ke===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&Ke===i.memoizedState||(o.flags|=1024),p=!1)}return _=p,k1(i,o),p=(o.flags&128)!==0,_||p?(_=o.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&p?(o.child=Hr(o,i.child,null,w),o.child=Hr(o,null,f,w)):Ni(i,o,f,w),o.memoizedState=_.state,i=o.child):i=rc(i,o,w),i}function Iy(i,o,f,p){return Jl(),o.flags|=256,Ni(i,o,f,p),o.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ug(i){return{baseLanes:i,cachePool:Se()}}function fg(i,o,f){return i=i!==null?i.childLanes&~f:0,o&&(i|=Os),i}function Py(i,o,f){var p=o.pendingProps,w=!1,_=(o.flags&128)!==0,U;if((U=_)||(U=i!==null&&i.memoizedState===null?!1:(sr.current&2)!==0),U&&(w=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,i===null){if(Xn){if(w?da(o):Na(),(i=Ur)?(i=$b(i,ta),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:hl!==null?{id:us,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},f=Uf(i),f.return=o,o.child=f,Qa=o,Ur=null)):i=null,i===null)throw dl(o);return $g(i)?o.lanes=32:o.lanes=536870912,null}var oe=p.children;return p=p.fallback,w?(Na(),w=o.mode,oe=L1({mode:"hidden",children:oe},w),p=fl(p,w,f,null),oe.return=o,p.return=o,oe.sibling=p,o.child=oe,p=o.child,p.memoizedState=ug(f),p.childLanes=fg(i,U,f),o.memoizedState=cg,Dh(null,p)):(da(o),hg(o,oe))}var Ee=i.memoizedState;if(Ee!==null&&(oe=Ee.dehydrated,oe!==null)){if(_)o.flags&256?(da(o),o.flags&=-257,o=dg(i,o,f)):o.memoizedState!==null?(Na(),o.child=i.child,o.flags|=128,o=null):(Na(),oe=p.fallback,w=o.mode,p=L1({mode:"visible",children:p.children},w),oe=fl(oe,w,f,null),oe.flags|=2,p.return=o,oe.return=o,p.sibling=oe,o.child=p,Hr(o,i.child,null,f),p=o.child,p.memoizedState=ug(f),p.childLanes=fg(i,U,f),o.memoizedState=cg,o=Dh(null,p));else if(da(o),$g(oe)){if(U=oe.nextSibling&&oe.nextSibling.dataset,U)var Ye=U.dgst;U=Ye,p=Error(r(419)),p.stack="",p.digest=U,Vc({value:p,source:null,stack:null}),o=dg(i,o,f)}else if(Ua||gl(i,o,f,!1),U=(f&i.childLanes)!==0,Ua||U){if(U=Vr,U!==null&&(p=Sr(U,f),p!==0&&p!==Ee.retryLane))throw Ee.retryLane=p,Fo(i,p),vs(U,i,p),og;Wg(oe)||U1(),o=dg(i,o,f)}else Wg(oe)?(o.flags|=192,o.child=i.child,o=null):(i=Ee.treeContext,Ur=oo(oe.nextSibling),Qa=o,Xn=!0,wi=null,ta=!1,i!==null&&b1(o,i),o=hg(o,p.children),o.flags|=4096);return o}return w?(Na(),oe=p.fallback,w=o.mode,Ee=i.child,Ye=Ee.sibling,p=ss(Ee,{mode:"hidden",children:p.children}),p.subtreeFlags=Ee.subtreeFlags&65011712,Ye!==null?oe=ss(Ye,oe):(oe=fl(oe,w,f,null),oe.flags|=2),oe.return=o,p.return=o,p.sibling=oe,o.child=p,Dh(null,p),p=o.child,oe=i.child.memoizedState,oe===null?oe=ug(f):(w=oe.cachePool,w!==null?(Ee=ha._currentValue,w=w.parent!==Ee?{parent:Ee,pool:Ee}:w):w=Se(),oe={baseLanes:oe.baseLanes|f,cachePool:w}),p.memoizedState=oe,p.childLanes=fg(i,U,f),o.memoizedState=cg,Dh(i.child,p)):(da(o),f=i.child,i=f.sibling,f=ss(f,{mode:"visible",children:p.children}),f.return=o,f.sibling=null,i!==null&&(U=o.deletions,U===null?(o.deletions=[i],o.flags|=16):U.push(i)),o.child=f,o.memoizedState=null,f)}function hg(i,o){return o=L1({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function L1(i,o){return i=ci(22,i,null,o),i.lanes=0,i}function dg(i,o,f){return Hr(o,i.child,null,f),i=hg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function By(i,o,f){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Gc(i.return,o,f)}function mg(i,o,f,p,w,_){var U=i.memoizedState;U===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:w,treeForkCount:_}:(U.isBackwards=o,U.rendering=null,U.renderingStartTime=0,U.last=p,U.tail=f,U.tailMode=w,U.treeForkCount=_)}function Uy(i,o,f){var p=o.pendingProps,w=p.revealOrder,_=p.tail;p=p.children;var U=sr.current,oe=(U&2)!==0;if(oe?(U=U&1|2,o.flags|=128):U&=1,F(sr,U),Ni(i,o,p,f),p=Xn?Gu:0,!oe&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&By(i,f,o);else if(i.tag===19)By(i,f,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(f=o.child,w=null;f!==null;)i=f.alternate,i!==null&&fi(i)===null&&(w=f),f=f.sibling;f=w,f===null?(w=o.child,o.child=null):(w=f.sibling,f.sibling=null),mg(o,!1,w,f,_,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,w=o.child,o.child=null;w!==null;){if(i=w.alternate,i!==null&&fi(i)===null){o.child=w;break}i=w.sibling,w.sibling=f,f=w,w=i}mg(o,!0,f,null,_,p);break;case"together":mg(o,!1,null,null,void 0,p);break;default:o.memoizedState=null}return o.child}function rc(i,o,f){if(i!==null&&(o.dependencies=i.dependencies),Jc|=o.lanes,(f&o.childLanes)===0)if(i!==null){if(gl(i,o,f,!1),(f&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,f=ss(i,i.pendingProps),o.child=f,f.return=o;i.sibling!==null;)i=i.sibling,f=f.sibling=ss(i,i.pendingProps),f.return=o;f.sibling=null}return o.child}function pg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Wf(i)))}function OE(i,o,f){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),pl(o,ha,i.memoizedState.cache),Jl();break;case 27:case 5:ve(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:pl(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,yr(o),null;break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(da(o),o.flags|=128,null):(f&o.child.childLanes)!==0?Py(i,o,f):(da(o),i=rc(i,o,f),i!==null?i.sibling:null);da(o);break;case 19:var w=(i.flags&128)!==0;if(p=(f&o.childLanes)!==0,p||(gl(i,o,f,!1),p=(f&o.childLanes)!==0),w){if(p)return Uy(i,o,f);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),F(sr,sr.current),p)break;return null;case 22:return o.lanes=0,Fy(i,o,f,o.pendingProps);case 24:pl(o,ha,i.memoizedState.cache)}return rc(i,o,f)}function Hy(i,o,f){if(i!==null)if(i.memoizedProps!==o.pendingProps)Ua=!0;else{if(!pg(i,f)&&(o.flags&128)===0)return Ua=!1,OE(i,o,f);Ua=(i.flags&131072)!==0}else Ua=!1,Xn&&(o.flags&1048576)!==0&&y1(o,Gu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var p=o.pendingProps;if(i=Ve(o.elementType),o.type=i,typeof i=="function")Bf(i)?(p=Ku(i,p),o.tag=1,o=zy(null,o,i,p,f)):(o.tag=0,o=lg(null,o,i,p,f));else{if(i!=null){var w=i.$$typeof;if(w===R){o.tag=11,o=Dy(null,o,i,p,f);break e}else if(w===I){o.tag=14,o=ky(null,o,i,p,f);break e}}throw o=X(i)||i,Error(r(306,o,""))}}return o;case 0:return lg(i,o,o.type,o.pendingProps,f);case 1:return p=o.type,w=Ku(p,o.pendingProps),zy(i,o,p,w,f);case 3:e:{if(Ne(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var _=o.memoizedState;w=_.element,Yr(i,o),ba(o,p,null,f);var U=o.memoizedState;if(p=U.cache,pl(o,ha,p),p!==_.cache&&Ql(o,[ha],f,!0),Rr(),p=U.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Iy(i,o,p,f);break e}else if(p!==w){w=os(Error(r(424)),o),Vc(w),o=Iy(i,o,p,f);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ur=oo(i.firstChild),Qa=o,Xn=!0,wi=null,ta=!0,f=Dn(o,null,p,f),o.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Jl(),p===w){o=rc(i,o,f);break e}Ni(i,o,p,f)}o=o.child}return o;case 26:return k1(i,o),i===null?(f=Qb(o.type,null,o.pendingProps,null))?o.memoizedState=f:Xn||(f=o.type,i=o.pendingProps,p=Y1(te.current).createElement(f),p[he]=o,p[ge]=i,_i(p,f,i),Mt(p),o.stateNode=p):o.memoizedState=Qb(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ve(o),i===null&&Xn&&(p=o.stateNode=Xb(o.type,o.pendingProps,te.current),Qa=o,ta=!0,w=Ur,ru(o.type)?(Yg=w,Ur=oo(p.firstChild)):Ur=w),Ni(i,o,o.pendingProps.children,f),k1(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Xn&&((w=p=Ur)&&(p=uC(p,o.type,o.pendingProps,ta),p!==null?(o.stateNode=p,Qa=o,Ur=oo(p.firstChild),ta=!1,w=!0):w=!1),w||dl(o)),ve(o),w=o.type,_=o.pendingProps,U=i!==null?i.memoizedProps:null,p=_.children,Vg(w,_)?p=null:U!==null&&Vg(w,U)&&(o.flags|=32),o.memoizedState!==null&&(w=wh(i,o,Xp,null,null,f),qh._currentValue=w),k1(i,o),Ni(i,o,p,f),o.child;case 6:return i===null&&Xn&&((i=f=Ur)&&(f=fC(f,o.pendingProps,ta),f!==null?(o.stateNode=f,Qa=o,Ur=null,i=!0):i=!1),i||dl(o)),null;case 13:return Py(i,o,f);case 4:return Ne(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Hr(o,null,p,f):Ni(i,o,p,f),o.child;case 11:return Dy(i,o,o.type,o.pendingProps,f);case 7:return Ni(i,o,o.pendingProps,f),o.child;case 8:return Ni(i,o,o.pendingProps.children,f),o.child;case 12:return Ni(i,o,o.pendingProps.children,f),o.child;case 10:return p=o.pendingProps,pl(o,o.type,p.value),Ni(i,o,p.children,f),o.child;case 9:return w=o.type._context,p=o.pendingProps.children,xl(o),w=ti(w),p=p(w),o.flags|=1,Ni(i,o,p,f),o.child;case 14:return ky(i,o,o.type,o.pendingProps,f);case 15:return Ly(i,o,o.type,o.pendingProps,f);case 19:return Uy(i,o,f);case 31:return FE(i,o,f);case 22:return Fy(i,o,f,o.pendingProps);case 24:return xl(o),p=ti(ha),i===null?(w=ue(),w===null&&(w=Vr,_=qc(),w.pooledCache=_,_.refCount++,_!==null&&(w.pooledCacheLanes|=f),w=_),o.memoizedState={parent:p,cache:w},jt(o),pl(o,ha,w)):((i.lanes&f)!==0&&(Yr(i,o),ba(o,null,null,f),Rr()),w=i.memoizedState,_=o.memoizedState,w.parent!==p?(w={parent:p,cache:p},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),pl(o,ha,p)):(p=_.cache,pl(o,ha,p),p!==w.cache&&Ql(o,[ha],f,!0))),Ni(i,o,o.pendingProps.children,f),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ac(i){i.flags|=4}function gg(i,o,f,p,w){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(pb())i.flags|=8192;else throw et=Fe,We}else i.flags&=-16777217}function Vy(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!aw(o))if(pb())i.flags|=8192;else throw et=Fe,We}function F1(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ln():536870912,i.lanes|=o,o0|=o)}function kh(i,o){if(!Xn)switch(i.tailMode){case"hidden":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?i.tail=null:f.sibling=null;break;case"collapsed":f=i.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Zr(i){var o=i.alternate!==null&&i.alternate.child===i.child,f=0,p=0;if(o)for(var w=i.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags&65011712,p|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)f|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=p,i.childLanes=f,o}function RE(i,o,f){var p=o.pendingProps;switch(Gf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zr(o),null;case 1:return Zr(o),null;case 3:return f=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),hs(ha),se(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ei(o)?ac(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,yh())),Zr(o),null;case 26:var w=o.type,_=o.memoizedState;return i===null?(ac(o),_!==null?(Zr(o),Vy(o,_)):(Zr(o),gg(o,w,null,p,f))):_?_!==i.memoizedState?(ac(o),Zr(o),Vy(o,_)):(Zr(o),o.flags&=-16777217):(i=i.memoizedProps,i!==p&&ac(o),Zr(o),gg(o,w,i,p,f)),null;case 27:if(je(o),f=te.current,w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ac(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Zr(o),null}i=L.current,ei(o)?vh(o):(i=Xb(w,p,f),o.stateNode=i,ac(o))}return Zr(o),null;case 5:if(je(o),w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ac(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Zr(o),null}if(_=L.current,ei(o))vh(o);else{var U=Y1(te.current);switch(_){case 1:_=U.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:_=U.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":_=U.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":_=U.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":_=U.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof p.is=="string"?U.createElement("select",{is:p.is}):U.createElement("select"),p.multiple?_.multiple=!0:p.size&&(_.size=p.size);break;default:_=typeof p.is=="string"?U.createElement(w,{is:p.is}):U.createElement(w)}}_[he]=o,_[ge]=p;e:for(U=o.child;U!==null;){if(U.tag===5||U.tag===6)_.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===o)break e;for(;U.sibling===null;){if(U.return===null||U.return===o)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}o.stateNode=_;e:switch(_i(_,w,p),w){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&ac(o)}}return Zr(o),gg(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,f),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&ac(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=te.current,ei(o)){if(i=o.stateNode,f=o.memoizedProps,p=null,w=Qa,w!==null)switch(w.tag){case 27:case 5:p=w.memoizedProps}i[he]=o,i=!!(i.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||Pb(i.nodeValue,f)),i||dl(o,!0)}else i=Y1(i).createTextNode(p),i[he]=o,o.stateNode=i}return Zr(o),null;case 31:if(f=o.memoizedState,i===null||i.memoizedState!==null){if(p=ei(o),f!==null){if(i===null){if(!p)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[he]=o}else Jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zr(o),i=!1}else f=yh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),i=!0;if(!i)return o.flags&256?(_r(o),o):(_r(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Zr(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=ei(o),p!==null&&p.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[he]=o}else Jl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Zr(o),w=!1}else w=yh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(_r(o),o):(_r(o),null)}return _r(o),(o.flags&128)!==0?(o.lanes=f,o):(f=p!==null,i=i!==null&&i.memoizedState!==null,f&&(p=o.child,w=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(w=p.alternate.memoizedState.cachePool.pool),_=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(_=p.memoizedState.cachePool.pool),_!==w&&(p.flags|=2048)),f!==i&&f&&(o.child.flags|=8192),F1(o,o.updateQueue),Zr(o),null);case 4:return se(),i===null&&Ig(o.stateNode.containerInfo),Zr(o),null;case 10:return hs(o.type),Zr(o),null;case 19:if(N(sr),p=o.memoizedState,p===null)return Zr(o),null;if(w=(o.flags&128)!==0,_=p.rendering,_===null)if(w)kh(p,!1);else{if(Ta!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=fi(i),_!==null){for(o.flags|=128,kh(p,!1),i=_.updateQueue,o.updateQueue=i,F1(o,i),o.subtreeFlags=0,i=f,f=o.child;f!==null;)Hu(f,i),f=f.sibling;return F(sr,sr.current&1|2),Xn&&Zi(o,p.treeForkCount),o.child}i=i.sibling}p.tail!==null&&qt()>I1&&(o.flags|=128,w=!0,kh(p,!1),o.lanes=4194304)}else{if(!w)if(i=fi(_),i!==null){if(o.flags|=128,w=!0,i=i.updateQueue,o.updateQueue=i,F1(o,i),kh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Xn)return Zr(o),null}else 2*qt()-p.renderingStartTime>I1&&f!==536870912&&(o.flags|=128,w=!0,kh(p,!1),o.lanes=4194304);p.isBackwards?(_.sibling=o.child,o.child=_):(i=p.last,i!==null?i.sibling=_:o.child=_,p.last=_)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=qt(),i.sibling=null,f=sr.current,F(sr,w?f&1|2:f&1),Xn&&Zi(o,p.treeForkCount),i):(Zr(o),null);case 22:case 23:return _r(o),Ra(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(f&536870912)!==0&&(o.flags&128)===0&&(Zr(o),o.subtreeFlags&6&&(o.flags|=8192)):Zr(o),f=o.updateQueue,f!==null&&F1(o,f.retryQueue),f=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==f&&(o.flags|=2048),i!==null&&N(ie),null;case 24:return f=null,i!==null&&(f=i.memoizedState.cache),o.memoizedState.cache!==f&&(o.flags|=2048),hs(ha),Zr(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function ME(i,o){switch(Gf(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return hs(ha),se(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return je(o),null;case 31:if(o.memoizedState!==null){if(_r(o),o.alternate===null)throw Error(r(340));Jl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(_r(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Jl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return N(sr),null;case 4:return se(),null;case 10:return hs(o.type),null;case 22:case 23:return _r(o),Ra(),i!==null&&N(ie),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return hs(ha),null;case 25:return null;default:return null}}function Gy(i,o){switch(Gf(o),o.tag){case 3:hs(ha),se();break;case 26:case 27:case 5:je(o);break;case 4:se();break;case 31:o.memoizedState!==null&&_r(o);break;case 13:_r(o);break;case 19:N(sr);break;case 10:hs(o.type);break;case 22:case 23:_r(o),Ra(),i!==null&&N(ie);break;case 24:hs(ha)}}function Lh(i,o){try{var f=o.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var w=p.next;f=w;do{if((f.tag&i)===i){p=void 0;var _=f.create,U=f.inst;p=_(),U.destroy=p}f=f.next}while(f!==w)}}catch(oe){Ar(o,o.return,oe)}}function Xc(i,o,f){try{var p=o.updateQueue,w=p!==null?p.lastEffect:null;if(w!==null){var _=w.next;p=_;do{if((p.tag&i)===i){var U=p.inst,oe=U.destroy;if(oe!==void 0){U.destroy=void 0,w=o;var Ee=f,Ye=oe;try{Ye()}catch(it){Ar(w,Ee,it)}}}p=p.next}while(p!==_)}}catch(it){Ar(o,o.return,it)}}function qy(i){var o=i.updateQueue;if(o!==null){var f=i.stateNode;try{wa(o,f)}catch(p){Ar(i,i.return,p)}}}function Wy(i,o,f){f.props=Ku(i.type,i.memoizedProps),f.state=i.memoizedState;try{f.componentWillUnmount()}catch(p){Ar(i,o,p)}}function Fh(i,o){try{var f=i.ref;if(f!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof f=="function"?i.refCleanup=f(p):f.current=p}}catch(w){Ar(i,o,w)}}function Sl(i,o){var f=i.ref,p=i.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(w){Ar(i,o,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(w){Ar(i,o,w)}else f.current=null}function $y(i){var o=i.type,f=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(w){Ar(i,i.return,w)}}function xg(i,o,f){try{var p=i.stateNode;aC(p,i.type,f,o),p[ge]=o}catch(w){Ar(i,i.return,w)}}function Yy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ru(i.type)||i.tag===4}function vg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Yy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ru(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yg(i,o,f){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(i,o):(o=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,o.appendChild(i),f=f._reactRootContainer,f!=null||o.onclick!==null||(o.onclick=Es));else if(p!==4&&(p===27&&ru(i.type)&&(f=i.stateNode,o=null),i=i.child,i!==null))for(yg(i,o,f),i=i.sibling;i!==null;)yg(i,o,f),i=i.sibling}function O1(i,o,f){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?f.insertBefore(i,o):f.appendChild(i);else if(p!==4&&(p===27&&ru(i.type)&&(f=i.stateNode),i=i.child,i!==null))for(O1(i,o,f),i=i.sibling;i!==null;)O1(i,o,f),i=i.sibling}function Ky(i){var o=i.stateNode,f=i.memoizedProps;try{for(var p=i.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);_i(o,p,f),o[he]=i,o[ge]=f}catch(_){Ar(i,i.return,_)}}var ic=!1,Ha=!1,bg=!1,Xy=typeof WeakSet=="function"?WeakSet:Set,hi=null;function zE(i,o){if(i=i.containerInfo,Ug=tm,i=ko(i),no(i)){if("selectionStart"in i)var f={start:i.selectionStart,end:i.selectionEnd};else e:{f=(f=i.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var w=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{f.nodeType,_.nodeType}catch{f=null;break e}var U=0,oe=-1,Ee=-1,Ye=0,it=0,ut=i,Ke=null;t:for(;;){for(var Qe;ut!==f||w!==0&&ut.nodeType!==3||(oe=U+w),ut!==_||p!==0&&ut.nodeType!==3||(Ee=U+p),ut.nodeType===3&&(U+=ut.nodeValue.length),(Qe=ut.firstChild)!==null;)Ke=ut,ut=Qe;for(;;){if(ut===i)break t;if(Ke===f&&++Ye===w&&(oe=U),Ke===_&&++it===p&&(Ee=U),(Qe=ut.nextSibling)!==null)break;ut=Ke,Ke=ut.parentNode}ut=Qe}f=oe===-1||Ee===-1?null:{start:oe,end:Ee}}else f=null}f=f||{start:0,end:0}}else f=null;for(Hg={focusedElem:i,selectionRange:f},tm=!1,hi=o;hi!==null;)if(o=hi,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,hi=i;else for(;hi!==null;){switch(o=hi,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(f=0;f<i.length;f++)w=i[f],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,f=o,w=_.memoizedProps,_=_.memoizedState,p=f.stateNode;try{var Jt=Ku(f.type,w);i=p.getSnapshotBeforeUpdate(Jt,_),p.__reactInternalSnapshotBeforeUpdate=i}catch(vn){Ar(f,f.return,vn)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,f=i.nodeType,f===9)qg(i);else if(f===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,hi=i;break}hi=o.return}}function Zy(i,o,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:oc(i,f),p&4&&Lh(5,f);break;case 1:if(oc(i,f),p&4)if(i=f.stateNode,o===null)try{i.componentDidMount()}catch(U){Ar(f,f.return,U)}else{var w=Ku(f.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(w,o,i.__reactInternalSnapshotBeforeUpdate)}catch(U){Ar(f,f.return,U)}}p&64&&qy(f),p&512&&Fh(f,f.return);break;case 3:if(oc(i,f),p&64&&(i=f.updateQueue,i!==null)){if(o=null,f.child!==null)switch(f.child.tag){case 27:case 5:o=f.child.stateNode;break;case 1:o=f.child.stateNode}try{wa(i,o)}catch(U){Ar(f,f.return,U)}}break;case 27:o===null&&p&4&&Ky(f);case 26:case 5:oc(i,f),o===null&&p&4&&$y(f),p&512&&Fh(f,f.return);break;case 12:oc(i,f);break;case 31:oc(i,f),p&4&&eb(i,f);break;case 13:oc(i,f),p&4&&tb(i,f),p&64&&(i=f.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(f=WE.bind(null,f),hC(i,f))));break;case 22:if(p=f.memoizedState!==null||ic,!p){o=o!==null&&o.memoizedState!==null||Ha,w=ic;var _=Ha;ic=p,(Ha=o)&&!_?lc(i,f,(f.subtreeFlags&8772)!==0):oc(i,f),ic=w,Ha=_}break;case 30:break;default:oc(i,f)}}function Jy(i){var o=i.alternate;o!==null&&(i.alternate=null,Jy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ht(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var aa=null,ms=!1;function sc(i,o,f){for(f=f.child;f!==null;)Qy(i,o,f),f=f.sibling}function Qy(i,o,f){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Xt,f)}catch{}switch(f.tag){case 26:Ha||Sl(f,o),sc(i,o,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Ha||Sl(f,o);var p=aa,w=ms;ru(f.type)&&(aa=f.stateNode,ms=!1),sc(i,o,f),Hh(f.stateNode),aa=p,ms=w;break;case 5:Ha||Sl(f,o);case 6:if(p=aa,w=ms,aa=null,sc(i,o,f),aa=p,ms=w,aa!==null)if(ms)try{(aa.nodeType===9?aa.body:aa.nodeName==="HTML"?aa.ownerDocument.body:aa).removeChild(f.stateNode)}catch(_){Ar(f,o,_)}else try{aa.removeChild(f.stateNode)}catch(_){Ar(f,o,_)}break;case 18:aa!==null&&(ms?(i=aa,qb(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,f.stateNode),p0(i)):qb(aa,f.stateNode));break;case 4:p=aa,w=ms,aa=f.stateNode.containerInfo,ms=!0,sc(i,o,f),aa=p,ms=w;break;case 0:case 11:case 14:case 15:Xc(2,f,o),Ha||Xc(4,f,o),sc(i,o,f);break;case 1:Ha||(Sl(f,o),p=f.stateNode,typeof p.componentWillUnmount=="function"&&Wy(f,o,p)),sc(i,o,f);break;case 21:sc(i,o,f);break;case 22:Ha=(p=Ha)||f.memoizedState!==null,sc(i,o,f),Ha=p;break;default:sc(i,o,f)}}function eb(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{p0(i)}catch(f){Ar(o,o.return,f)}}}function tb(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{p0(i)}catch(f){Ar(o,o.return,f)}}function IE(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new Xy),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new Xy),o;default:throw Error(r(435,i.tag))}}function R1(i,o){var f=IE(i);o.forEach(function(p){if(!f.has(p)){f.add(p);var w=$E.bind(null,i,p);p.then(w,w)}})}function ps(i,o){var f=o.deletions;if(f!==null)for(var p=0;p<f.length;p++){var w=f[p],_=i,U=o,oe=U;e:for(;oe!==null;){switch(oe.tag){case 27:if(ru(oe.type)){aa=oe.stateNode,ms=!1;break e}break;case 5:aa=oe.stateNode,ms=!1;break e;case 3:case 4:aa=oe.stateNode.containerInfo,ms=!0;break e}oe=oe.return}if(aa===null)throw Error(r(160));Qy(_,U,w),aa=null,ms=!1,_=w.alternate,_!==null&&(_.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)nb(o,i),o=o.sibling}var Po=null;function nb(i,o){var f=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ps(o,i),gs(i),p&4&&(Xc(3,i,i.return),Lh(3,i),Xc(5,i,i.return));break;case 1:ps(o,i),gs(i),p&512&&(Ha||f===null||Sl(f,f.return)),p&64&&ic&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(f=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var w=Po;if(ps(o,i),gs(i),p&512&&(Ha||f===null||Sl(f,f.return)),p&4){var _=f!==null?f.memoizedState:null;if(p=i.memoizedState,f===null)if(p===null)if(i.stateNode===null){e:{p=i.type,f=i.memoizedProps,w=w.ownerDocument||w;t:switch(p){case"title":_=w.getElementsByTagName("title")[0],(!_||_[He]||_[he]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=w.createElement(p),w.head.insertBefore(_,w.querySelector("head > title"))),_i(_,p,f),_[he]=i,Mt(_),p=_;break e;case"link":var U=nw("link","href",w).get(p+(f.href||""));if(U){for(var oe=0;oe<U.length;oe++)if(_=U[oe],_.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&_.getAttribute("rel")===(f.rel==null?null:f.rel)&&_.getAttribute("title")===(f.title==null?null:f.title)&&_.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){U.splice(oe,1);break t}}_=w.createElement(p),_i(_,p,f),w.head.appendChild(_);break;case"meta":if(U=nw("meta","content",w).get(p+(f.content||""))){for(oe=0;oe<U.length;oe++)if(_=U[oe],_.getAttribute("content")===(f.content==null?null:""+f.content)&&_.getAttribute("name")===(f.name==null?null:f.name)&&_.getAttribute("property")===(f.property==null?null:f.property)&&_.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&_.getAttribute("charset")===(f.charSet==null?null:f.charSet)){U.splice(oe,1);break t}}_=w.createElement(p),_i(_,p,f),w.head.appendChild(_);break;default:throw Error(r(468,p))}_[he]=i,Mt(_),p=_}i.stateNode=p}else rw(w,i.type,i.stateNode);else i.stateNode=tw(w,p,i.memoizedProps);else _!==p?(_===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):_.count--,p===null?rw(w,i.type,i.stateNode):tw(w,p,i.memoizedProps)):p===null&&i.stateNode!==null&&xg(i,i.memoizedProps,f.memoizedProps)}break;case 27:ps(o,i),gs(i),p&512&&(Ha||f===null||Sl(f,f.return)),f!==null&&p&4&&xg(i,i.memoizedProps,f.memoizedProps);break;case 5:if(ps(o,i),gs(i),p&512&&(Ha||f===null||Sl(f,f.return)),i.flags&32){w=i.stateNode;try{Kn(w,"")}catch(Jt){Ar(i,i.return,Jt)}}p&4&&i.stateNode!=null&&(w=i.memoizedProps,xg(i,w,f!==null?f.memoizedProps:w)),p&1024&&(bg=!0);break;case 6:if(ps(o,i),gs(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,f=i.stateNode;try{f.nodeValue=p}catch(Jt){Ar(i,i.return,Jt)}}break;case 3:if(Z1=null,w=Po,Po=K1(o.containerInfo),ps(o,i),Po=w,gs(i),p&4&&f!==null&&f.memoizedState.isDehydrated)try{p0(o.containerInfo)}catch(Jt){Ar(i,i.return,Jt)}bg&&(bg=!1,rb(i));break;case 4:p=Po,Po=K1(i.stateNode.containerInfo),ps(o,i),gs(i),Po=p;break;case 12:ps(o,i),gs(i);break;case 31:ps(o,i),gs(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,R1(i,p)));break;case 13:ps(o,i),gs(i),i.child.flags&8192&&i.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(z1=qt()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,R1(i,p)));break;case 22:w=i.memoizedState!==null;var Ee=f!==null&&f.memoizedState!==null,Ye=ic,it=Ha;if(ic=Ye||w,Ha=it||Ee,ps(o,i),Ha=it,ic=Ye,gs(i),p&8192)e:for(o=i.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(f===null||Ee||ic||Ha||Xu(i)),f=null,o=i;;){if(o.tag===5||o.tag===26){if(f===null){Ee=f=o;try{if(_=Ee.stateNode,w)U=_.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{oe=Ee.stateNode;var ut=Ee.memoizedProps.style,Ke=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;oe.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Jt){Ar(Ee,Ee.return,Jt)}}}else if(o.tag===6){if(f===null){Ee=o;try{Ee.stateNode.nodeValue=w?"":Ee.memoizedProps}catch(Jt){Ar(Ee,Ee.return,Jt)}}}else if(o.tag===18){if(f===null){Ee=o;try{var Qe=Ee.stateNode;w?Wb(Qe,!0):Wb(Ee.stateNode,!1)}catch(Jt){Ar(Ee,Ee.return,Jt)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;f===o&&(f=null),o=o.return}f===o&&(f=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,R1(i,f))));break;case 19:ps(o,i),gs(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,R1(i,p)));break;case 30:break;case 21:break;default:ps(o,i),gs(i)}}function gs(i){var o=i.flags;if(o&2){try{for(var f,p=i.return;p!==null;){if(Yy(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var w=f.stateNode,_=vg(i);O1(i,_,w);break;case 5:var U=f.stateNode;f.flags&32&&(Kn(U,""),f.flags&=-33);var oe=vg(i);O1(i,oe,U);break;case 3:case 4:var Ee=f.stateNode.containerInfo,Ye=vg(i);yg(i,Ye,Ee);break;default:throw Error(r(161))}}catch(it){Ar(i,i.return,it)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function rb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;rb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function oc(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Zy(i,o.alternate,o),o=o.sibling}function Xu(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Xc(4,o,o.return),Xu(o);break;case 1:Sl(o,o.return);var f=o.stateNode;typeof f.componentWillUnmount=="function"&&Wy(o,o.return,f),Xu(o);break;case 27:Hh(o.stateNode);case 26:case 5:Sl(o,o.return),Xu(o);break;case 22:o.memoizedState===null&&Xu(o);break;case 30:Xu(o);break;default:Xu(o)}i=i.sibling}}function lc(i,o,f){for(f=f&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,w=i,_=o,U=_.flags;switch(_.tag){case 0:case 11:case 15:lc(w,_,f),Lh(4,_);break;case 1:if(lc(w,_,f),p=_,w=p.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(Ye){Ar(p,p.return,Ye)}if(p=_,w=p.updateQueue,w!==null){var oe=p.stateNode;try{var Ee=w.shared.hiddenCallbacks;if(Ee!==null)for(w.shared.hiddenCallbacks=null,w=0;w<Ee.length;w++)ui(Ee[w],oe)}catch(Ye){Ar(p,p.return,Ye)}}f&&U&64&&qy(_),Fh(_,_.return);break;case 27:Ky(_);case 26:case 5:lc(w,_,f),f&&p===null&&U&4&&$y(_),Fh(_,_.return);break;case 12:lc(w,_,f);break;case 31:lc(w,_,f),f&&U&4&&eb(w,_);break;case 13:lc(w,_,f),f&&U&4&&tb(w,_);break;case 22:_.memoizedState===null&&lc(w,_,f),Fh(_,_.return);break;case 30:break;default:lc(w,_,f)}o=o.sibling}}function wg(i,o){var f=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==f&&(i!=null&&i.refCount++,f!=null&&qu(f))}function Sg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&qu(i))}function Bo(i,o,f,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ab(i,o,f,p),o=o.sibling}function ab(i,o,f,p){var w=o.flags;switch(o.tag){case 0:case 11:case 15:Bo(i,o,f,p),w&2048&&Lh(9,o);break;case 1:Bo(i,o,f,p);break;case 3:Bo(i,o,f,p),w&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&qu(i)));break;case 12:if(w&2048){Bo(i,o,f,p),i=o.stateNode;try{var _=o.memoizedProps,U=_.id,oe=_.onPostCommit;typeof oe=="function"&&oe(U,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ee){Ar(o,o.return,Ee)}}else Bo(i,o,f,p);break;case 31:Bo(i,o,f,p);break;case 13:Bo(i,o,f,p);break;case 23:break;case 22:_=o.stateNode,U=o.alternate,o.memoizedState!==null?_._visibility&2?Bo(i,o,f,p):Oh(i,o):_._visibility&2?Bo(i,o,f,p):(_._visibility|=2,a0(i,o,f,p,(o.subtreeFlags&10256)!==0||!1)),w&2048&&wg(U,o);break;case 24:Bo(i,o,f,p),w&2048&&Sg(o.alternate,o);break;default:Bo(i,o,f,p)}}function a0(i,o,f,p,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,U=o,oe=f,Ee=p,Ye=U.flags;switch(U.tag){case 0:case 11:case 15:a0(_,U,oe,Ee,w),Lh(8,U);break;case 23:break;case 22:var it=U.stateNode;U.memoizedState!==null?it._visibility&2?a0(_,U,oe,Ee,w):Oh(_,U):(it._visibility|=2,a0(_,U,oe,Ee,w)),w&&Ye&2048&&wg(U.alternate,U);break;case 24:a0(_,U,oe,Ee,w),w&&Ye&2048&&Sg(U.alternate,U);break;default:a0(_,U,oe,Ee,w)}o=o.sibling}}function Oh(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var f=i,p=o,w=p.flags;switch(p.tag){case 22:Oh(f,p),w&2048&&wg(p.alternate,p);break;case 24:Oh(f,p),w&2048&&Sg(p.alternate,p);break;default:Oh(f,p)}o=o.sibling}}var Rh=8192;function i0(i,o,f){if(i.subtreeFlags&Rh)for(i=i.child;i!==null;)ib(i,o,f),i=i.sibling}function ib(i,o,f){switch(i.tag){case 26:i0(i,o,f),i.flags&Rh&&i.memoizedState!==null&&_C(f,Po,i.memoizedState,i.memoizedProps);break;case 5:i0(i,o,f);break;case 3:case 4:var p=Po;Po=K1(i.stateNode.containerInfo),i0(i,o,f),Po=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=Rh,Rh=16777216,i0(i,o,f),Rh=p):i0(i,o,f));break;default:i0(i,o,f)}}function sb(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Mh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];hi=p,lb(p,i)}sb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ob(i),i=i.sibling}function ob(i){switch(i.tag){case 0:case 11:case 15:Mh(i),i.flags&2048&&Xc(9,i,i.return);break;case 3:Mh(i);break;case 12:Mh(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,M1(i)):Mh(i);break;default:Mh(i)}}function M1(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var f=0;f<o.length;f++){var p=o[f];hi=p,lb(p,i)}sb(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Xc(8,o,o.return),M1(o);break;case 22:f=o.stateNode,f._visibility&2&&(f._visibility&=-3,M1(o));break;default:M1(o)}i=i.sibling}}function lb(i,o){for(;hi!==null;){var f=hi;switch(f.tag){case 0:case 11:case 15:Xc(8,f,o);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:qu(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,hi=p;else e:for(f=i;hi!==null;){p=hi;var w=p.sibling,_=p.return;if(Jy(p),p===f){hi=null;break e}if(w!==null){w.return=_,hi=w;break e}hi=_}}}var PE={getCacheForType:function(i){var o=ti(ha),f=o.data.get(i);return f===void 0&&(f=i(),o.data.set(i,f)),f},cacheSignal:function(){return ti(ha).controller.signal}},BE=typeof WeakMap=="function"?WeakMap:Map,br=0,Vr=null,Zn=null,tr=0,Tr=0,Fs=null,Zc=!1,s0=!1,Ng=!1,cc=0,Ta=0,Jc=0,Zu=0,_g=0,Os=0,o0=0,zh=null,xs=null,Tg=!1,z1=0,cb=0,I1=1/0,P1=null,Qc=null,ri=0,eu=null,l0=null,uc=0,Ag=0,Eg=null,ub=null,Ih=0,Cg=null;function Rs(){return(br&2)!==0&&tr!==0?tr&-tr:V.T!==null?Og():ne()}function fb(){if(Os===0)if((tr&536870912)===0||Xn){var i=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),Os=i}else Os=536870912;return i=Xr.current,i!==null&&(i.flags|=32),Os}function vs(i,o,f){(i===Vr&&(Tr===2||Tr===9)||i.cancelPendingCommit!==null)&&(c0(i,0),tu(i,tr,Os,!1)),kt(i,f),((br&2)===0||i!==Vr)&&(i===Vr&&((br&2)===0&&(Zu|=f),Ta===4&&tu(i,tr,Os,!1)),Nl(i))}function hb(i,o,f){if((br&6)!==0)throw Error(r(327));var p=!f&&(o&127)===0&&(o&i.expiredLanes)===0||Ie(i,o),w=p?VE(i,o):Dg(i,o,!0),_=p;do{if(w===0){s0&&!p&&tu(i,o,0,!1);break}else{if(f=i.current.alternate,_&&!UE(f)){w=Dg(i,o,!1),_=!1;continue}if(w===2){if(_=o,i.errorRecoveryDisabledLanes&_)var U=0;else U=i.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;e:{var oe=i;w=zh;var Ee=oe.current.memoizedState.isDehydrated;if(Ee&&(c0(oe,U).flags|=256),U=Dg(oe,U,!1),U!==2){if(Ng&&!Ee){oe.errorRecoveryDisabledLanes|=_,Zu|=_,w=4;break e}_=xs,xs=w,_!==null&&(xs===null?xs=_:xs.push.apply(xs,_))}w=U}if(_=!1,w!==2)continue}}if(w===1){c0(i,0),tu(i,o,0,!0);break}e:{switch(p=i,_=w,_){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:tu(p,o,Os,!Zc);break e;case 2:xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=z1+300-qt(),10<w)){if(tu(p,o,Os,!Zc),qe(p,0,!0)!==0)break e;uc=o,p.timeoutHandle=Vb(db.bind(null,p,f,xs,P1,Tg,o,Os,Zu,o0,Zc,_,"Throttled",-0,0),w);break e}db(p,f,xs,P1,Tg,o,Os,Zu,o0,Zc,_,null,-0,0)}}break}while(!0);Nl(i)}function db(i,o,f,p,w,_,U,oe,Ee,Ye,it,ut,Ke,Qe){if(i.timeoutHandle=-1,ut=o.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Es},ib(o,_,ut);var Jt=(_&62914560)===_?z1-qt():(_&4194048)===_?cb-qt():0;if(Jt=TC(ut,Jt),Jt!==null){uc=_,i.cancelPendingCommit=Jt(wb.bind(null,i,o,_,f,p,w,U,oe,Ee,it,ut,null,Ke,Qe)),tu(i,_,U,!Ye);return}}wb(i,o,_,f,p,w,U,oe,Ee)}function UE(i){for(var o=i;;){var f=o.tag;if((f===0||f===11||f===15)&&o.flags&16384&&(f=o.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var w=f[p],_=w.getSnapshot;w=w.value;try{if(!Za(_(),w))return!1}catch{return!1}}if(f=o.child,o.subtreeFlags&16384&&f!==null)f.return=o,o=f;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function tu(i,o,f,p){o&=~_g,o&=~Zu,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var w=o;0<w;){var _=31-xn(w),U=1<<_;p[_]=-1,w&=~U}f!==0&&Vn(i,f,o)}function B1(){return(br&6)===0?(Ph(0),!1):!0}function jg(){if(Zn!==null){if(Tr===0)var i=Zn.return;else i=Zn,ao=ml=null,Zf(i),ft=null,Qt=0,i=Zn;for(;i!==null;)Gy(i.alternate,i),i=i.return;Zn=null}}function c0(i,o){var f=i.timeoutHandle;f!==-1&&(i.timeoutHandle=-1,oC(f)),f=i.cancelPendingCommit,f!==null&&(i.cancelPendingCommit=null,f()),uc=0,jg(),Vr=i,Zn=f=ss(i.current,null),tr=o,Tr=0,Fs=null,Zc=!1,s0=Ie(i,o),Ng=!1,o0=Os=_g=Zu=Jc=Ta=0,xs=zh=null,Tg=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var w=31-xn(p),_=1<<w;o|=i[w],p&=~_}return cc=o,Pu(),f}function mb(i,o){fn=null,V.H=jh,o===De||o===we?(o=ot(),Tr=3):o===We?(o=ot(),Tr=4):Tr=o===og?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Fs=o,Zn===null&&(Ta=1,j1(i,os(o,i.current)))}function pb(){var i=Xr.current;return i===null?!0:(tr&4194048)===tr?lr===null:(tr&62914560)===tr||(tr&536870912)!==0?i===lr:!1}function gb(){var i=V.H;return V.H=jh,i===null?jh:i}function xb(){var i=V.A;return V.A=PE,i}function U1(){Ta=4,Zc||(tr&4194048)!==tr&&Xr.current!==null||(s0=!0),(Jc&134217727)===0&&(Zu&134217727)===0||Vr===null||tu(Vr,tr,Os,!1)}function Dg(i,o,f){var p=br;br|=2;var w=gb(),_=xb();(Vr!==i||tr!==o)&&(P1=null,c0(i,o)),o=!1;var U=Ta;e:do try{if(Tr!==0&&Zn!==null){var oe=Zn,Ee=Fs;switch(Tr){case 8:jg(),U=6;break e;case 3:case 2:case 9:case 6:Xr.current===null&&(o=!0);var Ye=Tr;if(Tr=0,Fs=null,u0(i,oe,Ee,Ye),f&&s0){U=0;break e}break;default:Ye=Tr,Tr=0,Fs=null,u0(i,oe,Ee,Ye)}}HE(),U=Ta;break}catch(it){mb(i,it)}while(!0);return o&&i.shellSuspendCounter++,ao=ml=null,br=p,V.H=w,V.A=_,Zn===null&&(Vr=null,tr=0,Pu()),U}function HE(){for(;Zn!==null;)vb(Zn)}function VE(i,o){var f=br;br|=2;var p=gb(),w=xb();Vr!==i||tr!==o?(P1=null,I1=qt()+500,c0(i,o)):s0=Ie(i,o);e:do try{if(Tr!==0&&Zn!==null){o=Zn;var _=Fs;t:switch(Tr){case 1:Tr=0,Fs=null,u0(i,o,_,1);break;case 2:case 9:if(Be(_)){Tr=0,Fs=null,yb(o);break}o=function(){Tr!==2&&Tr!==9||Vr!==i||(Tr=7),Nl(i)},_.then(o,o);break e;case 3:Tr=7;break e;case 4:Tr=5;break e;case 7:Be(_)?(Tr=0,Fs=null,yb(o)):(Tr=0,Fs=null,u0(i,o,_,7));break;case 5:var U=null;switch(Zn.tag){case 26:U=Zn.memoizedState;case 5:case 27:var oe=Zn;if(U?aw(U):oe.stateNode.complete){Tr=0,Fs=null;var Ee=oe.sibling;if(Ee!==null)Zn=Ee;else{var Ye=oe.return;Ye!==null?(Zn=Ye,H1(Ye)):Zn=null}break t}}Tr=0,Fs=null,u0(i,o,_,5);break;case 6:Tr=0,Fs=null,u0(i,o,_,6);break;case 8:jg(),Ta=6;break e;default:throw Error(r(462))}}GE();break}catch(it){mb(i,it)}while(!0);return ao=ml=null,V.H=p,V.A=w,br=f,Zn!==null?0:(Vr=null,tr=0,Pu(),Ta)}function GE(){for(;Zn!==null&&!Kt();)vb(Zn)}function vb(i){var o=Hy(i.alternate,i,cc);i.memoizedProps=i.pendingProps,o===null?H1(i):Zn=o}function yb(i){var o=i,f=o.alternate;switch(o.tag){case 15:case 0:o=My(f,o,o.pendingProps,o.type,void 0,tr);break;case 11:o=My(f,o,o.pendingProps,o.type.render,o.ref,tr);break;case 5:Zf(o);default:Gy(f,o),o=Zn=Hu(o,cc),o=Hy(f,o,cc)}i.memoizedProps=i.pendingProps,o===null?H1(i):Zn=o}function u0(i,o,f,p){ao=ml=null,Zf(o),ft=null,Qt=0;var w=o.return;try{if(LE(i,w,o,f,tr)){Ta=1,j1(i,os(f,i.current)),Zn=null;return}}catch(_){if(w!==null)throw Zn=w,_;Ta=1,j1(i,os(f,i.current)),Zn=null;return}o.flags&32768?(Xn||p===1?i=!0:s0||(tr&536870912)!==0?i=!1:(Zc=i=!0,(p===2||p===9||p===3||p===6)&&(p=Xr.current,p!==null&&p.tag===13&&(p.flags|=16384))),bb(o,i)):H1(o)}function H1(i){var o=i;do{if((o.flags&32768)!==0){bb(o,Zc);return}i=o.return;var f=RE(o.alternate,o,cc);if(f!==null){Zn=f;return}if(o=o.sibling,o!==null){Zn=o;return}Zn=o=i}while(o!==null);Ta===0&&(Ta=5)}function bb(i,o){do{var f=ME(i.alternate,i);if(f!==null){f.flags&=32767,Zn=f;return}if(f=i.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!o&&(i=i.sibling,i!==null)){Zn=i;return}Zn=i=f}while(i!==null);Ta=6,Zn=null}function wb(i,o,f,p,w,_,U,oe,Ee){i.cancelPendingCommit=null;do V1();while(ri!==0);if((br&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(_=o.lanes|o.childLanes,_|=zf,rr(i,f,_,U,oe,Ee),i===Vr&&(Zn=Vr=null,tr=0),l0=o,eu=i,uc=f,Ag=_,Eg=w,ub=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,YE(zt,function(){return Ab(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=V.T,V.T=null,w=ae.p,ae.p=2,U=br,br|=4;try{zE(i,o,f)}finally{br=U,ae.p=w,V.T=p}}ri=1,Sb(),Nb(),_b()}}function Sb(){if(ri===1){ri=0;var i=eu,o=l0,f=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||f){f=V.T,V.T=null;var p=ae.p;ae.p=2;var w=br;br|=4;try{nb(o,i);var _=Hg,U=ko(i.containerInfo),oe=_.focusedElem,Ee=_.selectionRange;if(U!==oe&&oe&&oe.ownerDocument&&Do(oe.ownerDocument.documentElement,oe)){if(Ee!==null&&no(oe)){var Ye=Ee.start,it=Ee.end;if(it===void 0&&(it=Ye),"selectionStart"in oe)oe.selectionStart=Ye,oe.selectionEnd=Math.min(it,oe.value.length);else{var ut=oe.ownerDocument||document,Ke=ut&&ut.defaultView||window;if(Ke.getSelection){var Qe=Ke.getSelection(),Jt=oe.textContent.length,vn=Math.min(Ee.start,Jt),Ir=Ee.end===void 0?vn:Math.min(Ee.end,Jt);!Qe.extend&&vn>Ir&&(U=Ir,Ir=vn,vn=U);var ze=Pc(oe,vn),Le=Pc(oe,Ir);if(ze&&Le&&(Qe.rangeCount!==1||Qe.anchorNode!==ze.node||Qe.anchorOffset!==ze.offset||Qe.focusNode!==Le.node||Qe.focusOffset!==Le.offset)){var $e=ut.createRange();$e.setStart(ze.node,ze.offset),Qe.removeAllRanges(),vn>Ir?(Qe.addRange($e),Qe.extend(Le.node,Le.offset)):($e.setEnd(Le.node,Le.offset),Qe.addRange($e))}}}}for(ut=[],Qe=oe;Qe=Qe.parentNode;)Qe.nodeType===1&&ut.push({element:Qe,left:Qe.scrollLeft,top:Qe.scrollTop});for(typeof oe.focus=="function"&&oe.focus(),oe=0;oe<ut.length;oe++){var ct=ut[oe];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}tm=!!Ug,Hg=Ug=null}finally{br=w,ae.p=p,V.T=f}}i.current=o,ri=2}}function Nb(){if(ri===2){ri=0;var i=eu,o=l0,f=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||f){f=V.T,V.T=null;var p=ae.p;ae.p=2;var w=br;br|=4;try{Zy(i,o.alternate,o)}finally{br=w,ae.p=p,V.T=f}}ri=3}}function _b(){if(ri===4||ri===3){ri=0,Lt();var i=eu,o=l0,f=uc,p=ub;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ri=5:(ri=0,l0=eu=null,Tb(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(Qc=null),ar(f),o=o.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Xt,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=V.T,w=ae.p,ae.p=2,V.T=null;try{for(var _=i.onRecoverableError,U=0;U<p.length;U++){var oe=p[U];_(oe.value,{componentStack:oe.stack})}}finally{V.T=o,ae.p=w}}(uc&3)!==0&&V1(),Nl(i),w=i.pendingLanes,(f&261930)!==0&&(w&42)!==0?i===Cg?Ih++:(Ih=0,Cg=i):Ih=0,Ph(0)}}function Tb(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,qu(o)))}function V1(){return Sb(),Nb(),_b(),Ab()}function Ab(){if(ri!==5)return!1;var i=eu,o=Ag;Ag=0;var f=ar(uc),p=V.T,w=ae.p;try{ae.p=32>f?32:f,V.T=null,f=Eg,Eg=null;var _=eu,U=uc;if(ri=0,l0=eu=null,uc=0,(br&6)!==0)throw Error(r(331));var oe=br;if(br|=4,ob(_.current),ab(_,_.current,U,f),br=oe,Ph(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Xt,_)}catch{}return!0}finally{ae.p=w,V.T=p,Tb(i,o)}}function Eb(i,o,f){o=os(f,o),o=sg(i.stateNode,o,2),i=Rn(i,o,2),i!==null&&(kt(i,2),Nl(i))}function Ar(i,o,f){if(i.tag===3)Eb(i,i,f);else for(;o!==null;){if(o.tag===3){Eb(o,i,f);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qc===null||!Qc.has(p))){i=os(f,i),f=Cy(2),p=Rn(o,f,2),p!==null&&(jy(f,p,o,i),kt(p,2),Nl(p));break}}o=o.return}}function kg(i,o,f){var p=i.pingCache;if(p===null){p=i.pingCache=new BE;var w=new Set;p.set(o,w)}else w=p.get(o),w===void 0&&(w=new Set,p.set(o,w));w.has(f)||(Ng=!0,w.add(f),i=qE.bind(null,i,o,f),o.then(i,i))}function qE(i,o,f){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&f,i.warmLanes&=~f,Vr===i&&(tr&f)===f&&(Ta===4||Ta===3&&(tr&62914560)===tr&&300>qt()-z1?(br&2)===0&&c0(i,0):_g|=f,o0===tr&&(o0=0)),Nl(i)}function Cb(i,o){o===0&&(o=ln()),i=Fo(i,o),i!==null&&(kt(i,o),Nl(i))}function WE(i){var o=i.memoizedState,f=0;o!==null&&(f=o.retryLane),Cb(i,f)}function $E(i,o){var f=0;switch(i.tag){case 31:case 13:var p=i.stateNode,w=i.memoizedState;w!==null&&(f=w.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),Cb(i,f)}function YE(i,o){return Et(i,o)}var G1=null,f0=null,Lg=!1,q1=!1,Fg=!1,nu=0;function Nl(i){i!==f0&&i.next===null&&(f0===null?G1=f0=i:f0=f0.next=i),q1=!0,Lg||(Lg=!0,XE())}function Ph(i,o){if(!Fg&&q1){Fg=!0;do for(var f=!1,p=G1;p!==null;){if(i!==0){var w=p.pendingLanes;if(w===0)var _=0;else{var U=p.suspendedLanes,oe=p.pingedLanes;_=(1<<31-xn(42|i)+1)-1,_&=w&~(U&~oe),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(f=!0,Lb(p,_))}else _=tr,_=qe(p,p===Vr?_:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(_&3)===0||Ie(p,_)||(f=!0,Lb(p,_));p=p.next}while(f);Fg=!1}}function KE(){jb()}function jb(){q1=Lg=!1;var i=0;nu!==0&&sC()&&(i=nu);for(var o=qt(),f=null,p=G1;p!==null;){var w=p.next,_=Db(p,o);_===0?(p.next=null,f===null?G1=w:f.next=w,w===null&&(f0=f)):(f=p,(i!==0||(_&3)!==0)&&(q1=!0)),p=w}ri!==0&&ri!==5||Ph(i),nu!==0&&(nu=0)}function Db(i,o){for(var f=i.suspendedLanes,p=i.pingedLanes,w=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var U=31-xn(_),oe=1<<U,Ee=w[U];Ee===-1?((oe&f)===0||(oe&p)!==0)&&(w[U]=nt(oe,o)):Ee<=o&&(i.expiredLanes|=oe),_&=~oe}if(o=Vr,f=tr,f=qe(i,i===o?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,f===0||i===o&&(Tr===2||Tr===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&St(p),i.callbackNode=null,i.callbackPriority=0;if((f&3)===0||Ie(i,f)){if(o=f&-f,o===i.callbackPriority)return o;switch(p!==null&&St(p),ar(f)){case 2:case 8:f=cn;break;case 32:f=zt;break;case 268435456:f=tn;break;default:f=zt}return p=kb.bind(null,i),f=Et(f,p),i.callbackPriority=o,i.callbackNode=f,o}return p!==null&&p!==null&&St(p),i.callbackPriority=2,i.callbackNode=null,2}function kb(i,o){if(ri!==0&&ri!==5)return i.callbackNode=null,i.callbackPriority=0,null;var f=i.callbackNode;if(V1()&&i.callbackNode!==f)return null;var p=tr;return p=qe(i,i===Vr?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(hb(i,p,o),Db(i,qt()),i.callbackNode!=null&&i.callbackNode===f?kb.bind(null,i):null)}function Lb(i,o){if(V1())return null;hb(i,o,!0)}function XE(){lC(function(){(br&6)!==0?Et(Wt,KE):jb()})}function Og(){if(nu===0){var i=x;i===0&&(i=Fn,Fn<<=1,(Fn&261888)===0&&(Fn=256)),nu=i}return nu}function Fb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:As(""+i)}function Ob(i,o){var f=o.ownerDocument.createElement("input");return f.name=o.name,f.value=o.value,i.id&&f.setAttribute("form",i.id),o.parentNode.insertBefore(f,o),i=new FormData(i),f.parentNode.removeChild(f),i}function ZE(i,o,f,p,w){if(o==="submit"&&f&&f.stateNode===w){var _=Fb((w[ge]||null).action),U=p.submitter;U&&(o=(o=U[ge]||null)?Fb(o.formAction):U.getAttribute("formAction"),o!==null&&(_=o,U=null));var oe=new Ys("action","action",null,p,w);i.push({event:oe,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(nu!==0){var Ee=U?Ob(w,U):new FormData(w);eg(f,{pending:!0,data:Ee,method:w.method,action:_},null,Ee)}}else typeof _=="function"&&(oe.preventDefault(),Ee=U?Ob(w,U):new FormData(w),eg(f,{pending:!0,data:Ee,method:w.method,action:_},_,Ee))},currentTarget:w}]})}}for(var Rg=0;Rg<Kl.length;Rg++){var Mg=Kl[Rg],JE=Mg.toLowerCase(),QE=Mg[0].toUpperCase()+Mg.slice(1);is(JE,"on"+QE)}is(Yl,"onAnimationEnd"),is(zu,"onAnimationIteration"),is(mh,"onAnimationStart"),is("dblclick","onDoubleClick"),is("focusin","onFocus"),is("focusout","onBlur"),is(g1,"onTransitionRun"),is(x1,"onTransitionStart"),is(v1,"onTransitionCancel"),is(ph,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bh));function Rb(i,o){o=(o&4)!==0;for(var f=0;f<i.length;f++){var p=i[f],w=p.event;p=p.listeners;e:{var _=void 0;if(o)for(var U=p.length-1;0<=U;U--){var oe=p[U],Ee=oe.instance,Ye=oe.currentTarget;if(oe=oe.listener,Ee!==_&&w.isPropagationStopped())break e;_=oe,w.currentTarget=Ye;try{_(w)}catch(it){Iu(it)}w.currentTarget=null,_=Ee}else for(U=0;U<p.length;U++){if(oe=p[U],Ee=oe.instance,Ye=oe.currentTarget,oe=oe.listener,Ee!==_&&w.isPropagationStopped())break e;_=oe,w.currentTarget=Ye;try{_(w)}catch(it){Iu(it)}w.currentTarget=null,_=Ee}}}}function Jn(i,o){var f=o[Pe];f===void 0&&(f=o[Pe]=new Set);var p=i+"__bubble";f.has(p)||(Mb(o,i,2,!1),f.add(p))}function zg(i,o,f){var p=0;o&&(p|=4),Mb(f,i,p,o)}var W1="_reactListening"+Math.random().toString(36).slice(2);function Ig(i){if(!i[W1]){i[W1]=!0,Qn.forEach(function(f){f!=="selectionchange"&&(eC.has(f)||zg(f,!1,i),zg(f,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[W1]||(o[W1]=!0,zg("selectionchange",!1,o))}}function Mb(i,o,f,p){switch(fw(o)){case 2:var w=CC;break;case 8:w=jC;break;default:w=Qg}f=w.bind(null,o,f,i),w=void 0,!Ou||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),p?w!==void 0?i.addEventListener(o,f,{capture:!0,passive:w}):i.addEventListener(o,f,!0):w!==void 0?i.addEventListener(o,f,{passive:w}):i.addEventListener(o,f,!1)}function Pg(i,o,f,p,w){var _=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var U=p.tag;if(U===3||U===4){var oe=p.stateNode.containerInfo;if(oe===w)break;if(U===4)for(U=p.return;U!==null;){var Ee=U.tag;if((Ee===3||Ee===4)&&U.stateNode.containerInfo===w)return;U=U.return}for(;oe!==null;){if(U=yt(oe),U===null)return;if(Ee=U.tag,Ee===5||Ee===6||Ee===26||Ee===27){p=_=U;continue e}oe=oe.parentNode}}p=p.return}kf(function(){var Ye=_,it=Pl(f),ut=[];e:{var Ke=gh.get(i);if(Ke!==void 0){var Qe=Ys,Jt=i;switch(i){case"keypress":if(wo(f)===0)break e;case"keydown":case"keyup":Qe=hr;break;case"focusin":Jt="focus",Qe=To;break;case"focusout":Jt="blur",Qe=To;break;case"beforeblur":case"afterblur":Qe=To;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qe=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qe=Lf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qe=Fa;break;case Yl:case zu:case mh:Qe=C;break;case ph:Qe=Ka;break;case"scroll":case"scrollend":Qe=Lc;break;case"wheel":Qe=Fi;break;case"copy":case"cut":case"paste":Qe=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qe=ca;break;case"toggle":case"beforetoggle":Qe=Fc}var vn=(o&4)!==0,Ir=!vn&&(i==="scroll"||i==="scrollend"),ze=vn?Ke!==null?Ke+"Capture":null:Ke;vn=[];for(var Le=Ye,$e;Le!==null;){var ct=Le;if($e=ct.stateNode,ct=ct.tag,ct!==5&&ct!==26&&ct!==27||$e===null||ze===null||(ct=qi(Le,ze),ct!=null&&vn.push(Uh(Le,ct,$e))),Ir)break;Le=Le.return}0<vn.length&&(Ke=new Qe(Ke,Jt,null,f,it),ut.push({event:Ke,listeners:vn}))}}if((o&7)===0){e:{if(Ke=i==="mouseover"||i==="pointerover",Qe=i==="mouseout"||i==="pointerout",Ke&&f!==bo&&(Jt=f.relatedTarget||f.fromElement)&&(yt(Jt)||Jt[be]))break e;if((Qe||Ke)&&(Ke=it.window===it?it:(Ke=it.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Qe?(Jt=f.relatedTarget||f.toElement,Qe=Ye,Jt=Jt?yt(Jt):null,Jt!==null&&(Ir=s(Jt),vn=Jt.tag,Jt!==Ir||vn!==5&&vn!==27&&vn!==6)&&(Jt=null)):(Qe=null,Jt=Ye),Qe!==Jt)){if(vn=Ks,ct="onMouseLeave",ze="onMouseEnter",Le="mouse",(i==="pointerout"||i==="pointerover")&&(vn=ca,ct="onPointerLeave",ze="onPointerEnter",Le="pointer"),Ir=Qe==null?Ke:xt(Qe),$e=Jt==null?Ke:xt(Jt),Ke=new vn(ct,Le+"leave",Qe,f,it),Ke.target=Ir,Ke.relatedTarget=$e,ct=null,yt(it)===Ye&&(vn=new vn(ze,Le+"enter",Jt,f,it),vn.target=$e,vn.relatedTarget=Ir,ct=vn),Ir=ct,Qe&&Jt)t:{for(vn=tC,ze=Qe,Le=Jt,$e=0,ct=ze;ct;ct=vn(ct))$e++;ct=0;for(var dn=Le;dn;dn=vn(dn))ct++;for(;0<$e-ct;)ze=vn(ze),$e--;for(;0<ct-$e;)Le=vn(Le),ct--;for(;$e--;){if(ze===Le||Le!==null&&ze===Le.alternate){vn=ze;break t}ze=vn(ze),Le=vn(Le)}vn=null}else vn=null;Qe!==null&&zb(ut,Ke,Qe,vn,!1),Jt!==null&&Ir!==null&&zb(ut,Ir,Jt,vn,!0)}}e:{if(Ke=Ye?xt(Ye):window,Qe=Ke.nodeName&&Ke.nodeName.toLowerCase(),Qe==="select"||Qe==="input"&&Ke.type==="file")var pr=ul;else if(Ru(Ke))if(Oi)pr=eo;else{pr=ua;var sn=zc}else Qe=Ke.nodeName,!Qe||Qe.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?Ye&&Tn(Ye.elementType)&&(pr=ul):pr=Mf;if(pr&&(pr=pr(i,Ye))){Yi(ut,pr,f,it);break e}sn&&sn(i,Ke,Ye),i==="focusout"&&Ye&&Ke.type==="number"&&Ye.memoizedProps.value!=null&&Yn(Ke,"number",Ke.value)}switch(sn=Ye?xt(Ye):window,i){case"focusin":(Ru(sn)||sn.contentEditable==="true")&&(Ki=sn,Lo=Ye,oi=null);break;case"focusout":oi=Lo=Ki=null;break;case"mousedown":as=!0;break;case"contextmenu":case"mouseup":case"dragend":as=!1,dr(ut,f,it);break;case"selectionchange":if($l)break;case"keydown":case"keyup":dr(ut,f,it)}var In;if(Xs)e:{switch(i){case"compositionstart":var nr="onCompositionStart";break e;case"compositionend":nr="onCompositionEnd";break e;case"compositionupdate":nr="onCompositionUpdate";break e}nr=void 0}else Zs?cl(i,f)&&(nr="onCompositionEnd"):i==="keydown"&&f.keyCode===229&&(nr="onCompositionStart");nr&&(ol&&f.locale!=="ko"&&(Zs||nr!=="onCompositionStart"?nr==="onCompositionEnd"&&Zs&&(In=Hl()):(Wi=it,Ul="value"in Wi?Wi.value:Wi.textContent,Zs=!0)),sn=$1(Ye,nr),0<sn.length&&(nr=new Me(nr,i,null,f,it),ut.push({event:nr,listeners:sn}),In?nr.data=In:(In=Oc(f),In!==null&&(nr.data=In)))),(In=Wl?ea(i,f):Ao(i,f))&&(nr=$1(Ye,"onBeforeInput"),0<nr.length&&(sn=new Me("onBeforeInput","beforeinput",null,f,it),ut.push({event:sn,listeners:nr}),sn.data=In)),ZE(ut,i,Ye,f,it)}Rb(ut,o)})}function Uh(i,o,f){return{instance:i,listener:o,currentTarget:f}}function $1(i,o){for(var f=o+"Capture",p=[];i!==null;){var w=i,_=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||_===null||(w=qi(i,f),w!=null&&p.unshift(Uh(i,w,_)),w=qi(i,o),w!=null&&p.push(Uh(i,w,_))),i.tag===3)return p;i=i.return}return[]}function tC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zb(i,o,f,p,w){for(var _=o._reactName,U=[];f!==null&&f!==p;){var oe=f,Ee=oe.alternate,Ye=oe.stateNode;if(oe=oe.tag,Ee!==null&&Ee===p)break;oe!==5&&oe!==26&&oe!==27||Ye===null||(Ee=Ye,w?(Ye=qi(f,_),Ye!=null&&U.unshift(Uh(f,Ye,Ee))):w||(Ye=qi(f,_),Ye!=null&&U.push(Uh(f,Ye,Ee)))),f=f.return}U.length!==0&&i.push({event:o,listeners:U})}var nC=/\r\n?/g,rC=/\u0000|\uFFFD/g;function Ib(i){return(typeof i=="string"?i:""+i).replace(nC,`
`).replace(rC,"")}function Pb(i,o){return o=Ib(o),Ib(i)===o}function zr(i,o,f,p,w,_){switch(f){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Kn(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Kn(i,""+p);break;case"className":lt(i,"class",p);break;case"tabIndex":lt(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(i,f,p);break;case"style":Nr(i,p,_);break;case"data":if(o!=="object"){lt(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||f!=="href")){i.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(f);break}p=As(""+p),i.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(f==="formAction"?(o!=="input"&&zr(i,o,"name",w.name,w,null),zr(i,o,"formEncType",w.formEncType,w,null),zr(i,o,"formMethod",w.formMethod,w,null),zr(i,o,"formTarget",w.formTarget,w,null)):(zr(i,o,"encType",w.encType,w,null),zr(i,o,"method",w.method,w,null),zr(i,o,"target",w.target,w,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(f);break}p=As(""+p),i.setAttribute(f,p);break;case"onClick":p!=null&&(i.onclick=Es);break;case"onScroll":p!=null&&Jn("scroll",i);break;case"onScrollEnd":p!=null&&Jn("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}f=As(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,""+p):i.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,""):i.removeAttribute(f);break;case"capture":case"download":p===!0?i.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(f,p):i.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(f,p):i.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(f):i.setAttribute(f,p);break;case"popover":Jn("beforetoggle",i),Jn("toggle",i),Oe(i,"popover",p);break;case"xlinkActuate":rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":rt(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":rt(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":rt(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":rt(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Oe(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=jc.get(f)||f,Oe(i,f,p))}}function Bg(i,o,f,p,w,_){switch(f){case"style":Nr(i,p,_);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=f}}break;case"children":typeof p=="string"?Kn(i,p):(typeof p=="number"||typeof p=="bigint")&&Kn(i,""+p);break;case"onScroll":p!=null&&Jn("scroll",i);break;case"onScrollEnd":p!=null&&Jn("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Es);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!On.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(w=f.endsWith("Capture"),o=f.slice(2,w?f.length-7:void 0),_=i[ge]||null,_=_!=null?_[f]:null,typeof _=="function"&&i.removeEventListener(o,_,w),typeof p=="function")){typeof _!="function"&&_!==null&&(f in i?i[f]=null:i.hasAttribute(f)&&i.removeAttribute(f)),i.addEventListener(o,p,w);break e}f in i?i[f]=p:p===!0?i.setAttribute(f,""):Oe(i,f,p)}}}function _i(i,o,f){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jn("error",i),Jn("load",i);var p=!1,w=!1,_;for(_ in f)if(f.hasOwnProperty(_)){var U=f[_];if(U!=null)switch(_){case"src":p=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:zr(i,o,_,U,f,null)}}w&&zr(i,o,"srcSet",f.srcSet,f,null),p&&zr(i,o,"src",f.src,f,null);return;case"input":Jn("invalid",i);var oe=_=U=w=null,Ee=null,Ye=null;for(p in f)if(f.hasOwnProperty(p)){var it=f[p];if(it!=null)switch(p){case"name":w=it;break;case"type":U=it;break;case"checked":Ee=it;break;case"defaultChecked":Ye=it;break;case"value":_=it;break;case"defaultValue":oe=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,o));break;default:zr(i,o,p,it,f,null)}}vt(i,_,oe,Ee,Ye,U,w,!1);return;case"select":Jn("invalid",i),p=U=_=null;for(w in f)if(f.hasOwnProperty(w)&&(oe=f[w],oe!=null))switch(w){case"value":_=oe;break;case"defaultValue":U=oe;break;case"multiple":p=oe;default:zr(i,o,w,oe,f,null)}o=_,f=U,i.multiple=!!p,o!=null?la(i,!!p,o,!1):f!=null&&la(i,!!p,f,!0);return;case"textarea":Jn("invalid",i),_=w=p=null;for(U in f)if(f.hasOwnProperty(U)&&(oe=f[U],oe!=null))switch(U){case"value":p=oe;break;case"defaultValue":w=oe;break;case"children":_=oe;break;case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(91));break;default:zr(i,o,U,oe,f,null)}Ts(i,p,w,_);return;case"option":for(Ee in f)if(f.hasOwnProperty(Ee)&&(p=f[Ee],p!=null))switch(Ee){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:zr(i,o,Ee,p,f,null)}return;case"dialog":Jn("beforetoggle",i),Jn("toggle",i),Jn("cancel",i),Jn("close",i);break;case"iframe":case"object":Jn("load",i);break;case"video":case"audio":for(p=0;p<Bh.length;p++)Jn(Bh[p],i);break;case"image":Jn("error",i),Jn("load",i);break;case"details":Jn("toggle",i);break;case"embed":case"source":case"link":Jn("error",i),Jn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ye in f)if(f.hasOwnProperty(Ye)&&(p=f[Ye],p!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:zr(i,o,Ye,p,f,null)}return;default:if(Tn(o)){for(it in f)f.hasOwnProperty(it)&&(p=f[it],p!==void 0&&Bg(i,o,it,p,f,void 0));return}}for(oe in f)f.hasOwnProperty(oe)&&(p=f[oe],p!=null&&zr(i,o,oe,p,f,null))}function aC(i,o,f,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,_=null,U=null,oe=null,Ee=null,Ye=null,it=null;for(Qe in f){var ut=f[Qe];if(f.hasOwnProperty(Qe)&&ut!=null)switch(Qe){case"checked":break;case"value":break;case"defaultValue":Ee=ut;default:p.hasOwnProperty(Qe)||zr(i,o,Qe,null,p,ut)}}for(var Ke in p){var Qe=p[Ke];if(ut=f[Ke],p.hasOwnProperty(Ke)&&(Qe!=null||ut!=null))switch(Ke){case"type":_=Qe;break;case"name":w=Qe;break;case"checked":Ye=Qe;break;case"defaultChecked":it=Qe;break;case"value":U=Qe;break;case"defaultValue":oe=Qe;break;case"children":case"dangerouslySetInnerHTML":if(Qe!=null)throw Error(r(137,o));break;default:Qe!==ut&&zr(i,o,Ke,Qe,p,ut)}}Ot(i,U,oe,Ee,Ye,it,_,w);return;case"select":Qe=U=oe=Ke=null;for(_ in f)if(Ee=f[_],f.hasOwnProperty(_)&&Ee!=null)switch(_){case"value":break;case"multiple":Qe=Ee;default:p.hasOwnProperty(_)||zr(i,o,_,null,p,Ee)}for(w in p)if(_=p[w],Ee=f[w],p.hasOwnProperty(w)&&(_!=null||Ee!=null))switch(w){case"value":Ke=_;break;case"defaultValue":oe=_;break;case"multiple":U=_;default:_!==Ee&&zr(i,o,w,_,p,Ee)}o=oe,f=U,p=Qe,Ke!=null?la(i,!!f,Ke,!1):!!p!=!!f&&(o!=null?la(i,!!f,o,!0):la(i,!!f,f?[]:"",!1));return;case"textarea":Qe=Ke=null;for(oe in f)if(w=f[oe],f.hasOwnProperty(oe)&&w!=null&&!p.hasOwnProperty(oe))switch(oe){case"value":break;case"children":break;default:zr(i,o,oe,null,p,w)}for(U in p)if(w=p[U],_=f[U],p.hasOwnProperty(U)&&(w!=null||_!=null))switch(U){case"value":Ke=w;break;case"defaultValue":Qe=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==_&&zr(i,o,U,w,p,_)}_s(i,Ke,Qe);return;case"option":for(var Jt in f)if(Ke=f[Jt],f.hasOwnProperty(Jt)&&Ke!=null&&!p.hasOwnProperty(Jt))switch(Jt){case"selected":i.selected=!1;break;default:zr(i,o,Jt,null,p,Ke)}for(Ee in p)if(Ke=p[Ee],Qe=f[Ee],p.hasOwnProperty(Ee)&&Ke!==Qe&&(Ke!=null||Qe!=null))switch(Ee){case"selected":i.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:zr(i,o,Ee,Ke,p,Qe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vn in f)Ke=f[vn],f.hasOwnProperty(vn)&&Ke!=null&&!p.hasOwnProperty(vn)&&zr(i,o,vn,null,p,Ke);for(Ye in p)if(Ke=p[Ye],Qe=f[Ye],p.hasOwnProperty(Ye)&&Ke!==Qe&&(Ke!=null||Qe!=null))switch(Ye){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(r(137,o));break;default:zr(i,o,Ye,Ke,p,Qe)}return;default:if(Tn(o)){for(var Ir in f)Ke=f[Ir],f.hasOwnProperty(Ir)&&Ke!==void 0&&!p.hasOwnProperty(Ir)&&Bg(i,o,Ir,void 0,p,Ke);for(it in p)Ke=p[it],Qe=f[it],!p.hasOwnProperty(it)||Ke===Qe||Ke===void 0&&Qe===void 0||Bg(i,o,it,Ke,p,Qe);return}}for(var ze in f)Ke=f[ze],f.hasOwnProperty(ze)&&Ke!=null&&!p.hasOwnProperty(ze)&&zr(i,o,ze,null,p,Ke);for(ut in p)Ke=p[ut],Qe=f[ut],!p.hasOwnProperty(ut)||Ke===Qe||Ke==null&&Qe==null||zr(i,o,ut,Ke,p,Qe)}function Bb(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var w=f[p],_=w.transferSize,U=w.initiatorType,oe=w.duration;if(_&&oe&&Bb(U)){for(U=0,oe=w.responseEnd,p+=1;p<f.length;p++){var Ee=f[p],Ye=Ee.startTime;if(Ye>oe)break;var it=Ee.transferSize,ut=Ee.initiatorType;it&&Bb(ut)&&(Ee=Ee.responseEnd,U+=it*(Ee<oe?1:(oe-Ye)/(Ee-Ye)))}if(--p,o+=8*(_+U)/(w.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Ug=null,Hg=null;function Y1(i){return i.nodeType===9?i:i.ownerDocument}function Ub(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hb(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Vg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Gg=null;function sC(){var i=window.event;return i&&i.type==="popstate"?i===Gg?!1:(Gg=i,!0):(Gg=null,!1)}var Vb=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,Gb=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Gb<"u"?function(i){return Gb.resolve(null).then(i).catch(cC)}:Vb;function cC(i){setTimeout(function(){throw i})}function ru(i){return i==="head"}function qb(i,o){var f=o,p=0;do{var w=f.nextSibling;if(i.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"||f==="/&"){if(p===0){i.removeChild(w),p0(o);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Hh(i.ownerDocument.documentElement);else if(f==="head"){f=i.ownerDocument.head,Hh(f);for(var _=f.firstChild;_;){var U=_.nextSibling,oe=_.nodeName;_[He]||oe==="SCRIPT"||oe==="STYLE"||oe==="LINK"&&_.rel.toLowerCase()==="stylesheet"||f.removeChild(_),_=U}}else f==="body"&&Hh(i.ownerDocument.body);f=w}while(f);p0(o)}function Wb(i,o){var f=i;i=0;do{var p=f.nextSibling;if(f.nodeType===1?o?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(o?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(i===0)break;i--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||i++;f=p}while(f)}function qg(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var f=o;switch(o=o.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":qg(f),ht(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}i.removeChild(f)}}function uC(i,o,f,p){for(;i.nodeType===1;){var w=f;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[He])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=oo(i.nextSibling),i===null)break}return null}function fC(i,o,f){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!f||(i=oo(i.nextSibling),i===null))return null;return i}function $b(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=oo(i.nextSibling),i===null))return null;return i}function Wg(i){return i.data==="$?"||i.data==="$~"}function $g(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function hC(i,o){var f=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||f.readyState!=="loading")o();else{var p=function(){o(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function oo(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Yg=null;function Yb(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="/$"||f==="/&"){if(o===0)return oo(i.nextSibling);o--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||o++}i=i.nextSibling}return null}function Kb(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var f=i.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(o===0)return i;o--}else f!=="/$"&&f!=="/&"||o++}i=i.previousSibling}return null}function Xb(i,o,f){switch(o=Y1(f),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Hh(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);ht(i)}var lo=new Map,Zb=new Set;function K1(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fc=ae.d;ae.d={f:dC,r:mC,D:pC,C:gC,L:xC,m:vC,X:bC,S:yC,M:wC};function dC(){var i=fc.f(),o=B1();return i||o}function mC(i){var o=Tt(i);o!==null&&o.tag===5&&o.type==="form"?my(o):fc.r(i)}var h0=typeof document>"u"?null:document;function Jb(i,o,f){var p=h0;if(p&&typeof o=="string"&&o){var w=Ae(o);w='link[rel="'+i+'"][href="'+w+'"]',typeof f=="string"&&(w+='[crossorigin="'+f+'"]'),Zb.has(w)||(Zb.add(w),i={rel:i,crossOrigin:f,href:o},p.querySelector(w)===null&&(o=p.createElement("link"),_i(o,"link",i),Mt(o),p.head.appendChild(o)))}}function pC(i){fc.D(i),Jb("dns-prefetch",i,null)}function gC(i,o){fc.C(i,o),Jb("preconnect",i,o)}function xC(i,o,f){fc.L(i,o,f);var p=h0;if(p&&i&&o){var w='link[rel="preload"][as="'+Ae(o)+'"]';o==="image"&&f&&f.imageSrcSet?(w+='[imagesrcset="'+Ae(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(w+='[imagesizes="'+Ae(f.imageSizes)+'"]')):w+='[href="'+Ae(i)+'"]';var _=w;switch(o){case"style":_=d0(i);break;case"script":_=m0(i)}lo.has(_)||(i=v({rel:"preload",href:o==="image"&&f&&f.imageSrcSet?void 0:i,as:o},f),lo.set(_,i),p.querySelector(w)!==null||o==="style"&&p.querySelector(Vh(_))||o==="script"&&p.querySelector(Gh(_))||(o=p.createElement("link"),_i(o,"link",i),Mt(o),p.head.appendChild(o)))}}function vC(i,o){fc.m(i,o);var f=h0;if(f&&i){var p=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+Ae(p)+'"][href="'+Ae(i)+'"]',_=w;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=m0(i)}if(!lo.has(_)&&(i=v({rel:"modulepreload",href:i},o),lo.set(_,i),f.querySelector(w)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Gh(_)))return}p=f.createElement("link"),_i(p,"link",i),Mt(p),f.head.appendChild(p)}}}function yC(i,o,f){fc.S(i,o,f);var p=h0;if(p&&i){var w=Nt(p).hoistableStyles,_=d0(i);o=o||"default";var U=w.get(_);if(!U){var oe={loading:0,preload:null};if(U=p.querySelector(Vh(_)))oe.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":o},f),(f=lo.get(_))&&Kg(i,f);var Ee=U=p.createElement("link");Mt(Ee),_i(Ee,"link",i),Ee._p=new Promise(function(Ye,it){Ee.onload=Ye,Ee.onerror=it}),Ee.addEventListener("load",function(){oe.loading|=1}),Ee.addEventListener("error",function(){oe.loading|=2}),oe.loading|=4,X1(U,o,p)}U={type:"stylesheet",instance:U,count:1,state:oe},w.set(_,U)}}}function bC(i,o){fc.X(i,o);var f=h0;if(f&&i){var p=Nt(f).hoistableScripts,w=m0(i),_=p.get(w);_||(_=f.querySelector(Gh(w)),_||(i=v({src:i,async:!0},o),(o=lo.get(w))&&Xg(i,o),_=f.createElement("script"),Mt(_),_i(_,"link",i),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(w,_))}}function wC(i,o){fc.M(i,o);var f=h0;if(f&&i){var p=Nt(f).hoistableScripts,w=m0(i),_=p.get(w);_||(_=f.querySelector(Gh(w)),_||(i=v({src:i,async:!0,type:"module"},o),(o=lo.get(w))&&Xg(i,o),_=f.createElement("script"),Mt(_),_i(_,"link",i),f.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},p.set(w,_))}}function Qb(i,o,f,p){var w=(w=te.current)?K1(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(o=d0(f.href),f=Nt(w).hoistableStyles,p=f.get(o),p||(p={type:"style",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){i=d0(f.href);var _=Nt(w).hoistableStyles,U=_.get(i);if(U||(w=w.ownerDocument||w,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,U),(_=w.querySelector(Vh(i)))&&!_._p&&(U.instance=_,U.state.loading=5),lo.has(i)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},lo.set(i,f),_||SC(w,i,f,U.state))),o&&p===null)throw Error(r(528,""));return U}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=f.async,f=f.src,typeof f=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=m0(f),f=Nt(w).hoistableScripts,p=f.get(o),p||(p={type:"script",instance:null,count:0,state:null},f.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function d0(i){return'href="'+Ae(i)+'"'}function Vh(i){return'link[rel="stylesheet"]['+i+"]"}function ew(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function SC(i,o,f,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),_i(o,"link",f),Mt(o),i.head.appendChild(o))}function m0(i){return'[src="'+Ae(i)+'"]'}function Gh(i){return"script[async]"+i}function tw(i,o,f){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Ae(f.href)+'"]');if(p)return o.instance=p,Mt(p),p;var w=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),Mt(p),_i(p,"style",w),X1(p,f.precedence,i),o.instance=p;case"stylesheet":w=d0(f.href);var _=i.querySelector(Vh(w));if(_)return o.state.loading|=4,o.instance=_,Mt(_),_;p=ew(f),(w=lo.get(w))&&Kg(p,w),_=(i.ownerDocument||i).createElement("link"),Mt(_);var U=_;return U._p=new Promise(function(oe,Ee){U.onload=oe,U.onerror=Ee}),_i(_,"link",p),o.state.loading|=4,X1(_,f.precedence,i),o.instance=_;case"script":return _=m0(f.src),(w=i.querySelector(Gh(_)))?(o.instance=w,Mt(w),w):(p=f,(w=lo.get(_))&&(p=v({},f),Xg(p,w)),i=i.ownerDocument||i,w=i.createElement("script"),Mt(w),_i(w,"link",p),i.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,X1(p,f.precedence,i));return o.instance}function X1(i,o,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=p.length?p[p.length-1]:null,_=w,U=0;U<p.length;U++){var oe=p[U];if(oe.dataset.precedence===o)_=oe;else if(_!==w)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=f.nodeType===9?f.head:f,o.insertBefore(i,o.firstChild))}function Kg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Xg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Z1=null;function nw(i,o,f){if(Z1===null){var p=new Map,w=Z1=new Map;w.set(f,p)}else w=Z1,p=w.get(f),p||(p=new Map,w.set(f,p));if(p.has(i))return p;for(p.set(i,null),f=f.getElementsByTagName(i),w=0;w<f.length;w++){var _=f[w];if(!(_[He]||_[he]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var U=_.getAttribute(o)||"";U=i+U;var oe=p.get(U);oe?oe.push(_):p.set(U,[_])}}return p}function rw(i,o,f){i=i.ownerDocument||i,i.head.insertBefore(f,o==="title"?i.querySelector("head > title"):null)}function NC(i,o,f){if(f===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function aw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _C(i,o,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var w=d0(p.href),_=o.querySelector(Vh(w));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=J1.bind(i),o.then(i,i)),f.state.loading|=4,f.instance=_,Mt(_);return}_=o.ownerDocument||o,p=ew(p),(w=lo.get(w))&&Kg(p,w),_=_.createElement("link"),Mt(_);var U=_;U._p=new Promise(function(oe,Ee){U.onload=oe,U.onerror=Ee}),_i(_,"link",p),f.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(f,o),(o=f.state.preload)&&(f.state.loading&3)===0&&(i.count++,f=J1.bind(i),o.addEventListener("load",f),o.addEventListener("error",f))}}var Zg=0;function TC(i,o){return i.stylesheets&&i.count===0&&em(i,i.stylesheets),0<i.count||0<i.imgCount?function(f){var p=setTimeout(function(){if(i.stylesheets&&em(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&Zg===0&&(Zg=62500*iC());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&em(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Zg?50:800)+o);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(w)}}:null}function J1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Q1=null;function em(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Q1=new Map,o.forEach(AC,i),Q1=null,J1.call(i))}function AC(i,o){if(!(o.state.loading&4)){var f=Q1.get(i);if(f)var p=f.get(null);else{f=new Map,Q1.set(i,f);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<w.length;_++){var U=w[_];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(f.set(U.dataset.precedence,U),p=U)}p&&f.set(null,p)}w=o.instance,U=w.getAttribute("data-precedence"),_=f.get(U)||p,_===p&&f.set(null,w),f.set(U,w),this.count++,p=J1.bind(this),w.addEventListener("load",p),w.addEventListener("error",p),_?_.parentNode.insertBefore(w,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),o.state.loading|=4}}var qh={$$typeof:j,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function EC(i,o,f,p,w,_,U,oe,Ee){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=p,this.onUncaughtError=w,this.onCaughtError=_,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ee,this.incompleteTransitions=new Map}function iw(i,o,f,p,w,_,U,oe,Ee,Ye,it,ut){return i=new EC(i,o,f,U,Ee,Ye,it,ut,oe),o=1,_===!0&&(o|=24),_=ci(3,null,null,o),i.current=_,_.stateNode=i,o=qc(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:p,isDehydrated:f,cache:o},jt(_),i}function sw(i){return i?(i=Ja,i):Ja}function ow(i,o,f,p,w,_){w=sw(w),p.context===null?p.context=w:p.pendingContext=w,p=gn(o),p.payload={element:f},_=_===void 0?null:_,_!==null&&(p.callback=_),f=Rn(i,p,o),f!==null&&(vs(f,i,o),vr(f,i,o))}function lw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var f=i.retryLane;i.retryLane=f!==0&&f<o?f:o}}function Jg(i,o){lw(i,o),(i=i.alternate)&&lw(i,o)}function cw(i){if(i.tag===13||i.tag===31){var o=Fo(i,67108864);o!==null&&vs(o,i,67108864),Jg(i,67108864)}}function uw(i){if(i.tag===13||i.tag===31){var o=Rs();o=jn(o);var f=Fo(i,o);f!==null&&vs(f,i,o),Jg(i,o)}}var tm=!0;function CC(i,o,f,p){var w=V.T;V.T=null;var _=ae.p;try{ae.p=2,Qg(i,o,f,p)}finally{ae.p=_,V.T=w}}function jC(i,o,f,p){var w=V.T;V.T=null;var _=ae.p;try{ae.p=8,Qg(i,o,f,p)}finally{ae.p=_,V.T=w}}function Qg(i,o,f,p){if(tm){var w=e2(p);if(w===null)Pg(i,o,p,nm,f),hw(i,p);else if(kC(w,i,o,f,p))p.stopPropagation();else if(hw(i,p),o&4&&-1<DC.indexOf(i)){for(;w!==null;){var _=Tt(w);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var U=Ut(_.pendingLanes);if(U!==0){var oe=_;for(oe.pendingLanes|=2,oe.entangledLanes|=2;U;){var Ee=1<<31-xn(U);oe.entanglements[1]|=Ee,U&=~Ee}Nl(_),(br&6)===0&&(I1=qt()+500,Ph(0))}}break;case 31:case 13:oe=Fo(_,2),oe!==null&&vs(oe,_,2),B1(),Jg(_,2)}if(_=e2(p),_===null&&Pg(i,o,p,nm,f),_===w)break;w=_}w!==null&&p.stopPropagation()}else Pg(i,o,p,null,f)}}function e2(i){return i=Pl(i),t2(i)}var nm=null;function t2(i){if(nm=null,i=yt(i),i!==null){var o=s(i);if(o===null)i=null;else{var f=o.tag;if(f===13){if(i=l(o),i!==null)return i;i=null}else if(f===31){if(i=c(o),i!==null)return i;i=null}else if(f===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return nm=i,null}function fw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case Wt:return 2;case cn:return 8;case zt:case It:return 32;case tn:return 268435456;default:return 32}default:return 32}}var n2=!1,au=null,iu=null,su=null,Wh=new Map,$h=new Map,ou=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hw(i,o){switch(i){case"focusin":case"focusout":au=null;break;case"dragenter":case"dragleave":iu=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":Wh.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":$h.delete(o.pointerId)}}function Yh(i,o,f,p,w,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:f,eventSystemFlags:p,nativeEvent:_,targetContainers:[w]},o!==null&&(o=Tt(o),o!==null&&cw(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),i)}function kC(i,o,f,p,w){switch(o){case"focusin":return au=Yh(au,i,o,f,p,w),!0;case"dragenter":return iu=Yh(iu,i,o,f,p,w),!0;case"mouseover":return su=Yh(su,i,o,f,p,w),!0;case"pointerover":var _=w.pointerId;return Wh.set(_,Yh(Wh.get(_)||null,i,o,f,p,w)),!0;case"gotpointercapture":return _=w.pointerId,$h.set(_,Yh($h.get(_)||null,i,o,f,p,w)),!0}return!1}function dw(i){var o=yt(i.target);if(o!==null){var f=s(o);if(f!==null){if(o=f.tag,o===13){if(o=l(f),o!==null){i.blockedOn=o,ye(i.priority,function(){uw(f)});return}}else if(o===31){if(o=c(f),o!==null){i.blockedOn=o,ye(i.priority,function(){uw(f)});return}}else if(o===3&&f.stateNode.current.memoizedState.isDehydrated){i.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rm(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var f=e2(i.nativeEvent);if(f===null){f=i.nativeEvent;var p=new f.constructor(f.type,f);bo=p,f.target.dispatchEvent(p),bo=null}else return o=Tt(f),o!==null&&cw(o),i.blockedOn=f,!1;o.shift()}return!0}function mw(i,o,f){rm(i)&&f.delete(o)}function LC(){n2=!1,au!==null&&rm(au)&&(au=null),iu!==null&&rm(iu)&&(iu=null),su!==null&&rm(su)&&(su=null),Wh.forEach(mw),$h.forEach(mw)}function am(i,o){i.blockedOn===o&&(i.blockedOn=null,n2||(n2=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LC)))}var im=null;function pw(i){im!==i&&(im=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){im===i&&(im=null);for(var o=0;o<i.length;o+=3){var f=i[o],p=i[o+1],w=i[o+2];if(typeof p!="function"){if(t2(p||f)===null)continue;break}var _=Tt(f);_!==null&&(i.splice(o,3),o-=3,eg(_,{pending:!0,data:w,method:f.method,action:p},p,w))}}))}function p0(i){function o(Ee){return am(Ee,i)}au!==null&&am(au,i),iu!==null&&am(iu,i),su!==null&&am(su,i),Wh.forEach(o),$h.forEach(o);for(var f=0;f<ou.length;f++){var p=ou[f];p.blockedOn===i&&(p.blockedOn=null)}for(;0<ou.length&&(f=ou[0],f.blockedOn===null);)dw(f),f.blockedOn===null&&ou.shift();if(f=(i.ownerDocument||i).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var w=f[p],_=f[p+1],U=w[ge]||null;if(typeof _=="function")U||pw(f);else if(U){var oe=null;if(_&&_.hasAttribute("formAction")){if(w=_,U=_[ge]||null)oe=U.formAction;else if(t2(w)!==null)continue}else oe=U.action;typeof oe=="function"?f[p+1]=oe:(f.splice(p,3),p-=3),pw(f)}}}function gw(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(U){return w=U})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function r2(i){this._internalRoot=i}sm.prototype.render=r2.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var f=o.current,p=Rs();ow(f,p,i,o,null,null)},sm.prototype.unmount=r2.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ow(i.current,2,null,i,null,null),B1(),o[be]=null}};function sm(i){this._internalRoot=i}sm.prototype.unstable_scheduleHydration=function(i){if(i){var o=ne();i={blockedOn:null,target:i,priority:o};for(var f=0;f<ou.length&&o!==0&&o<ou[f].priority;f++);ou.splice(f,0,i),f===0&&dw(i)}};var xw=t.version;if(xw!=="19.2.0")throw Error(r(527,xw,"19.2.0"));ae.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=h(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var FC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{Xt=om.inject(FC),Dt=om}catch{}}return Xh.createRoot=function(i,o){if(!a(i))throw Error(r(299));var f=!1,p="",w=_y,_=Ty,U=Ay;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError)),o=iw(i,1,!1,null,null,f,p,null,w,_,U,gw),i[be]=o.current,Ig(i),new r2(o)},Xh.hydrateRoot=function(i,o,f){if(!a(i))throw Error(r(299));var p=!1,w="",_=_y,U=Ty,oe=Ay,Ee=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(_=f.onUncaughtError),f.onCaughtError!==void 0&&(U=f.onCaughtError),f.onRecoverableError!==void 0&&(oe=f.onRecoverableError),f.formState!==void 0&&(Ee=f.formState)),o=iw(i,1,!0,o,f??null,p,w,Ee,_,U,oe,gw),o.context=sw(null),f=o.current,p=Rs(),p=jn(p),w=gn(p),w.callback=null,Rn(f,w,p),f=p,o.current.lanes=f,kt(o,f),Nl(o),i[be]=o.current,Ig(i),new sm(o)},Xh.version="19.2.0",Xh}var Ew;function qC(){if(Ew)return s2.exports;Ew=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),s2.exports=GC(),s2.exports}var WC=qC();const $C=Lv(WC),Rv=W.createContext({});function Mv(e){const t=W.useRef(null);return t.current===null&&(t.current=e()),t.current}const zv=typeof window<"u",$6=zv?W.useLayoutEffect:W.useEffect,Ep=W.createContext(null);function Iv(e,t){e.indexOf(t)===-1&&e.push(t)}function Pv(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const wc=(e,t,n)=>n>t?t:n<e?e:n;let Bv=()=>{};const Sc={},Y6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function K6(e){return typeof e=="object"&&e!==null}const X6=e=>/^0[^.\s]+$/u.test(e);function Uv(e){let t;return()=>(t===void 0&&(t=e()),t)}const po=e=>e,YC=(e,t)=>n=>t(e(n)),t1=(...e)=>e.reduce(YC),_d=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Hv{constructor(){this.subscriptions=[]}add(t){return Iv(this.subscriptions,t),()=>Pv(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let s=0;s<a;s++){const l=this.subscriptions[s];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kl=e=>e*1e3,mo=e=>e/1e3;function Z6(e,t){return t?e*(1e3/t):0}const J6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,KC=1e-7,XC=12;function ZC(e,t,n,r,a){let s,l,c=0;do l=t+(n-t)/2,s=J6(l,r,a)-e,s>0?n=l:t=l;while(Math.abs(s)>KC&&++c<XC);return l}function n1(e,t,n,r){if(e===t&&n===r)return po;const a=s=>ZC(s,0,1,e,n);return s=>s===0||s===1?s:J6(a(s),t,r)}const Q6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,eN=e=>t=>1-e(1-t),tN=n1(.33,1.53,.69,.99),Vv=eN(tN),nN=Q6(Vv),rN=e=>(e*=2)<1?.5*Vv(e):.5*(2-Math.pow(2,-10*(e-1))),Gv=e=>1-Math.sin(Math.acos(e)),aN=eN(Gv),iN=Q6(Gv),JC=n1(.42,0,1,1),QC=n1(0,0,.58,1),sN=n1(.42,0,.58,1),ej=e=>Array.isArray(e)&&typeof e[0]!="number",oN=e=>Array.isArray(e)&&typeof e[0]=="number",tj={linear:po,easeIn:JC,easeInOut:sN,easeOut:QC,circIn:Gv,circInOut:iN,circOut:aN,backIn:Vv,backInOut:nN,backOut:tN,anticipate:rN},nj=e=>typeof e=="string",Cw=e=>{if(oN(e)){Bv(e.length===4);const[t,n,r,a]=e;return n1(t,n,r,a)}else if(nj(e))return tj[e];return e},lm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rj(e,t){let n=new Set,r=new Set,a=!1,s=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(h.schedule(m),e()),m(c)}const h={schedule:(m,v=!1,y=!1)=>{const T=y&&a?n:r;return v&&l.add(m),T.has(m)||T.add(m),m},cancel:m=>{r.delete(m),l.delete(m)},process:m=>{if(c=m,a){s=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),n.clear(),a=!1,s&&(s=!1,h.process(m))}};return h}const aj=40;function lN(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=lm.reduce((j,R)=>(j[R]=rj(s),j),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:v,preRender:y,render:g,postRender:T}=l,b=()=>{const j=Sc.useManualTiming?a.timestamp:performance.now();n=!1,Sc.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(j-a.timestamp,aj),1)),a.timestamp=j,a.isProcessing=!0,c.process(a),d.process(a),h.process(a),m.process(a),v.process(a),y.process(a),g.process(a),T.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(b))},A=()=>{n=!0,r=!0,a.isProcessing||e(b)};return{schedule:lm.reduce((j,R)=>{const q=l[R];return j[R]=(Z,I=!1,Y=!1)=>(n||A(),q.schedule(Z,I,Y)),j},{}),cancel:j=>{for(let R=0;R<lm.length;R++)l[lm[R]].cancel(j)},state:a,steps:l}}const{schedule:sa,cancel:yu,state:Ai,steps:u2}=lN(typeof requestAnimationFrame<"u"?requestAnimationFrame:po,!0);let Fm;function ij(){Fm=void 0}const ys={now:()=>(Fm===void 0&&ys.set(Ai.isProcessing||Sc.useManualTiming?Ai.timestamp:performance.now()),Fm),set:e=>{Fm=e,queueMicrotask(ij)}},cN=e=>t=>typeof t=="string"&&t.startsWith(e),uN=cN("--"),sj=cN("var(--"),qv=e=>sj(e)?oj.test(e.split("/*")[0].trim()):!1,oj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ah={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Td={...ah,transform:e=>wc(0,1,e)},cm={...ah,default:1},ud=e=>Math.round(e*1e5)/1e5,Wv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lj(e){return e==null}const cj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$v=(e,t)=>n=>!!(typeof n=="string"&&cj.test(n)&&n.startsWith(e)||t&&!lj(n)&&Object.prototype.hasOwnProperty.call(n,t)),fN=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,s,l,c]=r.match(Wv);return{[e]:parseFloat(a),[t]:parseFloat(s),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},uj=e=>wc(0,255,e),f2={...ah,transform:e=>Math.round(uj(e))},of={test:$v("rgb","red"),parse:fN("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+f2.transform(e)+", "+f2.transform(t)+", "+f2.transform(n)+", "+ud(Td.transform(r))+")"};function fj(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Fx={test:$v("#"),parse:fj,transform:of.transform},r1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hu=r1("deg"),Ll=r1("%"),Sn=r1("px"),hj=r1("vh"),dj=r1("vw"),jw={...Ll,parse:e=>Ll.parse(e)/100,transform:e=>Ll.transform(e*100)},C0={test:$v("hsl","hue"),parse:fN("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ll.transform(ud(t))+", "+Ll.transform(ud(n))+", "+ud(Td.transform(r))+")"},Ga={test:e=>of.test(e)||Fx.test(e)||C0.test(e),parse:e=>of.test(e)?of.parse(e):C0.test(e)?C0.parse(e):Fx.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?of.transform(e):C0.transform(e),getAnimatableNone:e=>{const t=Ga.parse(e);return t.alpha=0,Ga.transform(t)}},mj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Wv))==null?void 0:t.length)||0)+(((n=e.match(mj))==null?void 0:n.length)||0)>0}const hN="number",dN="color",gj="var",xj="var(",Dw="${}",vj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ad(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let s=0;const c=t.replace(vj,d=>(Ga.test(d)?(r.color.push(s),a.push(dN),n.push(Ga.parse(d))):d.startsWith(xj)?(r.var.push(s),a.push(gj),n.push(d)):(r.number.push(s),a.push(hN),n.push(parseFloat(d))),++s,Dw)).split(Dw);return{values:n,split:c,indexes:r,types:a}}function mN(e){return Ad(e).values}function pN(e){const{split:t,types:n}=Ad(e),r=t.length;return a=>{let s="";for(let l=0;l<r;l++)if(s+=t[l],a[l]!==void 0){const c=n[l];c===hN?s+=ud(a[l]):c===dN?s+=Ga.transform(a[l]):s+=a[l]}return s}}const yj=e=>typeof e=="number"?0:Ga.test(e)?Ga.getAnimatableNone(e):e;function bj(e){const t=mN(e);return pN(e)(t.map(yj))}const bu={test:pj,parse:mN,createTransformer:pN,getAnimatableNone:bj};function h2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wj({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,s=0,l=0;if(!t)a=s=l=n;else{const c=n<.5?n*(1+t):n+t-n*t,d=2*n-c;a=h2(d,c,e+1/3),s=h2(d,c,e),l=h2(d,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function Vm(e,t){return n=>n>0?t:e}const pa=(e,t,n)=>e+(t-e)*n,d2=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Sj=[Fx,of,C0],Nj=e=>Sj.find(t=>t.test(e));function kw(e){const t=Nj(e);if(!t)return!1;let n=t.parse(e);return t===C0&&(n=wj(n)),n}const Lw=(e,t)=>{const n=kw(e),r=kw(t);if(!n||!r)return Vm(e,t);const a={...n};return s=>(a.red=d2(n.red,r.red,s),a.green=d2(n.green,r.green,s),a.blue=d2(n.blue,r.blue,s),a.alpha=pa(n.alpha,r.alpha,s),of.transform(a))},Ox=new Set(["none","hidden"]);function _j(e,t){return Ox.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Tj(e,t){return n=>pa(e,t,n)}function Yv(e){return typeof e=="number"?Tj:typeof e=="string"?qv(e)?Vm:Ga.test(e)?Lw:Cj:Array.isArray(e)?gN:typeof e=="object"?Ga.test(e)?Lw:Aj:Vm}function gN(e,t){const n=[...e],r=n.length,a=e.map((s,l)=>Yv(s)(s,t[l]));return s=>{for(let l=0;l<r;l++)n[l]=a[l](s);return n}}function Aj(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Yv(e[a])(e[a],t[a]));return a=>{for(const s in r)n[s]=r[s](a);return n}}function Ej(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],l=e.indexes[s][r[s]],c=e.values[l]??0;n[a]=c,r[s]++}return n}const Cj=(e,t)=>{const n=bu.createTransformer(t),r=Ad(e),a=Ad(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ox.has(e)&&!a.values.length||Ox.has(t)&&!r.values.length?_j(e,t):t1(gN(Ej(r,a),a.values),n):Vm(e,t)};function xN(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pa(e,t,n):Yv(e)(e,t)}const jj=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>sa.update(t,n),stop:()=>yu(t),now:()=>Ai.isProcessing?Ai.timestamp:ys.now()}},vN=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let s=0;s<a;s++)r+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gm=2e4;function Kv(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gm;)t+=n,r=e.next(t);return t>=Gm?1/0:t}function Dj(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Kv(r),Gm);return{type:"keyframes",ease:s=>r.next(a*s).value/t,duration:mo(a)}}const kj=5;function yN(e,t,n){const r=Math.max(t-kj,0);return Z6(n-e(r),t-r)}const Ea={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},m2=.001;function Lj({duration:e=Ea.duration,bounce:t=Ea.bounce,velocity:n=Ea.velocity,mass:r=Ea.mass}){let a,s,l=1-t;l=wc(Ea.minDamping,Ea.maxDamping,l),e=wc(Ea.minDuration,Ea.maxDuration,mo(e)),l<1?(a=h=>{const m=h*l,v=m*e,y=m-n,g=Rx(h,l),T=Math.exp(-v);return m2-y/g*T},s=h=>{const v=h*l*e,y=v*n+n,g=Math.pow(l,2)*Math.pow(h,2)*e,T=Math.exp(-v),b=Rx(Math.pow(h,2),l);return(-a(h)+m2>0?-1:1)*((y-g)*T)/b}):(a=h=>{const m=Math.exp(-h*e),v=(h-n)*e+1;return-m2+m*v},s=h=>{const m=Math.exp(-h*e),v=(n-h)*(e*e);return m*v});const c=5/e,d=Oj(a,s,c);if(e=kl(e),isNaN(d))return{stiffness:Ea.stiffness,damping:Ea.damping,duration:e};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const Fj=12;function Oj(e,t,n){let r=n;for(let a=1;a<Fj;a++)r=r-e(r)/t(r);return r}function Rx(e,t){return e*Math.sqrt(1-t*t)}const Rj=["duration","bounce"],Mj=["stiffness","damping","mass"];function Fw(e,t){return t.some(n=>e[n]!==void 0)}function zj(e){let t={velocity:Ea.velocity,stiffness:Ea.stiffness,damping:Ea.damping,mass:Ea.mass,isResolvedFromDuration:!1,...e};if(!Fw(e,Mj)&&Fw(e,Rj))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,s=2*wc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ea.mass,stiffness:a,damping:s}}else{const n=Lj(e);t={...t,...n,mass:Ea.mass},t.isResolvedFromDuration=!0}return t}function qm(e=Ea.visualDuration,t=Ea.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:s},{stiffness:d,damping:h,mass:m,duration:v,velocity:y,isResolvedFromDuration:g}=zj({...n,velocity:-mo(n.velocity||0)}),T=y||0,b=h/(2*Math.sqrt(d*m)),A=l-s,E=mo(Math.sqrt(d/m)),D=Math.abs(A)<5;r||(r=D?Ea.restSpeed.granular:Ea.restSpeed.default),a||(a=D?Ea.restDelta.granular:Ea.restDelta.default);let j;if(b<1){const q=Rx(E,b);j=Z=>{const I=Math.exp(-b*E*Z);return l-I*((T+b*E*A)/q*Math.sin(q*Z)+A*Math.cos(q*Z))}}else if(b===1)j=q=>l-Math.exp(-E*q)*(A+(T+E*A)*q);else{const q=E*Math.sqrt(b*b-1);j=Z=>{const I=Math.exp(-b*E*Z),Y=Math.min(q*Z,300);return l-I*((T+b*E*A)*Math.sinh(Y)+q*A*Math.cosh(Y))/q}}const R={calculatedDuration:g&&v||null,next:q=>{const Z=j(q);if(g)c.done=q>=v;else{let I=q===0?T:0;b<1&&(I=q===0?kl(T):yN(j,q,Z));const Y=Math.abs(I)<=r,P=Math.abs(l-Z)<=a;c.done=Y&&P}return c.value=c.done?l:Z,c},toString:()=>{const q=Math.min(Kv(R),Gm),Z=vN(I=>R.next(q*I).value,q,30);return q+"ms "+Z},toTransition:()=>{}};return R}qm.applyToOptions=e=>{const t=Dj(e,100,qm);return e.ease=t.ease,e.duration=kl(t.duration),e.type="keyframes",e};function Mx({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:m}){const v=e[0],y={done:!1,value:v},g=Y=>c!==void 0&&Y<c||d!==void 0&&Y>d,T=Y=>c===void 0?d:d===void 0||Math.abs(c-Y)<Math.abs(d-Y)?c:d;let b=n*t;const A=v+b,E=l===void 0?A:l(A);E!==A&&(b=E-v);const D=Y=>-b*Math.exp(-Y/r),j=Y=>E+D(Y),R=Y=>{const P=D(Y),Q=j(Y);y.done=Math.abs(P)<=h,y.value=y.done?E:Q};let q,Z;const I=Y=>{g(y.value)&&(q=Y,Z=qm({keyframes:[y.value,T(y.value)],velocity:yN(j,Y,y.value),damping:a,stiffness:s,restDelta:h,restSpeed:m}))};return I(0),{calculatedDuration:null,next:Y=>{let P=!1;return!Z&&q===void 0&&(P=!0,R(Y),I(Y)),q!==void 0&&Y>=q?Z.next(Y-q):(!P&&R(Y),y)}}}function Ij(e,t,n){const r=[],a=n||Sc.mix||xN,s=e.length-1;for(let l=0;l<s;l++){let c=a(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||po:t;c=t1(d,c)}r.push(c)}return r}function Pj(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const s=e.length;if(Bv(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Ij(t,r,a),d=c.length,h=m=>{if(l&&m<e[0])return t[0];let v=0;if(d>1)for(;v<e.length-2&&!(m<e[v+1]);v++);const y=_d(e[v],e[v+1],m);return c[v](y)};return n?m=>h(wc(e[0],e[s-1],m)):h}function Bj(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=_d(0,t,r);e.push(pa(n,1,a))}}function Uj(e){const t=[0];return Bj(t,e.length-1),t}function Hj(e,t){return e.map(n=>n*t)}function Vj(e,t){return e.map(()=>t||sN).splice(0,e.length-1)}function fd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=ej(r)?r.map(Cw):Cw(r),s={done:!1,value:t[0]},l=Hj(n&&n.length===t.length?n:Uj(t),e),c=Pj(l,t,{ease:Array.isArray(a)?a:Vj(t,a)});return{calculatedDuration:e,next:d=>(s.value=c(d),s.done=d>=e,s)}}const Gj=e=>e!==null;function Xv(e,{repeat:t,repeatType:n="loop"},r,a=1){const s=e.filter(Gj),c=a<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const qj={decay:Mx,inertia:Mx,tween:fd,keyframes:fd,spring:qm};function bN(e){typeof e.type=="string"&&(e.type=qj[e.type])}class Zv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Wj=e=>e/100;class Jv extends Zv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==ys.now()&&this.tick(ys.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;bN(t);const{type:n=fd,repeat:r=0,repeatDelay:a=0,repeatType:s,velocity:l=0}=t;let{keyframes:c}=t;const d=n||fd;d!==fd&&typeof c[0]!="number"&&(this.mixKeyframes=t1(Wj,xN(c[0],c[1])),c=[0,100]);const h=d({...t,keyframes:c});s==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Kv(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:m,repeat:v,repeatType:y,repeatDelay:g,type:T,onUpdate:b,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?E<0:E>a;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let j=this.currentTime,R=r;if(v){const Y=Math.min(this.currentTime,a)/c;let P=Math.floor(Y),Q=Y%1;!Q&&Y>=1&&(Q=1),Q===1&&P--,P=Math.min(P,v+1),!!(P%2)&&(y==="reverse"?(Q=1-Q,g&&(Q-=g/c)):y==="mirror"&&(R=l)),j=wc(0,1,Q)*c}const q=D?{done:!1,value:m[0]}:R.next(j);s&&(q.value=s(q.value));let{done:Z}=q;!D&&d!==null&&(Z=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return I&&T!==Mx&&(q.value=Xv(m,this.options,A,this.speed)),b&&b(q.value),I&&this.finish(),q}then(t,n){return this.finished.then(t,n)}get duration(){return mo(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+mo(t)}get time(){return mo(this.currentTime)}set time(t){var n;t=kl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ys.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=mo(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=jj,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(s=(a=this.options).onPlay)==null||s.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ys.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function $j(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const lf=e=>e*180/Math.PI,zx=e=>{const t=lf(Math.atan2(e[1],e[0]));return Ix(t)},Yj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:zx,rotateZ:zx,skewX:e=>lf(Math.atan(e[1])),skewY:e=>lf(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ix=e=>(e=e%360,e<0&&(e+=360),e),Ow=zx,Rw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Mw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Kj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rw,scaleY:Mw,scale:e=>(Rw(e)+Mw(e))/2,rotateX:e=>Ix(lf(Math.atan2(e[6],e[5]))),rotateY:e=>Ix(lf(Math.atan2(-e[2],e[0]))),rotateZ:Ow,rotate:Ow,skewX:e=>lf(Math.atan(e[4])),skewY:e=>lf(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Px(e){return e.includes("scale")?1:0}function Bx(e,t){if(!e||e==="none")return Px(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=Kj,a=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Yj,a=c}if(!a)return Px(t);const s=r[t],l=a[1].split(",").map(Zj);return typeof s=="function"?s(l):l[s]}const Xj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Bx(n,t)};function Zj(e){return parseFloat(e.trim())}const ih=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sh=new Set(ih),zw=e=>e===ah||e===Sn,Jj=new Set(["x","y","z"]),Qj=ih.filter(e=>!Jj.has(e));function e7(e){const t=[];return Qj.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const cf={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Bx(t,"x"),y:(e,{transform:t})=>Bx(t,"y")};cf.translateX=cf.x;cf.translateY=cf.y;const uf=new Set;let Ux=!1,Hx=!1,Vx=!1;function wN(){if(Hx){const e=Array.from(uf).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=e7(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([s,l])=>{var c;(c=r.getValue(s))==null||c.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Hx=!1,Ux=!1,uf.forEach(e=>e.complete(Vx)),uf.clear()}function SN(){uf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Hx=!0)})}function t7(){Vx=!0,SN(),wN(),Vx=!1}class Qv{constructor(t,n,r,a,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(uf.add(this),Ux||(Ux=!0,sa.read(SN),sa.resolveKeyframes(wN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&s===void 0&&a.set(t[0])}$j(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uf.delete(this)}cancel(){this.state==="scheduled"&&(uf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n7=e=>e.startsWith("--");function r7(e,t,n){n7(t)?e.style.setProperty(t,n):e.style[t]=n}const a7=Uv(()=>window.ScrollTimeline!==void 0),i7={};function s7(e,t){const n=Uv(e);return()=>i7[t]??n()}const NN=s7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Iw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sd([0,.65,.55,1]),circOut:sd([.55,0,1,.45]),backIn:sd([.31,.01,.66,-.59]),backOut:sd([.33,1.53,.69,.99])};function _N(e,t){if(e)return typeof e=="function"?NN()?vN(e,t):"ease-out":oN(e)?sd(e):Array.isArray(e)?e.map(n=>_N(n,t)||Iw.easeOut):Iw[e]}function o7(e,t,n,{delay:r=0,duration:a=300,repeat:s=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[t]:n};d&&(m.offset=d);const v=_N(c,a);Array.isArray(v)&&(m.easing=v);const y={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),e.animate(m,y)}function TN(e){return typeof e=="function"&&"applyToOptions"in e}function l7({type:e,...t}){return TN(e)&&NN()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class c7 extends Zv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=t,Bv(typeof t.type!="string");const h=l7(t);this.animation=o7(n,r,a,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const m=Xv(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):r7(n,r,m),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return mo(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+mo(t)}get time(){return mo(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&a7()?(this.animation.timeline=t,po):n(this)}}const AN={anticipate:rN,backInOut:nN,circInOut:iN};function u7(e){return e in AN}function f7(e){typeof e.ease=="string"&&u7(e.ease)&&(e.ease=AN[e.ease])}const Pw=10;class h7 extends c7{constructor(t){f7(t),bN(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:s,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new Jv({...l,autoplay:!1}),d=kl(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-Pw).value,c.sample(d).value,Pw),c.stop()}}const Bw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bu.test(e)||e==="0")&&!e.startsWith("url("));function d7(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function m7(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],l=Bw(a,t),c=Bw(s,t);return!l||!c?!1:d7(e)||(n==="spring"||TN(n))&&r}function Gx(e){e.duration=0,e.type="keyframes"}const p7=new Set(["opacity","clipPath","filter","transform"]),g7=Uv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x7(e){var m;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:s,type:l}=e;if(!(((m=t==null?void 0:t.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=t.owner.getProps();return g7()&&n&&p7.has(n)&&(n!=="transform"||!h)&&!d&&!r&&a!=="mirror"&&s!==0&&l!=="inertia"}const v7=40;class y7 extends Zv{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:m,...v}){var T;super(),this.stop=()=>{var b,A;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=ys.now();const y={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:s,repeatType:l,name:d,motionValue:h,element:m,...v},g=(m==null?void 0:m.KeyframeResolver)||Qv;this.keyframeResolver=new g(c,(b,A,E)=>this.onKeyframesResolved(b,A,y,!E),d,h,m),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:s,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:m}=r;this.resolvedAt=ys.now(),m7(t,s,l,c)||((Sc.instantAnimations||!d)&&(m==null||m(Xv(t,r,n))),t[0]=t[t.length-1],Gx(r),r.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>v7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},g=!h&&x7(y)?new h7({...y,element:y.motionValue.owner.current}):new Jv(y);g.finished.then(()=>this.notifyFinished()).catch(po),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),t7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const b7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function w7(e){const t=b7.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function EN(e,t,n=1){const[r,a]=w7(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const l=s.trim();return Y6(l)?parseFloat(l):l}return qv(a)?EN(a,t,n+1):a}function e5(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const CN=new Set(["width","height","top","left","right","bottom",...ih]),S7={test:e=>e==="auto",parse:e=>e},jN=e=>t=>t.test(e),DN=[ah,Sn,Ll,hu,dj,hj,S7],Uw=e=>DN.find(jN(e));function N7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||X6(e):!0}const _7=new Set(["brightness","contrast","saturate","opacity"]);function T7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Wv)||[];if(!r)return e;const a=n.replace(r,"");let s=_7.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+a+")"}const A7=/\b([a-z-]*)\(.*?\)/gu,qx={...bu,getAnimatableNone:e=>{const t=e.match(A7);return t?t.map(T7).join(" "):e}},Hw={...ah,transform:Math.round},E7={rotate:hu,rotateX:hu,rotateY:hu,rotateZ:hu,scale:cm,scaleX:cm,scaleY:cm,scaleZ:cm,skew:hu,skewX:hu,skewY:hu,distance:Sn,translateX:Sn,translateY:Sn,translateZ:Sn,x:Sn,y:Sn,z:Sn,perspective:Sn,transformPerspective:Sn,opacity:Td,originX:jw,originY:jw,originZ:Sn},t5={borderWidth:Sn,borderTopWidth:Sn,borderRightWidth:Sn,borderBottomWidth:Sn,borderLeftWidth:Sn,borderRadius:Sn,radius:Sn,borderTopLeftRadius:Sn,borderTopRightRadius:Sn,borderBottomRightRadius:Sn,borderBottomLeftRadius:Sn,width:Sn,maxWidth:Sn,height:Sn,maxHeight:Sn,top:Sn,right:Sn,bottom:Sn,left:Sn,padding:Sn,paddingTop:Sn,paddingRight:Sn,paddingBottom:Sn,paddingLeft:Sn,margin:Sn,marginTop:Sn,marginRight:Sn,marginBottom:Sn,marginLeft:Sn,backgroundPositionX:Sn,backgroundPositionY:Sn,...E7,zIndex:Hw,fillOpacity:Td,strokeOpacity:Td,numOctaves:Hw},C7={...t5,color:Ga,backgroundColor:Ga,outlineColor:Ga,fill:Ga,stroke:Ga,borderColor:Ga,borderTopColor:Ga,borderRightColor:Ga,borderBottomColor:Ga,borderLeftColor:Ga,filter:qx,WebkitFilter:qx},kN=e=>C7[e];function LN(e,t){let n=kN(e);return n!==qx&&(n=bu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const j7=new Set(["auto","none","0"]);function D7(e,t,n){let r=0,a;for(;r<e.length&&!a;){const s=e[r];typeof s=="string"&&!j7.has(s)&&Ad(s).values.length&&(a=e[r]),r++}if(a&&n)for(const s of t)e[s]=LN(n,a)}class k7 extends Qv{constructor(t,n,r,a,s){super(t,n,r,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let h=t[d];if(typeof h=="string"&&(h=h.trim(),qv(h))){const m=EN(h,n.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!CN.has(r)||t.length!==2)return;const[a,s]=t,l=Uw(a),c=Uw(s);if(l!==c)if(zw(l)&&zw(c))for(let d=0;d<t.length;d++){const h=t[d];typeof h=="string"&&(t[d]=parseFloat(h))}else cf[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||N7(t[a]))&&r.push(a);r.length&&D7(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=cf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=cf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,h])=>{t.getValue(d).set(h)}),this.resolveNoneKeyframes()}}function L7(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const FN=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ON(e){return K6(e)&&"offsetHeight"in e}const Vw=30,F7=e=>!isNaN(parseFloat(e));class O7{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const a=ys.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ys.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=F7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Hv);const r=this.events[t].add(n);return t==="change"?()=>{r(),sa.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ys.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Vw);return Z6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Z0(e,t){return new O7(e,t)}const{schedule:n5}=lN(queueMicrotask,!1),Wo={x:!1,y:!1};function RN(){return Wo.x||Wo.y}function R7(e){return e==="x"||e==="y"?Wo[e]?null:(Wo[e]=!0,()=>{Wo[e]=!1}):Wo.x||Wo.y?null:(Wo.x=Wo.y=!0,()=>{Wo.x=Wo.y=!1})}function MN(e,t){const n=L7(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function Gw(e){return!(e.pointerType==="touch"||RN())}function M7(e,t,n={}){const[r,a,s]=MN(e,n),l=c=>{if(!Gw(c))return;const{target:d}=c,h=t(d,c);if(typeof h!="function"||!d)return;const m=v=>{Gw(v)&&(h(v),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return r.forEach(c=>{c.addEventListener("pointerenter",l,a)}),s}const zN=(e,t)=>t?e===t?!0:zN(e,t.parentElement):!1,r5=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,z7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I7(e){return z7.has(e.tagName)||e.tabIndex!==-1}const Om=new WeakSet;function qw(e){return t=>{t.key==="Enter"&&e(t)}}function p2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P7=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=qw(()=>{if(Om.has(n))return;p2(n,"down");const a=qw(()=>{p2(n,"up")}),s=()=>p2(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ww(e){return r5(e)&&!RN()}function B7(e,t,n={}){const[r,a,s]=MN(e,n),l=c=>{const d=c.currentTarget;if(!Ww(c))return;Om.add(d);const h=t(d,c),m=(g,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",y),Om.has(d)&&Om.delete(d),Ww(g)&&typeof h=="function"&&h(g,{success:T})},v=g=>{m(g,d===window||d===document||n.useGlobalTarget||zN(d,g.target))},y=g=>{m(g,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",y,a)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,a),ON(c)&&(c.addEventListener("focus",h=>P7(h,a)),!I7(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function IN(e){return K6(e)&&"ownerSVGElement"in e}function U7(e){return IN(e)&&e.tagName==="svg"}const Ui=e=>!!(e&&e.getVelocity),H7=[...DN,Ga,bu],V7=e=>H7.find(jN(e)),a5=W.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $w(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function G7(...e){return t=>{let n=!1;const r=e.map(a=>{const s=$w(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():$w(e[a],null)}}}}function q7(...e){return W.useCallback(G7(...e),e)}class W7 extends W.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=ON(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function $7({children:e,isPresent:t,anchorX:n,root:r}){const a=W.useId(),s=W.useRef(null),l=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=W.useContext(a5),d=q7(s,e==null?void 0:e.ref);return W.useInsertionEffect(()=>{const{width:h,height:m,top:v,left:y,right:g}=l.current;if(t||!s.current||!h||!m)return;const T=n==="left"?`left: ${y}`:`right: ${g}`;s.current.dataset.motionPopId=a;const b=document.createElement("style");c&&(b.nonce=c);const A=r??document.head;return A.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${T}px !important;
            top: ${v}px !important;
          }
        `),()=>{A.contains(b)&&A.removeChild(b)}},[t]),u.jsx(W7,{isPresent:t,childRef:s,sizeRef:l,children:W.cloneElement(e,{ref:d})})}const Y7=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:s,mode:l,anchorX:c,root:d})=>{const h=Mv(K7),m=W.useId();let v=!0,y=W.useMemo(()=>(v=!1,{id:m,initial:t,isPresent:n,custom:a,onExitComplete:g=>{h.set(g,!0);for(const T of h.values())if(!T)return;r&&r()},register:g=>(h.set(g,!1),()=>h.delete(g))}),[n,h,r]);return s&&v&&(y={...y}),W.useMemo(()=>{h.forEach((g,T)=>h.set(T,!1))},[n]),W.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(e=u.jsx($7,{isPresent:n,anchorX:c,root:d,children:e})),u.jsx(Ep.Provider,{value:y,children:e})};function K7(){return new Map}function PN(e=!0){const t=W.useContext(Ep);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,s=W.useId();W.useEffect(()=>{if(e)return a(s)},[e]);const l=W.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,l]:[!0]}const um=e=>e.key||"";function Yw(e){const t=[];return W.Children.forEach(e,n=>{W.isValidElement(n)&&t.push(n)}),t}const X7=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[h,m]=PN(l),v=W.useMemo(()=>Yw(e),[e]),y=l&&!h?[]:v.map(um),g=W.useRef(!0),T=W.useRef(v),b=Mv(()=>new Map),[A,E]=W.useState(v),[D,j]=W.useState(v);$6(()=>{g.current=!1,T.current=v;for(let Z=0;Z<D.length;Z++){const I=um(D[Z]);y.includes(I)?b.delete(I):b.get(I)!==!0&&b.set(I,!1)}},[D,y.length,y.join("-")]);const R=[];if(v!==A){let Z=[...v];for(let I=0;I<D.length;I++){const Y=D[I],P=um(Y);y.includes(P)||(Z.splice(I,0,Y),R.push(Y))}return s==="wait"&&R.length&&(Z=R),j(Yw(Z)),E(v),null}const{forceRender:q}=W.useContext(Rv);return u.jsx(u.Fragment,{children:D.map(Z=>{const I=um(Z),Y=l&&!h?!1:v===D||y.includes(I),P=()=>{if(b.has(I))b.set(I,!0);else return;let Q=!0;b.forEach(O=>{O||(Q=!1)}),Q&&(q==null||q(),j(T.current),l&&(m==null||m()),r&&r())};return u.jsx(Y7,{isPresent:Y,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:d,onExitComplete:Y?void 0:P,anchorX:c,children:Z},I)})})},BN=W.createContext({strict:!1}),Kw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},J0={};for(const e in Kw)J0[e]={isEnabled:t=>Kw[e].some(n=>!!t[n])};function Z7(e){for(const t in e)J0[t]={...J0[t],...e[t]}}const J7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wm(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J7.has(e)}let UN=e=>!Wm(e);function Q7(e){typeof e=="function"&&(UN=t=>t.startsWith("on")?!Wm(t):e(t))}try{Q7(require("@emotion/is-prop-valid").default)}catch{}function eD(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(UN(a)||n===!0&&Wm(a)||!t&&!Wm(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}const Cp=W.createContext({});function jp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ed(e){return typeof e=="string"||Array.isArray(e)}const i5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],s5=["initial",...i5];function Dp(e){return jp(e.animate)||s5.some(t=>Ed(e[t]))}function HN(e){return!!(Dp(e)||e.variants)}function tD(e,t){if(Dp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Ed(n)?n:void 0,animate:Ed(r)?r:void 0}}return e.inherit!==!1?t:{}}function nD(e){const{initial:t,animate:n}=tD(e,W.useContext(Cp));return W.useMemo(()=>({initial:t,animate:n}),[Xw(t),Xw(n)])}function Xw(e){return Array.isArray(e)?e.join(" "):e}function Zw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zh={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Sn.test(e))e=parseFloat(e);else return e;const n=Zw(e,t.target.x),r=Zw(e,t.target.y);return`${n}% ${r}%`}},rD={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=bu.parse(e);if(a.length>5)return r;const s=bu.createTransformer(e),l=typeof a[0]!="number"?1:0,c=n.x.scale*t.x,d=n.y.scale*t.y;a[0+l]/=c,a[1+l]/=d;const h=pa(c,d,.5);return typeof a[2+l]=="number"&&(a[2+l]/=h),typeof a[3+l]=="number"&&(a[3+l]/=h),s(a)}},Wx={borderRadius:{...Zh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zh,borderTopRightRadius:Zh,borderBottomLeftRadius:Zh,borderBottomRightRadius:Zh,boxShadow:rD};function VN(e,{layout:t,layoutId:n}){return sh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wx[e]||e==="opacity")}const aD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iD=ih.length;function sD(e,t,n){let r="",a=!0;for(let s=0;s<iD;s++){const l=ih[s],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=FN(c,t5[l]);if(!d){a=!1;const m=aD[l]||l;r+=`${m}(${h}) `}n&&(t[l]=h)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function o5(e,t,n){const{style:r,vars:a,transformOrigin:s}=e;let l=!1,c=!1;for(const d in t){const h=t[d];if(sh.has(d)){l=!0;continue}else if(uN(d)){a[d]=h;continue}else{const m=FN(h,t5[d]);d.startsWith("origin")?(c=!0,s[d]=m):r[d]=m}}if(t.transform||(l||n?r.transform=sD(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=s;r.transformOrigin=`${d} ${h} ${m}`}}const l5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function GN(e,t,n){for(const r in t)!Ui(t[r])&&!VN(r,n)&&(e[r]=t[r])}function oD({transformTemplate:e},t){return W.useMemo(()=>{const n=l5();return o5(n,t,e),Object.assign({},n.vars,n.style)},[t])}function lD(e,t){const n=e.style||{},r={};return GN(r,n,e),Object.assign(r,oD(e,t)),r}function cD(e,t){const n={},r=lD(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const uD={offset:"stroke-dashoffset",array:"stroke-dasharray"},fD={offset:"strokeDashoffset",array:"strokeDasharray"};function hD(e,t,n=1,r=0,a=!0){e.pathLength=1;const s=a?uD:fD;e[s.offset]=Sn.transform(-r);const l=Sn.transform(t),c=Sn.transform(n);e[s.array]=`${l} ${c}`}function qN(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:s=1,pathOffset:l=0,...c},d,h,m){if(o5(e,c,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:y}=e;v.transform&&(y.transform=v.transform,delete v.transform),(y.transform||v.transformOrigin)&&(y.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),y.transform&&(y.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&hD(v,a,s,l,!1)}const WN=()=>({...l5(),attrs:{}}),$N=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dD(e,t,n,r){const a=W.useMemo(()=>{const s=WN();return qN(s,t,$N(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};GN(s,e.style,e),a.style={...s,...a.style}}return a}const mD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c5(e){return typeof e!="string"||e.includes("-")?!1:!!(mD.indexOf(e)>-1||/[A-Z]/u.test(e))}function pD(e,t,n,{latestValues:r},a,s=!1){const c=(c5(e)?dD:cD)(t,r,a,e),d=eD(t,typeof e=="string",s),h=e!==W.Fragment?{...d,...c,ref:n}:{},{children:m}=t,v=W.useMemo(()=>Ui(m)?m.get():m,[m]);return W.createElement(e,{...h,children:v})}function Jw(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function u5(e,t,n,r){if(typeof t=="function"){const[a,s]=Jw(r);t=t(n!==void 0?n:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=Jw(r);t=t(n!==void 0?n:e.custom,a,s)}return t}function Rm(e){return Ui(e)?e.get():e}function gD({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:xD(n,r,a,e),renderState:t()}}function xD(e,t,n,r){const a={},s=r(e,{});for(const y in s)a[y]=Rm(s[y]);let{initial:l,animate:c}=e;const d=Dp(e),h=HN(e);t&&h&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!jp(v)){const y=Array.isArray(v)?v:[v];for(let g=0;g<y.length;g++){const T=u5(e,y[g]);if(T){const{transitionEnd:b,transition:A,...E}=T;for(const D in E){let j=E[D];if(Array.isArray(j)){const R=m?j.length-1:0;j=j[R]}j!==null&&(a[D]=j)}for(const D in b)a[D]=b[D]}}}return a}const YN=e=>(t,n)=>{const r=W.useContext(Cp),a=W.useContext(Ep),s=()=>gD(e,t,r,a);return n?s():Mv(s)};function f5(e,t,n){var s;const{style:r}=e,a={};for(const l in r)(Ui(r[l])||t.style&&Ui(t.style[l])||VN(l,e)||((s=n==null?void 0:n.getValue(l))==null?void 0:s.liveStyle)!==void 0)&&(a[l]=r[l]);return a}const vD=YN({scrapeMotionValuesFromProps:f5,createRenderState:l5});function KN(e,t,n){const r=f5(e,t,n);for(const a in e)if(Ui(e[a])||Ui(t[a])){const s=ih.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[s]=e[a]}return r}const yD=YN({scrapeMotionValuesFromProps:KN,createRenderState:WN}),bD=Symbol.for("motionComponentSymbol");function j0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wD(e,t,n){return W.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):j0(n)&&(n.current=r))},[t])}const h5=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),SD="framerAppearId",XN="data-"+h5(SD),ZN=W.createContext({});function ND(e,t,n,r,a){var b,A;const{visualElement:s}=W.useContext(Cp),l=W.useContext(BN),c=W.useContext(Ep),d=W.useContext(a5).reducedMotion,h=W.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:s,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,v=W.useContext(ZN);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&_D(h.current,n,a,v);const y=W.useRef(!1);W.useInsertionEffect(()=>{m&&y.current&&m.update(n,c)});const g=n[XN],T=W.useRef(!!g&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,g))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,g)));return $6(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),T.current&&m.animationState&&m.animationState.animateChanges())}),W.useEffect(()=>{m&&(!T.current&&m.animationState&&m.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,g)}),T.current=!1),m.enteringChildren=void 0)}),m}function _D(e,t,n,r){const{layoutId:a,layout:s,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:JN(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!l||c&&j0(c),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:m,layoutScroll:d,layoutRoot:h})}function JN(e){if(e)return e.options.allowProjection!==!1?e.projection:JN(e.parent)}function g2(e,{forwardMotionProps:t=!1}={},n,r){n&&Z7(n);const a=c5(e)?yD:vD;function s(c,d){let h;const m={...W.useContext(a5),...c,layoutId:TD(c)},{isStatic:v}=m,y=nD(c),g=a(c,v);if(!v&&zv){AD();const T=ED(m);h=T.MeasureLayout,y.visualElement=ND(e,g,m,r,T.ProjectionNode)}return u.jsxs(Cp.Provider,{value:y,children:[h&&y.visualElement?u.jsx(h,{visualElement:y.visualElement,...m}):null,pD(e,c,wD(g,y.visualElement,d),g,v,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=W.forwardRef(s);return l[bD]=e,l}function TD({layoutId:e}){const t=W.useContext(Rv).id;return t&&e!==void 0?t+"-"+e:e}function AD(e,t){W.useContext(BN).strict}function ED(e){const{drag:t,layout:n}=J0;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function CD(e,t){if(typeof Proxy>"u")return g2;const n=new Map,r=(s,l)=>g2(s,l,e,t),a=(s,l)=>r(s,l);return new Proxy(a,{get:(s,l)=>l==="create"?r:(n.has(l)||n.set(l,g2(l,void 0,e,t)),n.get(l))})}function QN({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function jD({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function DD(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function x2(e){return e===void 0||e===1}function $x({scale:e,scaleX:t,scaleY:n}){return!x2(e)||!x2(t)||!x2(n)}function nf(e){return $x(e)||e_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function e_(e){return Qw(e.x)||Qw(e.y)}function Qw(e){return e&&e!=="0%"}function $m(e,t,n){const r=e-n,a=t*r;return n+a}function e4(e,t,n,r,a){return a!==void 0&&(e=$m(e,a,r)),$m(e,n,r)+t}function Yx(e,t=0,n=1,r,a){e.min=e4(e.min,t,n,r,a),e.max=e4(e.max,t,n,r,a)}function t_(e,{x:t,y:n}){Yx(e.x,t.translate,t.scale,t.originPoint),Yx(e.y,n.translate,n.scale,n.originPoint)}const t4=.999999999999,n4=1.0000000000001;function kD(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let s,l;for(let c=0;c<a;c++){s=n[c],l=s.projectionDelta;const{visualElement:d}=s.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&k0(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,t_(e,l)),r&&nf(s.latestValues)&&k0(e,s.latestValues))}t.x<n4&&t.x>t4&&(t.x=1),t.y<n4&&t.y>t4&&(t.y=1)}function D0(e,t){e.min=e.min+t,e.max=e.max+t}function r4(e,t,n,r,a=.5){const s=pa(e.min,e.max,a);Yx(e,t,n,s,r)}function k0(e,t){r4(e.x,t.x,t.scaleX,t.scale,t.originX),r4(e.y,t.y,t.scaleY,t.scale,t.originY)}function n_(e,t){return QN(DD(e.getBoundingClientRect(),t))}function LD(e,t,n){const r=n_(e,n),{scroll:a}=t;return a&&(D0(r.x,a.offset.x),D0(r.y,a.offset.y)),r}const a4=()=>({translate:0,scale:1,origin:0,originPoint:0}),L0=()=>({x:a4(),y:a4()}),i4=()=>({min:0,max:0}),ii=()=>({x:i4(),y:i4()}),Kx={current:null},r_={current:!1};function FD(){if(r_.current=!0,!!zv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kx.current=e.matches;e.addEventListener("change",t),t()}else Kx.current=!1}const OD=new WeakMap;function RD(e,t,n){for(const r in t){const a=t[r],s=n[r];if(Ui(a))e.addValue(r,a);else if(Ui(s))e.addValue(r,Z0(a,{owner:e}));else if(s!==a)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(r);e.addValue(r,Z0(l!==void 0?l:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const s4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MD{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ys.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,sa.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=Dp(n),this.isVariantNode=HN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in v){const g=v[y];d[y]!==void 0&&Ui(g)&&g.set(d[y])}}mount(t){var n;this.current=t,OD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),r_.current||FD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kx.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),yu(this.notifyUpdate),yu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=sh.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&sa.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in J0){const n=J0[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ii()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<s4.length;r++){const a=s4[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,l=t[s];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=RD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Z0(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Y6(r)||X6(r))?r=parseFloat(r):!V7(r)&&bu.test(n)&&(r=LN(t,n)),this.setBaseTarget(t,Ui(r)?r.get():r)),Ui(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=u5(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ui(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Hv),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){n5.render(this.render)}}class a_ extends MD{constructor(){super(...arguments),this.KeyframeResolver=k7}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ui(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function i_(e,{style:t,vars:n},r,a){const s=e.style;let l;for(l in t)s[l]=t[l];a==null||a.applyProjectionStyles(s,r);for(l in n)s.setProperty(l,n[l])}function zD(e){return window.getComputedStyle(e)}class ID extends a_{constructor(){super(...arguments),this.type="html",this.renderInstance=i_}readValueFromInstance(t,n){var r;if(sh.has(n))return(r=this.projection)!=null&&r.isProjecting?Px(n):Xj(t,n);{const a=zD(t),s=(uN(n)?a.getPropertyValue(n):a[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return n_(t,n)}build(t,n,r){o5(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return f5(t,n,r)}}const s_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PD(e,t,n,r){i_(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(s_.has(a)?a:h5(a),t.attrs[a])}class BD extends a_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ii}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(sh.has(n)){const r=kN(n);return r&&r.default||0}return n=s_.has(n)?n:h5(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return KN(t,n,r)}build(t,n,r){qN(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){PD(t,n,r,a)}mount(t){this.isSVGTag=$N(t.tagName),super.mount(t)}}const UD=(e,t)=>c5(e)?new BD(t):new ID(t,{allowProjection:e!==W.Fragment});function z0(e,t,n){const r=e.getProps();return u5(r,t,n!==void 0?n:r.custom,e)}const Xx=e=>Array.isArray(e);function HD(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Z0(n))}function VD(e){return Xx(e)?e[e.length-1]||0:e}function GD(e,t){const n=z0(e,t);let{transitionEnd:r={},transition:a={},...s}=n||{};s={...s,...r};for(const l in s){const c=VD(s[l]);HD(e,l,c)}}function qD(e){return!!(Ui(e)&&e.add)}function Zx(e,t){const n=e.getValue("willChange");if(qD(n))return n.add(t);if(!n&&Sc.WillChange){const r=new Sc.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function o_(e){return e.props[XN]}const WD=e=>e!==null;function $D(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(WD),s=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[s]}const YD={type:"spring",stiffness:500,damping:25,restSpeed:10},KD=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XD={type:"keyframes",duration:.8},ZD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JD=(e,{keyframes:t})=>t.length>2?XD:sh.has(e)?e.startsWith("scale")?KD(t[1]):YD:ZD;function QD({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:s,repeatType:l,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const d5=(e,t,n,r={},a,s)=>l=>{const c=e5(r,e)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-kl(d);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-h,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:s?void 0:a};QD(c)||Object.assign(m,JD(e,m)),m.duration&&(m.duration=kl(m.duration)),m.repeatDelay&&(m.repeatDelay=kl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Gx(m),m.delay===0&&(v=!0)),(Sc.instantAnimations||Sc.skipAnimations)&&(v=!0,Gx(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,v&&!s&&t.get()!==void 0){const y=$D(m.keyframes,c);if(y!==void 0){sa.update(()=>{m.onUpdate(y),m.onComplete()});return}}return c.isSync?new Jv(m):new y7(m)};function ek({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function l_(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(s=r);const d=[],h=a&&e.animationState&&e.animationState.getState()[a];for(const m in c){const v=e.getValue(m,e.latestValues[m]??null),y=c[m];if(y===void 0||h&&ek(h,m))continue;const g={delay:n,...e5(s||{},m)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===T&&!g.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const E=o_(e);if(E){const D=window.MotionHandoffAnimation(E,m,sa);D!==null&&(g.startTime=D,b=!0)}}Zx(e,m),v.start(d5(m,v,y,e.shouldReduceMotion&&CN.has(m)?{type:!1}:g,e,b));const A=v.animation;A&&d.push(A)}return l&&Promise.all(d).then(()=>{sa.update(()=>{l&&GD(e,l)})}),d}function c_(e,t,n,r=0,a=1){const s=Array.from(e).sort((h,m)=>h.sortNodePosition(m)).indexOf(t),l=e.size,c=(l-1)*r;return typeof n=="function"?n(s,l):a===1?s*r:c-s*r}function Jx(e,t,n={}){var d;const r=z0(e,t,n.type==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const s=r?()=>Promise.all(l_(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:y}=a;return tk(e,t,h,m,v,y,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[h,m]=c==="beforeChildren"?[s,l]:[l,s];return h().then(()=>m())}else return Promise.all([s(),l(n.delay)])}function tk(e,t,n=0,r=0,a=0,s=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(Jx(d,t,{...l,delay:n+(typeof r=="function"?0:r)+c_(e.variantChildren,d,r,a,s)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function nk(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(s=>Jx(e,s,n));r=Promise.all(a)}else if(typeof t=="string")r=Jx(e,t,n);else{const a=typeof t=="function"?z0(e,t,n.custom):t;r=Promise.all(l_(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function u_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const rk=s5.length;function f_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?f_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<rk;n++){const r=s5[n],a=e.props[r];(Ed(a)||a===!1)&&(t[r]=a)}return t}const ak=[...i5].reverse(),ik=i5.length;function sk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>nk(e,n,r)))}function ok(e){let t=sk(e),n=o4(),r=!0;const a=d=>(h,m)=>{var y;const v=z0(e,m,d==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(v){const{transition:g,transitionEnd:T,...b}=v;h={...h,...b,...T}}return h};function s(d){t=d(e)}function l(d){const{props:h}=e,m=f_(e.parent)||{},v=[],y=new Set;let g={},T=1/0;for(let A=0;A<ik;A++){const E=ak[A],D=n[E],j=h[E]!==void 0?h[E]:m[E],R=Ed(j),q=E===d?D.isActive:null;q===!1&&(T=A);let Z=j===m[E]&&j!==h[E]&&R;if(Z&&r&&e.manuallyAnimateOnMount&&(Z=!1),D.protectedKeys={...g},!D.isActive&&q===null||!j&&!D.prevProp||jp(j)||typeof j=="boolean")continue;const I=lk(D.prevProp,j);let Y=I||E===d&&D.isActive&&!Z&&R||A>T&&R,P=!1;const Q=Array.isArray(j)?j:[j];let O=Q.reduce(a(E),{});q===!1&&(O={});const{prevResolvedValues:G={}}=D,K={...G,...O},X=ae=>{Y=!0,y.has(ae)&&(P=!0,y.delete(ae)),D.needsAnimating[ae]=!0;const ce=e.getValue(ae);ce&&(ce.liveStyle=!1)};for(const ae in K){const ce=O[ae],le=G[ae];if(g.hasOwnProperty(ae))continue;let me=!1;Xx(ce)&&Xx(le)?me=!u_(ce,le):me=ce!==le,me?ce!=null?X(ae):y.add(ae):ce!==void 0&&y.has(ae)?X(ae):D.protectedKeys[ae]=!0}D.prevProp=j,D.prevResolvedValues=O,D.isActive&&(g={...g,...O}),r&&e.blockInitialAnimation&&(Y=!1);const H=Z&&I;Y&&(!H||P)&&v.push(...Q.map(ae=>{const ce={type:E};if(typeof ae=="string"&&r&&!H&&e.manuallyAnimateOnMount&&e.parent){const{parent:le}=e,me=z0(le,ae);if(le.enteringChildren&&me){const{delayChildren:M}=me.transition||{};ce.delay=c_(le.enteringChildren,e,M)}}return{animation:ae,options:ce}}))}if(y.size){const A={};if(typeof h.initial!="boolean"){const E=z0(e,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(A.transition=E.transition)}y.forEach(E=>{const D=e.getBaseTarget(E),j=e.getValue(E);j&&(j.liveStyle=!0),A[E]=D??null}),v.push({animation:A})}let b=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(v):Promise.resolve()}function c(d,h){var v;if(n[d].isActive===h)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(y=>{var g;return(g=y.animationState)==null?void 0:g.setActive(d,h)}),n[d].isActive=h;const m=l(d);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:s,getState:()=>n,reset:()=>{n=o4()}}}function lk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!u_(t,e):!1}function Ju(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o4(){return{animate:Ju(!0),whileInView:Ju(),whileHover:Ju(),whileTap:Ju(),whileDrag:Ju(),whileFocus:Ju(),exit:Ju()}}class ju{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ck extends ju{constructor(t){super(t),t.animationState||(t.animationState=ok(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let uk=0;class fk extends ju{constructor(){super(...arguments),this.id=uk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hk={animation:{Feature:ck},exit:{Feature:fk}};function Cd(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function a1(e){return{point:{x:e.pageX,y:e.pageY}}}const dk=e=>t=>r5(t)&&e(t,a1(t));function hd(e,t,n,r){return Cd(e,t,dk(n),r)}const h_=1e-4,mk=1-h_,pk=1+h_,d_=.01,gk=0-d_,xk=0+d_;function es(e){return e.max-e.min}function vk(e,t,n){return Math.abs(e-t)<=n}function l4(e,t,n,r=.5){e.origin=r,e.originPoint=pa(t.min,t.max,e.origin),e.scale=es(n)/es(t),e.translate=pa(n.min,n.max,e.origin)-e.originPoint,(e.scale>=mk&&e.scale<=pk||isNaN(e.scale))&&(e.scale=1),(e.translate>=gk&&e.translate<=xk||isNaN(e.translate))&&(e.translate=0)}function dd(e,t,n,r){l4(e.x,t.x,n.x,r?r.originX:void 0),l4(e.y,t.y,n.y,r?r.originY:void 0)}function c4(e,t,n){e.min=n.min+t.min,e.max=e.min+es(t)}function yk(e,t,n){c4(e.x,t.x,n.x),c4(e.y,t.y,n.y)}function u4(e,t,n){e.min=t.min-n.min,e.max=e.min+es(t)}function Ym(e,t,n){u4(e.x,t.x,n.x),u4(e.y,t.y,n.y)}function fo(e){return[e("x"),e("y")]}const m_=({current:e})=>e?e.ownerDocument.defaultView:null,f4=(e,t)=>Math.abs(e-t);function bk(e,t){const n=f4(e.x,t.x),r=f4(e.y,t.y);return Math.sqrt(n**2+r**2)}class p_{constructor(t,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=y2(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,T=bk(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!T)return;const{point:b}=y,{timestamp:A}=Ai;this.history.push({...b,timestamp:A});const{onStart:E,onMove:D}=this.handlers;g||(E&&E(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,g)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=v2(g,this.transformPagePoint),sa.update(this.updatePoint,!0)},this.handlePointerUp=(y,g)=>{this.end();const{onEnd:T,onSessionEnd:b,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=y2(y.type==="pointercancel"?this.lastMoveEventInfo:v2(g,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,E),b&&b(y,E)},!r5(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=a||window;const c=a1(t),d=v2(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=Ai;this.history=[{...h,timestamp:m}];const{onSessionStart:v}=n;v&&v(t,y2(d,this.history)),this.removeListeners=t1(hd(this.contextWindow,"pointermove",this.handlePointerMove),hd(this.contextWindow,"pointerup",this.handlePointerUp),hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),yu(this.updatePoint)}}function v2(e,t){return t?{point:t(e.point)}:e}function h4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function y2({point:e},t){return{point:e,delta:h4(e,g_(t)),offset:h4(e,wk(t)),velocity:Sk(t,.1)}}function wk(e){return e[0]}function g_(e){return e[e.length-1]}function Sk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=g_(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>kl(t)));)n--;if(!r)return{x:0,y:0};const s=mo(a.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(a.x-r.x)/s,y:(a.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Nk(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pa(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pa(n,e,r.max):Math.min(e,n)),e}function d4(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function _k(e,{top:t,left:n,bottom:r,right:a}){return{x:d4(e.x,n,a),y:d4(e.y,t,r)}}function m4(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Tk(e,t){return{x:m4(e.x,t.x),y:m4(e.y,t.y)}}function Ak(e,t){let n=.5;const r=es(e),a=es(t);return a>r?n=_d(t.min,t.max-r,e.min):r>a&&(n=_d(e.min,e.max-a,t.min)),wc(0,1,n)}function Ek(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Qx=.35;function Ck(e=Qx){return e===!1?e=0:e===!0&&(e=Qx),{x:p4(e,"left","right"),y:p4(e,"top","bottom")}}function p4(e,t,n){return{min:g4(e,t),max:g4(e,n)}}function g4(e,t){return typeof e=="number"?e:e[t]||0}const jk=new WeakMap;class Dk{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ii(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(a1(v).point)},l=(v,y)=>{const{drag:g,dragPropagation:T,onDragStart:b}=this.getProps();if(g&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=R7(g),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fo(E=>{let D=this.getAxisMotionValue(E).get()||0;if(Ll.test(D)){const{projection:j}=this.visualElement;if(j&&j.layout){const R=j.layout.layoutBox[E];R&&(D=es(R)*(parseFloat(D)/100))}}this.originPoint[E]=D}),b&&sa.postRender(()=>b(v,y)),Zx(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y;const{dragPropagation:g,dragDirectionLock:T,onDirectionLock:b,onDrag:A}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=y;if(T&&this.currentDirection===null){this.currentDirection=kk(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,E),this.updateAxis("y",y.point,E),this.visualElement.render(),A&&A(v,y)},d=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y,this.stop(v,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>fo(v=>{var y;return this.getAnimationState(v)==="paused"&&((y=this.getAxisMotionValue(v).animation)==null?void 0:y.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new p_(t,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:r,contextWindow:m_(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,a=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!r)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&sa.postRender(()=>c(r,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!fm(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=Nk(l,this.constraints[t],this.elastic[t])),s.set(l)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&j0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=_k(r.layoutBox,t):this.constraints=!1,this.elastic=Ck(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fo(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Ek(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!j0(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=LD(r,a.root,this.visualElement.getTransformPagePoint());let l=Tk(a.layout.layoutBox,s);if(n){const c=n(jD(l));this.hasMutatedConstraints=!!c,c&&(l=QN(c))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=fo(m=>{if(!fm(m,n,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const y=a?200:1e6,g=a?40:1e7,T={type:"inertia",velocity:r?t[m]:0,bounceStiffness:y,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(m,T)});return Promise.all(h).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Zx(this.visualElement,t),r.start(d5(t,r,0,n,this.visualElement,!1))}stopAnimation(){fo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){fo(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){fo(n=>{const{drag:r}=this.getProps();if(!fm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(n);if(a&&a.layout){const{min:l,max:c}=a.layout.layoutBox[n];s.set(t[n]-pa(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!j0(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fo(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();a[l]=Ak({min:d,max:d},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fo(l=>{if(!fm(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(pa(d,h,a[l]))})}addListeners(){if(!this.visualElement.current)return;jk.set(this.visualElement,this);const t=this.visualElement.current,n=hd(t,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();j0(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),sa.read(r);const l=Cd(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(fo(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),s(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:l=Qx,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:s,dragElastic:l,dragMomentum:c}}}function fm(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function kk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Lk extends ju{constructor(t){super(t),this.removeGroupControls=po,this.removeListeners=po,this.controls=new Dk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||po}unmount(){this.removeGroupControls(),this.removeListeners()}}const x4=e=>(t,n)=>{e&&sa.postRender(()=>e(t,n))};class Fk extends ju{constructor(){super(...arguments),this.removePointerDownListener=po}onPointerDown(t){this.session=new p_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:m_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:x4(t),onStart:x4(n),onMove:r,onEnd:(s,l)=>{delete this.session,a&&sa.postRender(()=>a(s,l))}}}mount(){this.removePointerDownListener=hd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let b2=!1;class Ok extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:s}=t;s&&(n.group&&n.group.add(s),r&&r.register&&a&&r.register(s),b2&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Mm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,b2=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==s?l.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?l.promote():l.relegate()||sa.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),n5.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;b2=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function x_(e){const[t,n]=PN(),r=W.useContext(Rv);return u.jsx(Ok,{...e,layoutGroup:r,switchLayoutGroup:W.useContext(ZN),isPresent:t,safeToRemove:n})}function Rk(e,t,n){const r=Ui(e)?e:Z0(e);return r.start(d5("",r,t,n)),r.animation}const Mk=(e,t)=>e.depth-t.depth;class zk{constructor(){this.children=[],this.isDirty=!1}add(t){Iv(this.children,t),this.isDirty=!0}remove(t){Pv(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Mk),this.isDirty=!1,this.children.forEach(t)}}function Ik(e,t){const n=ys.now(),r=({timestamp:a})=>{const s=a-n;s>=t&&(yu(r),e(s-t))};return sa.setup(r,!0),()=>yu(r)}const v_=["TopLeft","TopRight","BottomLeft","BottomRight"],Pk=v_.length,v4=e=>typeof e=="string"?parseFloat(e):e,y4=e=>typeof e=="number"||Sn.test(e);function Bk(e,t,n,r,a,s){a?(e.opacity=pa(0,n.opacity??1,Uk(r)),e.opacityExit=pa(t.opacity??1,0,Hk(r))):s&&(e.opacity=pa(t.opacity??1,n.opacity??1,r));for(let l=0;l<Pk;l++){const c=`border${v_[l]}Radius`;let d=b4(t,c),h=b4(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||y4(d)===y4(h)?(e[c]=Math.max(pa(v4(d),v4(h),r),0),(Ll.test(h)||Ll.test(d))&&(e[c]+="%")):e[c]=h}(t.rotate||n.rotate)&&(e.rotate=pa(t.rotate||0,n.rotate||0,r))}function b4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Uk=y_(0,.5,aN),Hk=y_(.5,.95,po);function y_(e,t,n){return r=>r<e?0:r>t?1:n(_d(e,t,r))}function w4(e,t){e.min=t.min,e.max=t.max}function Uo(e,t){w4(e.x,t.x),w4(e.y,t.y)}function S4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function N4(e,t,n,r,a){return e-=t,e=$m(e,1/n,r),a!==void 0&&(e=$m(e,1/a,r)),e}function Vk(e,t=0,n=1,r=.5,a,s=e,l=e){if(Ll.test(t)&&(t=parseFloat(t),t=pa(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=pa(s.min,s.max,r);e===s&&(c-=t),e.min=N4(e.min,t,n,c,a),e.max=N4(e.max,t,n,c,a)}function _4(e,t,[n,r,a],s,l){Vk(e,t[n],t[r],t[a],t.scale,s,l)}const Gk=["x","scaleX","originX"],qk=["y","scaleY","originY"];function T4(e,t,n,r){_4(e.x,t,Gk,n?n.x:void 0,r?r.x:void 0),_4(e.y,t,qk,n?n.y:void 0,r?r.y:void 0)}function A4(e){return e.translate===0&&e.scale===1}function b_(e){return A4(e.x)&&A4(e.y)}function E4(e,t){return e.min===t.min&&e.max===t.max}function Wk(e,t){return E4(e.x,t.x)&&E4(e.y,t.y)}function C4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function w_(e,t){return C4(e.x,t.x)&&C4(e.y,t.y)}function j4(e){return es(e.x)/es(e.y)}function D4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $k{constructor(){this.members=[]}add(t){Iv(this.members,t),t.scheduleRender()}remove(t){if(Pv(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Yk(e,t,n){let r="";const a=e.x.translate/t.x,s=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((a||s||l)&&(r=`translate3d(${a}px, ${s}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:m,rotateX:v,rotateY:y,skewX:g,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),y&&(r+=`rotateY(${y}deg) `),g&&(r+=`skewX(${g}deg) `),T&&(r+=`skewY(${T}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const w2=["","X","Y","Z"],Kk=1e3;let Xk=0;function S2(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function S_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=o_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",sa,!(a||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&S_(r)}function N_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(l={},c=t==null?void 0:t()){this.id=Xk++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Qk),this.nodes.forEach(rL),this.nodes.forEach(aL),this.nodes.forEach(eL)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new zk)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Hv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=IN(l)&&!U7(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let m,v=0;const y=()=>this.root.updateBlockedByResize=!1;sa.read(()=>{v=window.innerWidth}),e(l,()=>{const g=window.innerWidth;g!==v&&(v=g,this.root.updateBlockedByResize=!0,m&&m(),m=Ik(y,250),Mm.hasAnimatedSinceResize&&(Mm.hasAnimatedSinceResize=!1,this.nodes.forEach(F4)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||cL,{onLayoutAnimationStart:b,onLayoutAnimationComplete:A}=h.getProps(),E=!this.targetLayout||!w_(this.targetLayout,g),D=!v&&y;if(this.options.layoutRoot||this.resumeFrom||D||v&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...e5(T,"layout"),onPlay:b,onComplete:A};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(m,D)}else v||F4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),yu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iL),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&S_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(k4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nL),this.nodes.forEach(Zk),this.nodes.forEach(Jk)):this.nodes.forEach(L4),this.clearAllSnapshots();const c=ys.now();Ai.delta=wc(0,1e3/60,c-Ai.timestamp),Ai.timestamp=c,Ai.isProcessing=!0,u2.update.process(Ai),u2.preRender.process(Ai),u2.render.process(Ai),Ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tL),this.sharedNodes.forEach(sL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,sa.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){sa.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!es(this.snapshot.measuredBox.x)&&!es(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ii(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!b_(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||nf(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),uL(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return ii();const c=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(fL))){const{scroll:m}=this.root;m&&(D0(c.x,m.offset.x),D0(c.y,m.offset.y))}return c}removeElementScroll(l){var d;const c=ii();if(Uo(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let h=0;h<this.path.length;h++){const m=this.path[h],{scroll:v,options:y}=m;m!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&Uo(c,l),D0(c.x,v.offset.x),D0(c.y,v.offset.y))}return c}applyTransform(l,c=!1){const d=ii();Uo(d,l);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&k0(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),nf(m.latestValues)&&k0(d,m.latestValues)}return nf(this.latestValues)&&k0(d,this.latestValues),d}removeTransform(l){const c=ii();Uo(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!nf(h.latestValues))continue;$x(h.latestValues)&&h.updateSnapshot();const m=ii(),v=h.measurePageBox();Uo(m,v),T4(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return nf(this.latestValues)&&T4(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!this.layout||!(m||v))return;this.resolvedRelativeTargetAt=Ai.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ii(),this.targetWithTransforms=ii()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Uo(this.target,this.layout.layoutBox),t_(this.target,this.targetDelta)):Uo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$x(this.parent.latestValues)||e_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ii(),this.relativeTargetOrigin=ii(),Ym(this.relativeTargetOrigin,c,d),Uo(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var T;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ai.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Uo(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;kD(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ii());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(S4(this.prevProjectionDelta.x,this.projectionDelta.x),S4(this.prevProjectionDelta.y,this.projectionDelta.y)),dd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==y||!D4(this.projectionDelta.x,this.prevProjectionDelta.x)||!D4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=L0(),this.projectionDelta=L0(),this.projectionDeltaWithTransform=L0()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},v=L0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=ii(),g=d?d.source:void 0,T=this.layout?this.layout.source:void 0,b=g!==T,A=this.getStack(),E=!A||A.members.length<=1,D=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(lL));this.animationProgress=0;let j;this.mixTargetDelta=R=>{const q=R/1e3;O4(v.x,l.x,q),O4(v.y,l.y,q),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ym(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oL(this.relativeTarget,this.relativeTargetOrigin,y,q),j&&Wk(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ii()),Uo(j,this.relativeTarget)),b&&(this.animationValues=m,Bk(m,h,this.latestValues,q,D,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,h;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(h=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||h.stop(),this.pendingAnimation&&(yu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sa.update(()=>{Mm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Z0(0)),this.currentAnimation=Rk(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Kk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&__(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||ii();const v=es(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const y=es(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}Uo(c,d),k0(c,m),dd(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new $k),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&S2("z",l,h,this.animationValues);for(let m=0;m<w2.length;m++)S2(`rotate${w2[m]}`,l,h,this.animationValues),S2(`skew${w2[m]}`,l,h,this.animationValues);l.render();for(const m in h)l.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Rm(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Rm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!nf(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=Yk(this.projectionDeltaWithTransform,this.treeScale,m);d&&(v=d(m,v)),l.transform=v;const{x:y,y:g}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${g.origin*100}% 0`,h.animationValues?l.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const T in Wx){if(m[T]===void 0)continue;const{correct:b,applyTo:A,isCSSVariable:E}=Wx[T],D=v==="none"?m[T]:b(m[T],h);if(A){const j=A.length;for(let R=0;R<j;R++)l[A[R]]=D}else E?this.options.visualElement.renderState.vars[T]=D:l[T]=D}this.options.layoutId&&(l.pointerEvents=h===this?Rm(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(k4),this.root.sharedNodes.clear()}}}function Zk(e){e.updateLayout()}function Jk(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?fo(v=>{const y=l?t.measuredBox[v]:t.layoutBox[v],g=es(y);y.min=r[v].min,y.max=y.min+g}):__(s,t.layoutBox,r)&&fo(v=>{const y=l?t.measuredBox[v]:t.layoutBox[v],g=es(r[v]);y.max=y.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+g)});const c=L0();dd(c,r,t.layoutBox);const d=L0();l?dd(d,e.applyTransform(a,!0),t.measuredBox):dd(d,r,t.layoutBox);const h=!b_(c);let m=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:g}=v;if(y&&g){const T=ii();Ym(T,t.layoutBox,y.layoutBox);const b=ii();Ym(b,r,g.layoutBox),w_(T,b)||(m=!0),v.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=T,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:h,hasRelativeLayoutChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Qk(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tL(e){e.clearSnapshot()}function k4(e){e.clearMeasurements()}function L4(e){e.isLayoutDirty=!1}function nL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function F4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function rL(e){e.resolveTargetDelta()}function aL(e){e.calcProjection()}function iL(e){e.resetSkewAndRotation()}function sL(e){e.removeLeadSnapshot()}function O4(e,t,n){e.translate=pa(t.translate,0,n),e.scale=pa(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function R4(e,t,n,r){e.min=pa(t.min,n.min,r),e.max=pa(t.max,n.max,r)}function oL(e,t,n,r){R4(e.x,t.x,n.x,r),R4(e.y,t.y,n.y,r)}function lL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cL={duration:.45,ease:[.4,0,.1,1]},M4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),z4=M4("applewebkit/")&&!M4("chrome/")?Math.round:po;function I4(e){e.min=z4(e.min),e.max=z4(e.max)}function uL(e){I4(e.x),I4(e.y)}function __(e,t,n){return e==="position"||e==="preserve-aspect"&&!vk(j4(t),j4(n),.2)}function fL(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hL=N_({attachResizeListener:(e,t)=>Cd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N2={current:void 0},T_=N_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!N2.current){const e=new hL({});e.mount(window),e.setOptions({layoutScroll:!0}),N2.current=e}return N2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dL={pan:{Feature:Fk},drag:{Feature:Lk,ProjectionNode:T_,MeasureLayout:x_}};function P4(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,s=r[a];s&&sa.postRender(()=>s(t,a1(t)))}class mL extends ju{mount(){const{current:t}=this.node;t&&(this.unmount=M7(t,(n,r)=>(P4(this.node,r,"Start"),a=>P4(this.node,a,"End"))))}unmount(){}}class pL extends ju{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=t1(Cd(this.node.current,"focus",()=>this.onFocus()),Cd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B4(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),s=r[a];s&&sa.postRender(()=>s(t,a1(t)))}class gL extends ju{mount(){const{current:t}=this.node;t&&(this.unmount=B7(t,(n,r)=>(B4(this.node,r,"Start"),(a,{success:s})=>B4(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ev=new WeakMap,_2=new WeakMap,xL=e=>{const t=ev.get(e.target);t&&t(e)},vL=e=>{e.forEach(xL)};function yL({root:e,...t}){const n=e||document;_2.has(n)||_2.set(n,{});const r=_2.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(vL,{root:e,...t})),r[a]}function bL(e,t,n){const r=yL(t);return ev.set(e,n),r.observe(e),()=>{ev.delete(e),r.unobserve(e)}}const wL={some:0,all:1};class SL extends ju{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:s}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:wL[a]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),y=h?m:v;y&&y(d)};return bL(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(NL(t,n))&&this.startObserver()}unmount(){}}function NL({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _L={inView:{Feature:SL},tap:{Feature:gL},focus:{Feature:pL},hover:{Feature:mL}},TL={layout:{ProjectionNode:T_,MeasureLayout:x_}},AL={...hk,..._L,...dL,...TL},tv=CD(AL,UD),EL={initial:{opacity:0,x:10},in:{opacity:1,x:0},out:{opacity:0,x:-10}},CL={type:"tween",ease:"anticipate",duration:.3},jL=({children:e})=>u.jsx(tv.div,{initial:"initial",animate:"in",exit:"out",variants:EL,transition:CL,style:{width:"100%",height:"100%"},children:e}),A_=W.createContext(void 0),DL=({children:e})=>{const[t,n]=W.useState(()=>{const v=typeof window<"u"?localStorage.getItem("temaOscuro"):null;return v==="true"||v===null}),[r,a]=W.useState(()=>typeof window>"u"?"azul":localStorage.getItem("temaColor")||"azul"),[s,l]=W.useState(()=>typeof window>"u"?!1:localStorage.getItem("altoContraste")==="true");W.useEffect(()=>{t?(document.documentElement.classList.add("dark"),document.body.classList.add("dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark")),localStorage.setItem("temaOscuro",t.toString())},[t]),W.useEffect(()=>{document.documentElement.dataset.theme=r,localStorage.setItem("temaColor",r)},[r]),W.useEffect(()=>{document.documentElement.dataset.highContrast=s?"true":"false",localStorage.setItem("altoContraste",s.toString())},[s]);const c=()=>{n(v=>!v)},d=v=>{n(v)},h=v=>{a(v)},m=()=>{l(v=>!v)};return u.jsx(A_.Provider,{value:{isDark:t,themeName:r,highContrast:s,toggleTheme:c,setTheme:d,setThemeName:h,toggleHighContrast:m},children:e})},zl=()=>{const e=W.useContext(A_);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};var mt=(e=>(e.Home="Home",e.Turnos="Turnos",e.Carreras="Carreras",e.Gastos="Gastos",e.Estadisticas="Estadsticas",e.Informes="Informes",e.Configuracion="Configuracin",e.VistaCarreras="Vista Carreras",e.IntroducirCarrera="Introducir Carrera",e.EditarCarrera="Editar Carrera",e.EditarTurno="Editar Turno",e.Calendario="Calendario",e.CerrarTurno="Cerrar Turno",e.AjustesGenerales="Ajustes Generales",e.Backup="Backup",e.Recordatorios="Recordatorios",e.Resumen="Resumen",e.ResumenDiario="Resumen Diario",e.ResumenMensual="Resumen Mensual",e.ResumenMensualDetallado="Resumen Mensual Detallado",e.ResumenGastosMensual="Resumen de Gastos Mensual",e.EditarGasto="Editar Gasto",e.ResumenMensualIngresos="Resumen Mensual Ingresos",e.Historico="Histrico",e.ConfiguracionDescansos="Configuracin Descansos",e.AnalisisAvanzado="Anlisis Avanzado",e.EstacionTren="Estacin Tren",e.Aeropuerto="Aeropuerto",e))(mt||{});const kL=(e,t)=>t.some(n=>e instanceof n);let U4,H4;function LL(){return U4||(U4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FL(){return H4||(H4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,nv=new WeakMap,C_=new WeakMap,T2=new WeakMap,m5=new WeakMap;function OL(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",s),e.removeEventListener("error",l)},s=()=>{n(vu(e.result)),a()},l=()=>{r(e.error),a()};e.addEventListener("success",s),e.addEventListener("error",l)});return t.then(n=>{n instanceof IDBCursor&&E_.set(n,e)}).catch(()=>{}),m5.set(t,e),t}function RL(e){if(nv.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",l),e.removeEventListener("abort",l)},s=()=>{n(),a()},l=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",s),e.addEventListener("error",l),e.addEventListener("abort",l)});nv.set(e,t)}let rv={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return nv.get(e);if(t==="objectStoreNames")return e.objectStoreNames||C_.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vu(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function ML(e){rv=e(rv)}function zL(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(A2(this),t,...n);return C_.set(r,t.sort?t.sort():[t]),vu(r)}:FL().includes(e)?function(...t){return e.apply(A2(this),t),vu(E_.get(this))}:function(...t){return vu(e.apply(A2(this),t))}}function IL(e){return typeof e=="function"?zL(e):(e instanceof IDBTransaction&&RL(e),kL(e,LL())?new Proxy(e,rv):e)}function vu(e){if(e instanceof IDBRequest)return OL(e);if(T2.has(e))return T2.get(e);const t=IL(e);return t!==e&&(T2.set(e,t),m5.set(t,e)),t}const A2=e=>m5.get(e);function PL(e,t,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const l=indexedDB.open(e,t),c=vu(l);return r&&l.addEventListener("upgradeneeded",d=>{r(vu(l.result),d.oldVersion,d.newVersion,vu(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{s&&d.addEventListener("close",()=>s()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const BL=["get","getKey","getAll","getAllKeys","count"],UL=["put","add","delete","clear"],E2=new Map;function V4(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(E2.get(t))return E2.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=UL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||BL.includes(n)))return;const s=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),a&&d.done]))[0]};return E2.set(t,s),s}ML(e=>({...e,get:(t,n,r)=>V4(t,n)||e.get(t,n,r),has:(t,n)=>!!V4(t,n)||e.has(t,n)}));const HL="tappxi-db",VL=3;let C2;function kp(){return C2||(C2=PL(HL,VL,{upgrade(e,t){t<1&&(e.createObjectStore("carreras",{keyPath:"id"}),e.createObjectStore("gastos",{keyPath:"id"}),e.createObjectStore("turnos",{keyPath:"id"})),t<2&&(e.objectStoreNames.contains("proveedores")||e.createObjectStore("proveedores",{keyPath:"id"}),e.objectStoreNames.contains("conceptos")||e.createObjectStore("conceptos",{keyPath:"id"}),e.objectStoreNames.contains("talleres")||e.createObjectStore("talleres",{keyPath:"id"}),e.objectStoreNames.contains("reminders")||e.createObjectStore("reminders",{keyPath:"id"}),e.objectStoreNames.contains("customReports")||e.createObjectStore("customReports",{keyPath:"id"})),t<3&&(e.objectStoreNames.contains("settings")||e.createObjectStore("settings",{keyPath:"key"}),e.objectStoreNames.contains("excepciones")||e.createObjectStore("excepciones",{keyPath:"id"}),e.objectStoreNames.contains("vales")||e.createObjectStore("vales",{keyPath:"id"}))}})),C2}async function Wr(e,t,n){return(await kp()).put(e,n)}async function xo(e,t){return(await kp()).get(e,t)}async function nl(e){return(await kp()).getAll(e)}async function Ec(e,t){return(await kp()).delete(e,t)}async function Vs(){return nl("carreras")}async function j_(e){return xo("carreras",e)}async function D_(e){const t=e.id??crypto.randomUUID();return await Wr("carreras",t,{...e,id:t}),t}async function k_(e,t){const n=await xo("carreras",e);if(!n)throw new Error("Carrera not found");await Wr("carreras",e,{...n,...t})}async function L_(e){await Ec("carreras",e)}async function Q0(e){const t=await Vs(),n=e.toISOString().split("T")[0];return t.filter(r=>(r.fechaHora instanceof Date?r.fechaHora:new Date(r.fechaHora)).toISOString().split("T")[0]===n)}async function Zo(){return nl("gastos")}async function F_(e){return xo("gastos",e)}async function O_(e){const t=e.id??crypto.randomUUID();return await Wr("gastos",t,{...e,id:t}),t}async function R_(e,t){const n=await xo("gastos",e);if(!n)throw new Error("Gasto not found");await Wr("gastos",e,{...n,...t})}async function M_(e){await Ec("gastos",e)}async function Lp(e){const t=await Zo(),n=e.toISOString().split("T")[0];return t.filter(r=>(r.fecha instanceof Date?r.fecha:new Date(r.fecha)).toISOString().split("T")[0]===n)}async function Du(){return nl("turnos")}async function z_(e){return xo("turnos",e)}async function I_(e){const t=e.id??crypto.randomUUID();return await Wr("turnos",t,{...e,id:t}),t}async function P_(e,t){const n=await xo("turnos",e);if(!n)throw new Error("Turno not found");await Wr("turnos",e,{...n,...t})}async function B_(e){await Ec("turnos",e)}async function U_(e){const t=await Du(),n=new Date(e);n.setHours(0,0,0,0);const r=n.toISOString().split("T")[0];return t.filter(a=>{const s=new Date(a.fechaInicio);return s.setHours(0,0,0,0),s.toISOString().split("T")[0]===r})}async function ff(e){return(await Du()).sort((n,r)=>new Date(r.fechaInicio).getTime()-new Date(n.fechaInicio).getTime()).slice(0,e)}async function p5(){return(await Du()).find(t=>!t.fechaFin)||null}async function Km(){return nl("proveedores")}async function H_(e){const t=e.id??crypto.randomUUID();return await Wr("proveedores",t,{...e,id:t}),t}async function GL(e){await Ec("proveedores",e)}async function Xm(){return nl("conceptos")}async function V_(e){const t=e.id??crypto.randomUUID();return await Wr("conceptos",t,{...e,id:t}),t}async function Zm(){return nl("talleres")}async function G_(e){const t=e.id??crypto.randomUUID();return await Wr("talleres",t,{...e,id:t}),t}async function q_(e,t){const n=await xo("turnos",e);if(!n)throw new Error("Turno no encontrado");const r={...n,fechaFin:new Date,kilometrosFin:t};await Wr("turnos",e,r)}async function W_(){return nl("reminders")}async function $_(e){const t=e.id??crypto.randomUUID();return await Wr("reminders",t,{...e,id:t}),t}async function Fp(e,t){const n=await xo("reminders",e);if(!n)throw new Error("Reminder not found");await Wr("reminders",e,{...n,...t})}async function Y_(e){await Ec("reminders",e)}function K_(e,t){return W_().then(e).catch(n=>{console.error(n),t&&t(n)}),()=>{}}function i1(e,t){return Du().then(n=>{const r=n.find(a=>!a.fechaFin)||null;e(r)}).catch(n=>{console.error(n),t&&t(n)}),()=>{}}function g5(e,t){return Vs().then(e).catch(n=>{console.error(n),t&&t(n)}),()=>{}}function X_(e,t){return Zo().then(n=>{const r=n.reduce((a,s)=>a+(s.importe||0),0);e(r)}).catch(n=>{console.error(n),t&&t(n)}),()=>{}}async function s1(e,t){const n=new Date(t,e,1),r=new Date(t,e+1,0,23,59,59,999);return N5(n,r)}async function x5(e,t){const n=new Date(t,e,1),r=new Date(t,e+1,0,23,59,59,999);return Sf(n,r)}async function v5(e){const t=new Date(e,0,1),n=new Date(e,11,31,23,59,59,999),r=await Sf(t,n),a=new Array(12).fill(0);return r.forEach(s=>{const c=(s.fechaHora instanceof Date?s.fechaHora:new Date(s.fechaHora)).getMonth();a[c]+=s.cobrado||0}),a}async function y5(e){const t=new Date(e,0,1),n=new Date(e,11,31,23,59,59,999),r=await N5(t,n),a=new Array(12).fill(0);return r.forEach(s=>{const c=(s.fecha instanceof Date?s.fecha:new Date(s.fecha)).getMonth();a[c]+=s.importe||0}),a}async function Z_(e){return(await Vs()).sort((n,r)=>new Date(r.fechaHora).getTime()-new Date(n.fechaHora).getTime()).slice(0,e)}async function J_(e,t){const n=new Date(t,e,1),r=new Date(t,e+1,0,23,59,59,999);return(await Du()).filter(s=>{const l=new Date(s.fechaInicio);return l>=n&&l<=r})}function Q_(e,t,n,r){return s1(e,t).then(n).catch(a=>{console.error(a),r&&r(a)}),()=>{}}async function oh(){return await xo("settings","ajustes")||null}async function Jm(e){await Wr("settings","ajustes",{...e,key:"ajustes"})}async function b5(){return await xo("settings","breakConfig")||null}async function w5(e){await Wr("settings","breakConfig",{...e,key:"breakConfig"})}async function eT(){return nl("vales")}async function qL(e){const t=e.id??crypto.randomUUID();return await Wr("vales",t,{...e,id:t}),t}async function WL(e){await Ec("vales",e)}async function o1(){return nl("excepciones")}async function tT(e){const t=e.id??crypto.randomUUID();return await Wr("excepciones",t,{...e,id:t}),t}async function nT(e,t){const n=await xo("excepciones",e);if(!n)throw new Error("Excepcion not found");await Wr("excepciones",e,{...n,...t})}async function rT(e){await Ec("excepciones",e)}async function aT(e){await Wr("excepciones",e.id,e)}async function iT(e){const t=await o1(),n=e.toISOString().split("T")[0];return t.some(r=>{try{return(r.fecha instanceof Date?r.fecha:new Date(r.fecha)).toISOString().split("T")[0]===n}catch{return!1}})}async function sT(e){await Wr("carreras",e.id,e)}async function oT(e){await Wr("gastos",e.id,e)}async function lT(e){await Wr("turnos",e.id,e)}async function cT(e){await Wr("proveedores",e.id,e)}async function uT(e){await Wr("conceptos",e.id,e)}async function fT(e){await Wr("talleres",e.id,e)}async function hT(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return(await Sf(t,n)).reduce((a,s)=>a+(s.cobrado||0),0)}async function dT(){const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999);return(await N5(t,n)).reduce((a,s)=>a+(s.importe||0),0)}async function S5(e,t){const n=new Set;return(await Vs()).forEach(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);s>=e&&s<=t&&n.add(s.toISOString().split("T")[0])}),Array.from(n).map(a=>new Date(a))}async function Sf(e,t){return(await Vs()).filter(r=>{const a=r.fechaHora instanceof Date?r.fechaHora:new Date(r.fechaHora);return a>=e&&a<=t})}async function mT(e){const t=["carreras","gastos","turnos","proveedores","conceptos","talleres","reminders","customReports","settings","excepciones","vales"],n=t.length;for(let r=0;r<n;r++){const a=t[r];e&&e({percentage:Math.round(r/n*100),message:`Eliminando ${a}...`});const s=await nl(a);for(const l of s){const c=l.id||l.key;c&&await Ec(a,c)}}e&&e({percentage:100,message:"Completado"})}async function N5(e,t){return(await Zo()).filter(r=>{const a=r.fecha instanceof Date?r.fecha:new Date(r.fecha);return a>=e&&a<=t})}async function pT(e,t){const n=await Sf(e,t),r=new Array(24).fill(0);return n.forEach(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);r[s.getHours()]+=a.cobrado||0}),r}async function gT(e,t){const n=await Sf(e,t),r=new Array(7).fill(0),a=new Array(7).fill(0),s=new Set;return n.forEach(l=>{const c=l.fechaHora instanceof Date?l.fechaHora:new Date(l.fechaHora);r[c.getDay()]+=l.cobrado||0,s.add(c.toISOString().split("T")[0])}),s.forEach(l=>{const c=new Date(l);a[c.getDay()]++}),r.map((l,c)=>a[c]>0?l/a[c]:0)}async function xT(e,t){const n=await Sf(e,t),r=new Array(7).fill(0);return n.forEach(a=>{const s=a.fechaHora instanceof Date?a.fechaHora:new Date(a.fechaHora);r[s.getDay()]+=a.cobrado||0}),r}async function av(e,t){const n=new Date(t,e,1),r=new Date(t,e+1,0,23,59,59,999);return(await Sf(n,r)).reduce((s,l)=>s+(l.cobrado||0),0)}async function iv(e,t){return(await s1(e,t)).reduce((r,a)=>r+(a.importe||0),0)}async function sv(e){return(await v5(e)).reduce((n,r)=>n+r,0)}async function ov(e){return(await y5(e)).reduce((n,r)=>n+r,0)}const lv=Object.freeze(Object.defineProperty({__proto__:null,addCarrera:D_,addConcepto:V_,addExcepcion:tT,addGasto:O_,addProveedor:H_,addReminder:$_,addTaller:G_,addTurno:I_,addValeDirectoryEntry:qL,closeTurno:q_,deleteAllData:mT,deleteCarrera:L_,deleteExcepcion:rT,deleteGasto:M_,deleteProveedor:GL,deleteReminder:Y_,deleteTurno:B_,deleteValeDirectoryEntry:WL,getActiveTurno:p5,getAjustes:oh,getBreakConfiguration:b5,getCarrera:j_,getCarreras:Vs,getCarrerasByDate:Q0,getCarrerasByMonth:x5,getConceptos:Xm,getExcepciones:o1,getGasto:F_,getGastos:Zo,getGastosByDate:Lp,getGastosByMonth:s1,getGastosByMonthYear:iv,getGastosByYear:y5,getGastosForCurrentMonth:dT,getIngresosByDayOfWeek:gT,getIngresosByHour:pT,getIngresosByMonthYear:av,getIngresosByYear:v5,getIngresosForCurrentMonth:hT,getProveedores:Km,getRecentCarreras:Z_,getRecentTurnos:ff,getReminders:W_,getTalleres:Zm,getTotalGastosByYear:ov,getTotalIngresosByDayOfWeek:xT,getTotalIngresosByYear:sv,getTurno:z_,getTurnos:Du,getTurnosByDate:U_,getTurnosByMonth:J_,getValesDirectory:eT,getWorkingDays:S5,isRestDay:iT,restoreCarrera:sT,restoreConcepto:uT,restoreExcepcion:aT,restoreGasto:oT,restoreProveedor:cT,restoreTaller:fT,restoreTurno:lT,saveAjustes:Jm,saveBreakConfiguration:w5,subscribeToActiveTurno:i1,subscribeToCarreras:g5,subscribeToGastos:X_,subscribeToGastosByMonth:Q_,subscribeToReminders:K_,updateCarrera:k_,updateExcepcion:nT,updateGasto:R_,updateReminder:Fp,updateTurno:P_},Symbol.toStringTag,{value:"Module"})),_5=e=>e.filter(t=>!t.completado),$L=e=>{const t=new Date;t.setHours(0,0,0,0);const n=t.toISOString().split("T")[0];return _5(e).filter(r=>{const a=new Date(r.fechaLimite);if(a.setHours(0,0,0,0),a.toISOString().split("T")[0]<=n)return!0;if(r.fechaRecordatorio){const l=new Date(r.fechaRecordatorio);if(l.setHours(0,0,0,0),l.toISOString().split("T")[0]<=n)return!0}return!1})},YL=e=>{const t=new Date,n=t.getHours(),r=t.getMinutes(),a=new Date;a.setHours(0,0,0,0);const s=a.toISOString().split("T")[0];return _5(e).filter(l=>{if(!l.sonidoActivo||!l.horaRecordatorio)return!1;const c=new Date(l.fechaLimite);if(c.setHours(0,0,0,0),c.toISOString().split("T")[0]===s){const[h,m]=l.horaRecordatorio.split(":").map(Number);if(Math.abs(n*60+r-(h*60+m))<=1){if(l.lastNotified){const y=new Date(l.lastNotified);if((t.getTime()-y.getTime())/(1e3*60)<5)return!1}return!0}}return!1})},KL=async e=>{const t={id:crypto.randomUUID(),...e,sonidoActivo:e.sonidoActivo??!1,completado:!1,createdAt:new Date().toISOString()};return await $_(t)},XL=async(e,t)=>{await Fp(e,t)},ZL=async e=>{await Fp(e,{completado:!0,fechaCompletado:new Date().toISOString()})},JL=async e=>{await Y_(e)},QL=(e,t)=>_5(t).filter(n=>n.tipo==="mantenimiento"&&n.kilometrosLimite?n.kilometrosLimite-e<=1e3:!1),e9=async e=>{await Fp(e,{lastNotified:new Date().toISOString()})};let I0=null,G4="",vT=[],md=null;const t9=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5),setTimeout(()=>{const r=e.createOscillator(),a=e.createGain();r.connect(a),a.connect(e.destination),r.frequency.value=800,r.type="sine",a.gain.setValueAtTime(.3,e.currentTime),a.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),r.start(e.currentTime),r.stop(e.currentTime+.5)},600)}catch(e){console.error("Error reproduciendo sonido:",e),window.beep&&window.beep()}},q4=()=>{const e=new Date,t=`${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`;if(t===G4)return;G4=t;const n=YL(vT);n.length>0&&(t9(),n.forEach(r=>{e9(r.id)}),"Notification"in window&&Notification.permission==="granted"&&n.forEach(r=>{new Notification(`Recordatorio: ${r.titulo}`,{body:r.descripcion||"Tienes un recordatorio pendiente",icon:"/pwa-192x192.png",tag:r.id})}))},n9=()=>{I0&&clearInterval(I0),md||(md=K_(e=>{vT=e})),setTimeout(()=>{q4()},2e3),I0=setInterval(()=>{q4()},6e4)},r9=()=>{I0&&(clearInterval(I0),I0=null),md&&(md(),md=null)},a9=async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:!1,ny=class ny{static setToastHandler(t){this.toastHandler=t}static handle(t,n){const r={message:this.getErrorMessage(t),code:t==null?void 0:t.code,context:n,originalError:t};return console.error("Error Handler:",{message:r.message,code:r.code,context:r.context,error:t,timestamp:new Date().toISOString()}),this.toastHandler?this.toastHandler(r.message,"error"):console.warn("Toast handler no configurado, usando console.error"),r}static handleSuccess(t){this.toastHandler&&this.toastHandler(t,"success")}static handleWarning(t){this.toastHandler&&this.toastHandler(t,"warning")}static handleInfo(t){this.toastHandler&&this.toastHandler(t,"info")}static getErrorMessage(t){var n,r;return typeof t=="string"?t:t!=null&&t.message?t.message:(r=(n=t==null?void 0:t.response)==null?void 0:n.data)!=null&&r.message?t.response.data.message:"Ha ocurrido un error inesperado. Por favor, intenta de nuevo."}static async handleAsync(t,n,r,a){try{const s=await t();return r&&r(s),s}catch(s){const l=this.handle(s,n);return a&&a(l),null}}};ny.toastHandler=null;let Gs=ny;const yT=W.createContext(void 0),i9=({children:e})=>{const[t,n]=W.useState([]),r=W.useCallback((s,l="info")=>{const c=Math.random().toString(36).substr(2,9),d={id:c,message:s,type:l,duration:3e3};n(h=>[...h,d]),setTimeout(()=>{n(h=>h.filter(m=>m.id!==c))},d.duration)},[]),a=W.useCallback(s=>{n(l=>l.filter(c=>c.id!==s))},[]);return u.jsxs(yT.Provider,{value:{showToast:r},children:[e,u.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2 max-w-md",children:t.map(s=>u.jsx(s9,{toast:s,onClose:()=>a(s.id)},s.id))})]})},s9=({toast:e,onClose:t})=>{const{isDark:n}=zl(),a={success:{bg:n?"bg-green-600":"bg-green-500",text:"text-white",icon:""},error:{bg:n?"bg-red-600":"bg-red-500",text:"text-white",icon:""},warning:{bg:n?"bg-yellow-600":"bg-yellow-500",text:"text-white",icon:""},info:{bg:n?"bg-blue-600":"bg-blue-500",text:"text-white",icon:""}}[e.type];return u.jsxs("div",{className:`${a.bg} ${a.text} px-4 py-3 rounded-lg shadow-xl flex items-center gap-3 min-w-[300px] animate-slide-in-right border-l-4 ${e.type==="success"?"border-green-700":e.type==="error"?"border-red-700":e.type==="warning"?"border-yellow-700":"border-blue-700"}`,role:"alert","aria-live":"polite",children:[u.jsx("span",{className:"text-xl font-bold",children:a.icon}),u.jsx("span",{className:"flex-1 font-medium",children:e.message}),u.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 font-bold text-xl leading-none","aria-label":"Cerrar notificacin",children:""})]})},ku=()=>{const e=W.useContext(yT);if(!e)throw new Error("useToast must be used within ToastProvider");return e},o9=({children:e})=>{const{showToast:t}=ku();return W.useEffect(()=>{Gs.setToastHandler(t)},[t]),u.jsx(u.Fragment,{children:e})};function l9(e,t=!0){W.useEffect(()=>{if(!t)return;const n=r=>{e.forEach(a=>{const s=a.ctrlKey!==void 0?a.ctrlKey?r.ctrlKey:!r.ctrlKey:!0,l=a.metaKey!==void 0?a.metaKey?r.metaKey:!r.metaKey:!0,c=a.shiftKey===void 0?!0:a.shiftKey===r.shiftKey,d=r.key.toLowerCase()===a.key.toLowerCase(),h=a.ctrlKey||a.metaKey?r.ctrlKey||r.metaKey:!r.ctrlKey&&!r.metaKey;s&&l&&c&&d&&h&&(r.preventDefault(),a.action())})};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e,t])}const c9="modulepreload",u9=function(e){return"/tappxi-basic/"+e},W4={},P0=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(n.map(h=>{if(h=u9(h),h in W4)return;W4[h]=!0;const m=h.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":c9,m||(y.as="script"),y.crossOrigin="",y.href=h,d&&y.setAttribute("nonce",d),document.head.appendChild(y),m)return new Promise((g,T)=>{y.addEventListener("load",g),y.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})},jd=({size:e="md",className:t="",text:n})=>{const{isDark:r}=zl(),a={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"},s=r?"border-zinc-600":"border-zinc-300",l=r?"border-cyan-400":"border-blue-600";return u.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[u.jsx("div",{className:`${a[e]} ${s} ${l} border-4 border-t-4 rounded-full animate-spin`,role:"status","aria-label":"Cargando",children:u.jsx("span",{className:"sr-only",children:"Cargando..."})}),n&&u.jsx("p",{className:`mt-2 text-sm ${r?"text-zinc-400":"text-zinc-600"}`,children:n})]})},f9=async(e=new Date().getDay())=>{try{const n=(await ff(50)).filter(d=>(d.fechaInicio instanceof Date?d.fechaInicio:new Date(d.fechaInicio)).getDay()===e);if(n.length<3)return null;const r=n.map(d=>{if(!d.fechaFin)return null;const h=d.fechaInicio instanceof Date?d.fechaInicio:new Date(d.fechaInicio);return((d.fechaFin instanceof Date?d.fechaFin:new Date(d.fechaFin)).getTime()-h.getTime())/(1e3*60*60)<1?null:{startHour:h.getHours(),date:h}}).filter(d=>d!==null),a={};r.forEach(d=>{const h=d.startHour;a[h]=(a[h]||0)+1});let s=-1,l=0;Object.entries(a).forEach(([d,h])=>{h>l&&(l=h,s=parseInt(d))});const c=["domingos","lunes","martes","mircoles","jueves","viernes","sbados"];return{suggestedStart:`${s.toString().padStart(2,"0")}:00`,reason:`Basado en tus ltimos ${n.length} ${c[e]}`,projectedEarnings:0,confidence:n.length>5?"high":"medium"}}catch(t){return console.error("Error analyzing shifts:",t),null}},h9=()=>{const{isDark:e}=zl(),[t,n]=W.useState(null),[r,a]=W.useState(!0);return W.useEffect(()=>{(async()=>{try{const l=new Date,c=l.getHours(),d=l.getDay(),h=c>=15?(d+1)%7:d,m=await f9(h);n(m)}finally{a(!1)}})()},[]),r||!t?null:u.jsxs("div",{className:`${e?"bg-gradient-to-r from-indigo-900/50 to-purple-900/50 border-indigo-500/30":"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200"} border rounded-xl p-4 mb-4 relative overflow-hidden`,children:[u.jsx("div",{className:"absolute -right-4 -bottom-4 text-9xl opacity-5 select-none pointer-events-none",children:""}),u.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsx("div",{className:`p-3 rounded-full ${e?"bg-indigo-500/20 text-indigo-300":"bg-indigo-100 text-indigo-600"}`,children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),u.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),u.jsx("path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z"})]})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:`font-bold text-lg ${e?"text-indigo-200":"text-indigo-900"}`,children:"Sugerencia de Jornada"}),u.jsxs("p",{className:`text-sm ${e?"text-indigo-300/80":"text-indigo-800/80"}`,children:[t.reason,", deberas empezar a las ",u.jsx("span",{className:"font-bold underline",children:t.suggestedStart})," para maximizar ingresos."]})]}),u.jsx("div",{className:"hidden sm:block",children:u.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-semibold transition-colors ${e?"bg-indigo-600 hover:bg-indigo-500 text-white":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:"Ver Estadsticas"})})]})]})},d9=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{fillRule:"evenodd",d:"M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z",clipRule:"evenodd"})}),m9=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})}),p9=({onQuickAction:e})=>u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[u.jsxs(tv.button,{whileTap:{scale:.95},onClick:()=>e("minima"),className:"glass-card p-3 rounded-xl flex items-center space-x-3 hover:bg-white/5 transition-colors group",children:[u.jsx("div",{className:"bg-yellow-500/20 p-2 rounded-lg text-yellow-400 group-hover:text-yellow-300",children:u.jsx(d9,{})}),u.jsx("div",{className:"text-left",children:u.jsx("p",{className:"text-sm font-medium text-zinc-200",children:"Carrera Mnima"})})]}),u.jsxs(tv.button,{whileTap:{scale:.95},onClick:()=>e("aeropuerto"),className:"glass-card p-3 rounded-xl flex items-center space-x-3 hover:bg-white/5 transition-colors group",children:[u.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg text-blue-400 group-hover:text-blue-300",children:u.jsx(m9,{})}),u.jsx("div",{className:"text-left",children:u.jsx("p",{className:"text-sm font-medium text-zinc-200",children:"Aeropuerto"})})]})]}),$4=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),u.jsx("polyline",{points:"17 6 23 6 23 12"})]}),Y4=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("polyline",{points:"23 18 13.5 8.5 8.5 13.5 1 6"}),u.jsx("polyline",{points:"17 18 23 18 23 12"})]}),g9=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),u.jsx("path",{d:"M20 10v4"}),u.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),x9=()=>u.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M4 11h16l-1.5-5A2 2 0 0 0 16.61 4H7.39A2 2 0 0 0 5.5 6z"}),u.jsx("path",{d:"M6 11v9"}),u.jsx("path",{d:"M18 11v9"}),u.jsx("path",{d:"M2 16h20"}),u.jsx("path",{d:"M7 16v5"}),u.jsx("path",{d:"M17 16v5"})]}),v9=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("polyline",{points:"12 6 12 12 16 14"})]}),y9=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),b9=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),u.jsx("path",{d:"M9 16l4-4-4-4"})]}),K4=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"3"}),u.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),w9=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("line",{x1:"10",y1:"15",x2:"10",y2:"9"}),u.jsx("line",{x1:"14",y1:"15",x2:"14",y2:"9"})]}),S9=()=>u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M3 3v18h18"}),u.jsx("path",{d:"M18 17V9"}),u.jsx("path",{d:"M13 17V5"}),u.jsx("path",{d:"M8 17v-3"})]}),N9=()=>u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}),u.jsx("path",{d:"M22 12A10 10 0 0 0 12 2v10z"})]}),_9=()=>u.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"9"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"5"}),u.jsx("rect",{x:"14",y:"12",width:"7",height:"9"}),u.jsx("rect",{x:"3",y:"16",width:"7",height:"5"})]}),T9=()=>u.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),u.jsx("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),A9=()=>u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),E9=()=>u.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"})}),X4=({navigateTo:e,onQuickAction:t})=>{const{isDark:n}=zl(),[r,a]=W.useState(null),[s,l]=W.useState([]),[c,d]=W.useState(0),[h,m]=W.useState(0),[v,y]=W.useState(!0),[g,T]=W.useState(100),[b,A]=W.useState(0),[E,D]=W.useState(0),[j,R]=W.useState([]);W.useEffect(()=>{const M=i1(async N=>{if(N&&!N.numero){const F=new Date(N.fechaInicio);F.setHours(0,0,0,0);const{getTurnosByDate:L}=await P0(async()=>{const{getTurnosByDate:Ne}=await Promise.resolve().then(()=>lv);return{getTurnosByDate:Ne}},void 0),de=(await L(F)).sort((Ne,se)=>new Date(Ne.fechaInicio).getTime()-new Date(se.fechaInicio).getTime()).findIndex(Ne=>Ne.id===N.id);N.numero=de>=0?de+1:1}a(N)});return()=>M()},[]),W.useEffect(()=>{const M=g5(N=>l(N));return()=>M()},[]),W.useEffect(()=>{(async()=>{try{y(!0);const[N,F,L]=await Promise.all([hT(),dT(),oh()]);d(N),m(F);const B=(L==null?void 0:L.objetivoDiario)||parseFloat(localStorage.getItem("objetivoDiario")||"100");T(B);const te=new Date;te.setHours(0,0,0,0);const Ne=(await Q0(te)).reduce((je,ke)=>je+(ke.cobrado||0),0);A(Ne);const se=new Date(te);se.setDate(se.getDate()-14);const ve=await S5(se,new Date(te.getTime()-1));if(ve.length>0){const je=await Promise.all(ve.slice(-7).map(async Ge=>(await Q0(Ge)).reduce((xe,gt)=>xe+(gt.cobrado||0),0))),ke=je.reduce((Ge,Te)=>Ge+Te,0)/je.length;D(ke)}}catch(N){console.error("Error fetching home screen ",N)}finally{y(!1)}})()},[]);const[q,Z]=W.useState([]);W.useEffect(()=>{let M;return(async()=>{try{M=(await P0(()=>Promise.resolve().then(()=>lv),void 0)).subscribeToReminders(L=>{Z(L)})}catch(F){console.error("Error importing api for reminders:",F)}})(),()=>{M&&M()}},[]),W.useEffect(()=>{const M=$L(q);if(r&&r.kilometrosInicio){const N=QL(r.kilometrosInicio,q),F=new Set(M.map(L=>L.id));N.forEach(L=>{F.has(L.id)||M.push(L)})}R(M)},[r,q]);const I=W.useMemo(()=>r?s.filter(M=>M.turnoId===r.id):[],[s,r]),Y=W.useMemo(()=>I.reduce((M,N)=>M+(N.cobrado||0),0),[I]),P=c-h,Q=[{label:"Ingresos",icon:u.jsx($4,{}),action:()=>e(r?mt.VistaCarreras:mt.Turnos)},{label:"Gastos",icon:u.jsx(Y4,{}),action:()=>e(mt.Gastos)},{label:"Histrico",icon:u.jsx(v9,{}),action:()=>e(mt.Historico)},{label:"Estadsticas",icon:u.jsx(S9,{}),action:()=>e(mt.Estadisticas)},{label:"Anlisis",icon:u.jsx(N9,{}),action:()=>e(mt.AnalisisAvanzado)},{label:"Calendario",icon:u.jsx(y9,{}),action:()=>e(mt.Calendario)},{label:"Resumen",icon:u.jsx(_9,{}),action:()=>e(mt.Resumen)},{label:"Informes",icon:u.jsx(b9,{}),action:()=>e(mt.Informes)},{label:"Recordatorios",icon:u.jsx(T9,{}),action:()=>e(mt.Recordatorios)},{label:"Estacin",icon:u.jsx(A9,{}),action:()=>e(mt.EstacionTren)},{label:"Aeropuerto",icon:u.jsx(E9,{}),action:()=>e(mt.Aeropuerto)},{label:"Ajustes",icon:u.jsx(K4,{}),action:()=>e(mt.AjustesGenerales)}],O=M=>`${M.toFixed(2).replace(".",",")} `,K=new Date().toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"}),X=K.charAt(0).toUpperCase()+K.slice(1),H=({icon:M,label:N,onClick:F})=>u.jsxs("button",{onClick:F,className:`flex flex-col items-center justify-center py-3 rounded-xl transition-colors duration-200 group ${n?"bg-zinc-800 hover:bg-zinc-700 border border-zinc-700":"bg-zinc-200 hover:bg-zinc-300 border border-zinc-300"}`,children:[u.jsx("div",{className:`mb-1 transition-colors ${n?"text-cyan-400 group-hover:text-cyan-300":"text-blue-600 group-hover:text-blue-700"}`,children:M}),u.jsx("span",{className:`text-xs font-semibold text-center leading-tight w-full px-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:N})]}),V=n?"linear-gradient(180deg, #08A8D7 0%, #072639 28%, #090B13 100%)":"linear-gradient(180deg, #60A5FA 0%, #E0E7FF 28%, #F3F4F6 100%)",ae=n?"#E6F1FF":"#1F2937",ce=n?"#0A0D14":"#FFFFFF",le=n?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.1)",me=n?"#0A0D14":"#F9FAFB";return u.jsx("div",{className:"min-h-screen px-2 py-4 font-sans",style:{background:V,color:ae},children:v?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(jd,{text:"Cargando datos...",size:"lg"})}):u.jsxs("div",{className:"space-y-6 max-w-xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:`flex items-center gap-2 ${n?"text-cyan-400":"text-blue-600"}`,children:[u.jsx("span",{className:"block",children:u.jsx(x9,{})}),u.jsx("span",{className:"text-2xl font-extrabold tracking-wide",children:"TAppXI"})]}),u.jsx("button",{onClick:()=>e(mt.AjustesGenerales),className:`p-2 rounded-full transition-colors ${n?"bg-black/20 text-cyan-400 hover:bg-black/30":"bg-white/80 text-blue-600 hover:bg-white/90"}`,"aria-label":"Ir a ajustes",children:u.jsx(K4,{})})]}),u.jsx(p9,{onQuickAction:t}),j.length>0&&u.jsx("div",{className:"rounded-2xl p-4 shadow-xl border-2",style:{backgroundColor:"#FEF3C7",borderColor:"#F59E0B"},children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"text-2xl",children:""}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-bold text-zinc-900 mb-1",children:[j.length," Recordatorio",j.length>1?"s":""," Pendiente",j.length>1?"s":""]}),u.jsxs("div",{className:"space-y-1 mb-2",children:[j.slice(0,3).map(M=>u.jsxs("p",{className:"text-sm text-zinc-800",children:[" ",M.titulo,M.tipo==="mantenimiento"&&M.kilometrosLimite&&u.jsxs("span",{className:"text-zinc-600",children:[" (",M.kilometrosLimite," km)"]})]},M.id)),j.length>3&&u.jsxs("p",{className:"text-sm text-zinc-600",children:["y ",j.length-3," ms..."]})]}),u.jsx("button",{onClick:()=>e(mt.Recordatorios),className:"text-sm font-semibold text-zinc-900 underline hover:no-underline",children:"Ver todos los recordatorios "})]})]})}),u.jsx("div",{className:"flex gap-2 w-full",children:[{label:"Ingresos",value:O(c),color:n?"#00D4FF":"#2563EB",icon:u.jsx($4,{})},{label:"Gastos",value:O(h),color:n?"#FF3DD0":"#DC2626",icon:u.jsx(Y4,{})},{label:"Balance",value:O(P),color:n?"#00FF94":"#16A34A",icon:u.jsx(g9,{})}].map(M=>u.jsxs("div",{className:"flex-1 min-w-0 rounded-xl px-2 py-1 flex flex-col items-center gap-1 shadow-lg",style:{backgroundColor:ce,borderColor:le,borderWidth:"1px",borderStyle:"solid"},children:[u.jsx("div",{className:"w-8 h-5 rounded-lg flex items-center justify-center",style:{backgroundColor:me,color:M.color},children:M.icon}),u.jsx("p",{className:"text-[14px] uppercase tracking-wide",style:{color:M.color},children:M.label}),u.jsx("p",{className:"text-[17px] tracking-tight",style:{color:M.color},children:M.value})]},M.label))}),(()=>{const M=g>0?Math.min(b/g*100,100):0,N=b-g,F=E>0?(b-E)/E*100:0;let L,B,te;return M>=100?(L=n?"#00FF94":"#16A34A",B="",te="Objetivo alcanzado"):M>=75?(L=n?"#FBBF24":"#F59E0B",B="",te="Buen progreso"):M>=50?(L=n?"#FB923C":"#F97316",B="",te="Progreso regular"):(L=n?"#EF4444":"#DC2626",B="",te="Por debajo del objetivo"),u.jsxs("div",{className:"rounded-2xl p-4 shadow-xl",style:{backgroundColor:ce,borderColor:le,borderWidth:"1px",borderStyle:"solid"},children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:B}),u.jsx("h3",{className:`text-base font-bold ${n?"text-zinc-100":"text-zinc-900"}`,children:"Progreso del Da"})]}),u.jsx("span",{className:"text-sm font-semibold px-2 py-1 rounded-lg",style:{backgroundColor:L+"20",color:L},children:te})]}),u.jsxs("div",{className:"mb-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsxs("span",{className:`text-xs ${n?"text-zinc-400":"text-zinc-600"}`,children:[O(b)," / ",O(g)]}),u.jsxs("span",{className:"text-sm font-bold",style:{color:L},children:[M.toFixed(0),"%"]})]}),u.jsx("div",{className:"w-full h-3 rounded-full overflow-hidden",style:{backgroundColor:n?"#1A1A1F":"#E5E7EB"},children:u.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${M}%`,backgroundColor:L}})})]}),u.jsxs("div",{className:"space-y-1.5",children:[N>=0?u.jsxs("p",{className:`text-sm ${n?"text-green-400":"text-green-600"}`,children:[" Has superado el objetivo por ",O(Math.abs(N))]}):u.jsxs("p",{className:`text-sm ${n?"text-orange-400":"text-orange-600"}`,children:[" Te faltan ",O(Math.abs(N))," para el objetivo"]}),E>0&&u.jsxs("div",{className:"flex items-center justify-between pt-1 border-t",style:{borderColor:le},children:[u.jsx("span",{className:`text-xs ${n?"text-zinc-400":"text-zinc-600"}`,children:"Promedio ltimos das:"}),u.jsxs("span",{className:`text-xs font-semibold ${F>=0?n?"text-green-400":"text-green-600":n?"text-red-400":"text-red-600"}`,children:[O(E),F!==0&&u.jsxs("span",{children:[" (",F>=0?"+":"",F.toFixed(1),"%)"]})]})]})]}),r&&u.jsxs("div",{className:"mt-4 pt-4 border-t",style:{borderColor:le},children:[u.jsxs("div",{className:"flex justify-between items-start mb-3",children:[u.jsxs("div",{children:[u.jsx("h2",{className:`text-sm font-bold tracking-wide uppercase ${n?"text-cyan-400":"text-blue-600"}`,children:`Turno ${r.numero??1}`}),u.jsx("p",{className:`uppercase tracking-wide text-xs ${n?"text-zinc-400":"text-zinc-600"}`,children:r.fechaInicio.toLocaleDateString("es-ES",{weekday:"short",day:"2-digit",month:"short"})})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"Total turno"}),u.jsx("p",{className:`text-xl font-bold mt-1 ${n?"text-green-400":"text-green-600"}`,children:O(Y)})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3 text-sm",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"Kms Inic."}),u.jsx("p",{className:`text-lg mt-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:r.kilometrosInicio})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"H. Inicio"}),u.jsx("p",{className:`text-lg mt-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:r.fechaInicio.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${n?"text-cyan-400":"text-blue-600"}`,children:"Carreras"}),u.jsx("p",{className:`text-lg mt-1 ${n?"text-zinc-100":"text-zinc-900"}`,children:I.length})]})]}),u.jsx("button",{onClick:()=>e(mt.VistaCarreras),className:`w-full py-2 rounded-xl font-semibold text-sm shadow-md hover:opacity-95 transition-opacity ${n?"bg-gradient-to-r from-green-400 to-cyan-400 text-zinc-900":"bg-gradient-to-r from-green-500 to-blue-500 text-white"}`,children:"Ver Detalles"})]})]})})(),!r&&u.jsxs("div",{className:"rounded-2xl p-4 shadow-xl text-center",style:{backgroundColor:ce,borderColor:le,borderWidth:"1px",borderStyle:"solid"},children:[u.jsx("div",{className:`mx-auto mb-4 w-12 h-12 rounded-full flex items-center justify-center ${n?"bg-purple-900/50 text-pink-400":"bg-purple-100 text-pink-600"}`,children:u.jsx(w9,{})}),u.jsx("p",{className:`text-base font-semibold mb-1 ${n?"text-cyan-400":"text-blue-600"}`,children:X}),u.jsx("h3",{className:`font-bold text-base tracking-wide mb-2 uppercase ${n?"text-pink-400":"text-pink-600"}`,children:"NO HAY TURNO ACTIVO"}),u.jsx("p",{className:`text-sm leading-relaxed ${n?"text-zinc-300":"text-zinc-700"}`,children:"Inicia un nuevo turno para comenzar"})]}),!r&&u.jsx(h9,{}),u.jsx("div",{className:"grid grid-cols-3 gap-1",children:Q.map((M,N)=>u.jsx(H,{icon:M.icon,label:M.label,onClick:M.action},N))})]})})},C9=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})}),j9=({navigateTo:e,targetPage:t=mt.Home,className:n="p-2 text-zinc-300 hover:text-white transition-colors"})=>u.jsx("button",{onClick:()=>e(t),className:n,"aria-label":"Volver",children:u.jsx(C9,{})}),Da=({title:e,navigateTo:t,backTarget:n=mt.Home,showBack:r=!0,rightSlot:a,className:s=""})=>{const l=a??u.jsx("div",{className:"w-6"});return u.jsxs("div",{className:`bg-yellow-400 text-zinc-900 rounded-lg px-3 py-1.5 flex items-center gap-2 ${s}`,children:[r?u.jsx(j9,{navigateTo:t,targetPage:n,className:"p-1.5 text-zinc-900 hover:text-zinc-700 transition-colors"}):u.jsx("div",{className:"w-6"}),u.jsx("h1",{className:"flex-1 text-center font-bold text-base leading-tight",children:e}),u.jsx("div",{className:"flex items-center justify-end min-w-[24px]",children:l})]})},D9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5C21.27 7.61 17 4.5 12 4.5zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})}),k9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"})}),hm=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1s.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77C18.09 17.91 16.61 18.5 15 18.5z"})}),L9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),F9=({className:e})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[u.jsx("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"}),u.jsx("path",{d:"M11.5 14.5h-1v-1h-1c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h2v-1h-3v-1.5h3v-1h1v1h1c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-2v1h3v1.5h-3v1z"})]}),O9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 25",fill:"currentColor",className:e,children:u.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2h-2v2h2V4zM9 18H4v-2h5v2zm0-4H4v-2h5v2zm0-4H4V8h5v2zm7 8h-5v-2h5v2zm0-4h-5v-2h5v2zm0-4h-5V8h5v2z"})}),Z4=({className:e})=>{const t=window.location.pathname.includes("/tappxi-web-replica/")?"/tappxi-web-replica/":"/";return u.jsx("img",{src:`${t}radio-tower-icon.png`,alt:"Emisora",className:e,style:{objectFit:"contain",width:"28px",height:"28px"}})},R9=({className:e,title:t})=>{const n=window.location.pathname.includes("/tappxi-web-replica/")?"/tappxi-web-replica/":"/";return u.jsx("img",{src:`${n}airport-icon.png`,alt:"Aeropuerto",title:t,className:e,style:{objectFit:"contain",width:"35px",height:"36px"}})},M9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5h1.5l1.5-1.5h4.5L15 20.5h1.5L15 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-4-4-8-4zM7.5 17c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6H6V6h12v5z"})}),z9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),I9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"})}),P9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),B9=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})}),Qu=({title:e,value:t})=>u.jsxs("div",{className:"flex-1 text-center",children:[u.jsx("p",{className:"text-sm text-zinc-400",children:e}),u.jsx("p",{className:"font-semibold text-base text-zinc-100",children:t})]}),J4=({title:e,value:t,valueNumeric:n})=>{let r=e,a="text-zinc-100";return e.toLowerCase()==="pendiente"?n<0?(r="Excede",a="text-emerald-400"):n>0?(r="Faltan",a="text-red-400"):(r="Pendiente",a="text-zinc-100"):a="text-emerald-400",u.jsxs("div",{className:"bg-zinc-900 dark:bg-zinc-900 bg-white border border-zinc-800 dark:border-zinc-800 border-zinc-200 rounded-lg p-1.5 flex-1 flex flex-col justify-center items-center text-center",children:[u.jsx("p",{className:"text-lg font-bold text-zinc-100 dark:text-zinc-100 text-zinc-900",children:r}),u.jsx("p",{className:`text-2xl font-bold ${a}`,children:t})]})},U9=({navigateTo:e,navigateToEditRace:t})=>{const{isDark:n}=zl(),[r,a]=W.useState(!1),[s,l]=W.useState([]),[c,d]=W.useState(0),[h,m]=W.useState(null),[v,y]=W.useState(new Date),[g,T]=W.useState(!0),[b,A]=W.useState(null),[E,D]=W.useState(100),[j,R]=W.useState([]);W.useEffect(()=>{T(!0),A(null);const H=g5(V=>{R(V),T(!1),A(null)},V=>{console.error("Error loading carreras:",V),A("Error al cargar las carreras desde la base de datos"),T(!1)});return()=>H()},[]);const q=W.useMemo(()=>{if(g)return[];let H=j;if(h)H=j.filter(V=>V.turnoId===h.id);else{const V=new Date;V.setHours(0,0,0,0);const ae=new Date(V);ae.setDate(ae.getDate()+1),H=j.filter(ce=>{const le=new Date(ce.fechaHora);return le>=V&&le<ae})}return H},[j,h,g]);W.useEffect(()=>{const H=X_(V=>{d(V)},V=>{console.error("Error loading gastos:",V),d(0)});return()=>H()},[]),W.useEffect(()=>{const H=i1(V=>{m(V)},V=>{console.error("Error loading turno:",V),m(null)});return()=>H()},[]),W.useEffect(()=>{(async()=>{try{const V=await oh();if(V&&V.objetivoDiario)D(V.objetivoDiario),localStorage.setItem("objetivoDiario",V.objetivoDiario.toString());else{const ae=parseFloat(localStorage.getItem("objetivoDiario")||"100");D(ae)}}catch(V){console.error("Error cargando objetivo diario:",V);const ae=parseFloat(localStorage.getItem("objetivoDiario")||"100");D(ae)}})()},[]),W.useEffect(()=>{if(h){const H=setInterval(()=>{y(new Date)},6e4);return()=>clearInterval(H)}},[h]);const Z=W.useMemo(()=>{q.reduce((F,L)=>F+L.taximetro,0);const H=q.reduce((F,L)=>F+L.cobrado,0),V=q.reduce((F,L)=>F+(L.cobrado-L.taximetro),0),ae=q.filter(F=>F.formaPago==="Tarjeta"),ce=E-H,le=ce>0?`${Math.abs(ce).toFixed(2)}`:`+${Math.abs(ce).toFixed(2)}`;let me="00:00";if(h)me=h.fechaInicio.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});else if(q.length>0){const F=new Date;F.setHours(0,0,0,0);const L=q.filter(B=>new Date(B.fechaHora)>=F);L.length>0&&(me=L[L.length-1].fechaHora.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))}let M="00:00";if(h){const F=h.fechaInicio,B=v.getTime()-F.getTime(),te=Math.floor(B/(1e3*60*60)),de=Math.floor(B%(1e3*60*60)/(1e3*60));M=`${String(te).padStart(2,"0")}:${String(de).padStart(2,"0")}`}else if(q.length>0){const F=new Date;F.setHours(0,0,0,0);const L=q.filter(B=>new Date(B.fechaHora)>=F);if(L.length>0){const B=L[L.length-1],de=L[0].fechaHora.getTime()-B.fechaHora.getTime(),Ne=Math.floor(de/(1e3*60*60)),se=Math.floor(de%(1e3*60*60)/(1e3*60));M=`${String(Ne).padStart(2,"0")}:${String(se).padStart(2,"0")}`}}let N="0";return h&&(N=h.kilometrosInicio.toString()),{total:`${H.toFixed(2)}`,carreras:q.length.toString(),tarjeta:ae.length.toString(),propina:`${V.toFixed(2)}`,totalTarjeta:`${ae.reduce((F,L)=>F+L.cobrado,0).toFixed(2)}`,pendiente:le,pendienteValor:ce,horaInicio:me,horaTrabajo:M,kmsInicio:N}},[q,c,h,v,E]),I=H=>{if(r)return hm;switch(H){case"Bizum":return F9;case"Vales":return O9;case"Tarjeta":return L9;case"Efectivo":default:return hm}},Y=H=>{switch(H){case"Efectivo":return"text-emerald-400";case"Tarjeta":return"text-blue-400";case"Bizum":return"text-purple-400";case"Vales":return"text-amber-300";default:return"text-zinc-300"}},P=n?"bg-zinc-950":"bg-zinc-50",Q=n?"text-zinc-100":"text-zinc-900",O=n?"bg-zinc-900":"bg-white",G=n?"border-zinc-800":"border-zinc-200",K=n?"hover:bg-zinc-800":"hover:bg-zinc-50",X=n?"bg-zinc-900/50":"bg-zinc-100/50";return u.jsxs("div",{className:`${P} min-h-screen ${Q} px-3 pt-3 pb-24 space-y-1.5`,children:[u.jsx(Da,{title:"Ingresos",navigateTo:e,backTarget:mt.Home,className:"mb-2",rightSlot:u.jsx("button",{onClick:()=>a(!r),className:"p-1.5 text-zinc-900 hover:text-zinc-700 transition-colors focus:outline-none","aria-label":r?"Mostrar valores":"Ocultar valores",children:r?u.jsx(k9,{className:"w-5 h-5"}):u.jsx(D9,{className:"w-5 h-5"})})}),u.jsxs("section",{className:`${X} border ${G} rounded-xl p-2 space-y-1.5`,children:[u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(J4,{title:"Pendiente",value:r?"****":Z.pendiente,valueNumeric:Z.pendienteValor}),u.jsx(J4,{title:"TOTAL",value:r?"****":Z.total,valueNumeric:parseFloat(Z.total)})]}),u.jsxs("div",{className:`flex space-x-2 ${O} border ${G} rounded-lg p-1.5`,children:[u.jsx(Qu,{title:"Carr.",value:r?"****":Z.carreras}),u.jsx(Qu,{title:"Tarjeta",value:r?"****":Z.tarjeta}),u.jsx(Qu,{title:"H.Inic.",value:r?"****":Z.horaInicio}),u.jsx(Qu,{title:"H.Trab",value:r?"****":Z.horaTrabajo})]}),u.jsxs("div",{className:`flex space-x-2 ${O} border ${G} rounded-lg p-1.5`,children:[u.jsx(Qu,{title:"Kms. Ini",value:r?"****":Z.kmsInicio}),parseFloat(Z.propina)>0&&u.jsx(Qu,{title:"Propina",value:r?"****":Z.propina}),u.jsx(Qu,{title:"Tarjeta",value:r?"****":Z.totalTarjeta})]})]}),u.jsxs("section",{children:[u.jsxs("div",{className:"border-b border-zinc-800 p-1 flex items-center text-zinc-400 font-semibold text-center text-sm",children:[u.jsx("span",{className:"flex-1 flex justify-center items-center",children:u.jsx(hm,{className:"w-4 h-4"})}),u.jsx("span",{className:"flex-1 flex justify-center items-center",children:u.jsx(hm,{className:"w-4 h-4"})}),u.jsx("span",{className:"flex-1",children:"Propinas"}),u.jsx("span",{className:"flex-1 flex justify-center items-center",title:"Emisora",children:u.jsx(Z4,{className:"w-5 h-5 text-pink-400"})}),u.jsx("span",{className:"flex-1 flex justify-center items-center",title:"Interurbana / Aeropuerto / Estacin"}),u.jsx("span",{className:"flex-1 flex justify-center items-center",children:u.jsx(I9,{className:"w-4 h-4"})})]}),g&&u.jsx("div",{className:"text-center p-2 text-zinc-400 text-base",children:"Cargando carreras..."}),b&&u.jsx("div",{className:"text-center p-2 text-red-400 text-base",children:b}),!g&&!b&&u.jsx("div",{className:"space-y-0.5 max-h-96 overflow-y-auto pt-0.5",children:q.map(H=>{const V=I(H.formaPago),ae=H.cobrado-H.taximetro;return u.jsxs("div",{onClick:()=>t(H.id),className:`${O} border ${G} rounded-lg p-1.5 flex items-center text-center cursor-pointer ${K} transition-colors`,children:[u.jsx("span",{className:"flex-1 font-bold text-zinc-100 text-base",children:r?"****":`${H.cobrado.toFixed(2)}`}),u.jsx("span",{className:`flex-1 flex justify-center items-center ${Y(H.formaPago)}`,children:u.jsx(V,{className:"w-5 h-5"})}),u.jsx("span",{className:"flex-1 text-emerald-400 text-sm",children:ae>0?r?"****":`${ae.toFixed(2)}`:""}),u.jsx("span",{className:"flex-1 text-pink-400 flex justify-center items-center",children:H.emisora?u.jsx(Z4,{className:"w-5 h-5 text-pink-400"}):null}),u.jsx("span",{className:"flex-1 flex justify-center items-center",children:(H.tipoCarrera||"Urbana")==="Interurbana"?u.jsx(z9,{className:"w-6 h-6 text-orange-400",title:"Interurbana"}):H.aeropuerto?u.jsx(R9,{className:"w-6 h-6 text-blue-400",title:"Aeropuerto"}):H.estacion?u.jsx(M9,{className:"w-6 h-6 text-amber-400",title:"Estacin"}):null}),u.jsx("span",{className:"flex-1 text-sm text-zinc-400",children:r?"****":H.fechaHora.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]},H.id)})})]}),u.jsx("div",{className:"fixed bottom-2 left-6 z-20",children:u.jsx("button",{onClick:()=>e(mt.CerrarTurno),className:`${n?"bg-zinc-800 border-zinc-700 text-zinc-300 hover:bg-zinc-700":"bg-zinc-200 border-zinc-300 text-zinc-700 hover:bg-zinc-300"} border w-6 h-6 rounded-full flex items-center justify-center shadow-lg transition-colors`,title:"Cerrar Turno",children:u.jsx(B9,{className:"w-4 h-4"})})}),u.jsx("div",{className:"fixed bottom-2 right-6 z-20",children:u.jsx("button",{onClick:()=>e(mt.IntroducirCarrera),className:"bg-zinc-50 text-zinc-900 w-6 h-6 rounded-full flex items-center justify-center shadow-lg hover:bg-zinc-200 transition-colors",children:u.jsx(P9,{className:"w-4 h-4"})})})]})};var fr;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const s={};for(const l of a)s[l]=l;return s},e.getValidEnumValues=a=>{const s=e.objectKeys(a).filter(c=>typeof a[a[c]]!="number"),l={};for(const c of s)l[c]=a[c];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(s){return a[s]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const s=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&s.push(l);return s},e.find=(a,s)=>{for(const l of a)if(s(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,s=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(a,s)=>typeof s=="bigint"?s.toString():s})(fr||(fr={}));var cv;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(cv||(cv={}));const Gt=fr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mu=e=>{switch(typeof e){case"undefined":return Gt.undefined;case"string":return Gt.string;case"number":return isNaN(e)?Gt.nan:Gt.number;case"boolean":return Gt.boolean;case"function":return Gt.function;case"bigint":return Gt.bigint;case"symbol":return Gt.symbol;case"object":return Array.isArray(e)?Gt.array:e===null?Gt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Gt.promise:typeof Map<"u"&&e instanceof Map?Gt.map:typeof Set<"u"&&e instanceof Set?Gt.set:typeof Date<"u"&&e instanceof Date?Gt.date:Gt.object;default:return Gt.unknown}},_t=fr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),H9=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class qs extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},a=s=>{for(const l of s.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const h=l.path[d];d===l.path.length-1?(c[h]=c[h]||{_errors:[]},c[h]._errors.push(n(l))):c[h]=c[h]||{_errors:[]},c=c[h],d++}}};return a(this),r}static assert(t){if(!(t instanceof qs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qs.create=e=>new qs(e);const eh=(e,t)=>{let n;switch(e.code){case _t.invalid_type:e.received===Gt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case _t.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,fr.jsonStringifyReplacer)}`;break;case _t.unrecognized_keys:n=`Unrecognized key(s) in object: ${fr.joinValues(e.keys,", ")}`;break;case _t.invalid_union:n="Invalid input";break;case _t.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fr.joinValues(e.options)}`;break;case _t.invalid_enum_value:n=`Invalid enum value. Expected ${fr.joinValues(e.options)}, received '${e.received}'`;break;case _t.invalid_arguments:n="Invalid function arguments";break;case _t.invalid_return_type:n="Invalid function return type";break;case _t.invalid_date:n="Invalid date";break;case _t.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:fr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case _t.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case _t.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case _t.custom:n="Invalid input";break;case _t.invalid_intersection_types:n="Intersection results could not be merged";break;case _t.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case _t.not_finite:n="Number must be finite";break;default:n=t.defaultError,fr.assertNever(e)}return{message:n}};let bT=eh;function V9(e){bT=e}function Qm(){return bT}const ep=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,s=[...n,...a.path||[]],l={...a,path:s};if(a.message!==void 0)return{...a,path:s,message:a.message};let c="";const d=r.filter(h=>!!h).slice().reverse();for(const h of d)c=h(l,{data:t,defaultError:c}).message;return{...a,path:s,message:c}},G9=[];function Rt(e,t){const n=Qm(),r=ep({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===eh?void 0:eh].filter(a=>!!a)});e.common.issues.push(r)}class Gi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return Nn;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n){const s=await a.key,l=await a.value;r.push({key:s,value:l})}return Gi.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:s,value:l}=a;if(s.status==="aborted"||l.status==="aborted")return Nn;s.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(r[s.value]=l.value)}return{status:t.value,value:r}}}const Nn=Object.freeze({status:"aborted"}),F0=e=>({status:"dirty",value:e}),ns=e=>({status:"valid",value:e}),uv=e=>e.status==="aborted",fv=e=>e.status==="dirty",Dd=e=>e.status==="valid",kd=e=>typeof Promise<"u"&&e instanceof Promise;function tp(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function wT(e,t,n,r,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var un;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(un||(un={}));var od,ld;class Ol{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Q4=(e,t)=>{if(Dd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qs(e.common.issues);return this._error=n,this._error}}};function zn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(l,c)=>{var d,h;const{message:m}=e;return l.code==="invalid_enum_value"?{message:m??c.defaultError}:typeof c.data>"u"?{message:(d=m??r)!==null&&d!==void 0?d:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(h=m??n)!==null&&h!==void 0?h:c.defaultError}},description:a}}class Un{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return mu(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:mu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Gi,ctx:{common:t.parent.common,data:t.data,parsedType:mu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(kd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)},s=this._parseSync({data:t,path:a.path,parent:a});return Q4(a,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mu(t)},a=this._parse({data:t,path:r.path,parent:r}),s=await(kd(a)?a:Promise.resolve(a));return Q4(r,s)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,s)=>{const l=t(a),c=()=>s.addIssue({code:_t.custom,...r(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new el({schema:this,typeName:bn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Fl.create(this,this._def)}nullable(){return _u.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Jo.create(this,this._def)}promise(){return nh.create(this,this._def)}or(t){return Rd.create([this,t],this._def)}and(t){return Md.create(this,t,this._def)}transform(t){return new el({...zn(this._def),schema:this,typeName:bn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ud({...zn(this._def),innerType:this,defaultValue:n,typeName:bn.ZodDefault})}brand(){return new T5({typeName:bn.ZodBranded,type:this,...zn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Hd({...zn(this._def),innerType:this,catchValue:n,typeName:bn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return l1.create(this,t)}readonly(){return Vd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const q9=/^c[^\s-]{8,}$/i,W9=/^[0-9a-z]+$/,$9=/^[0-9A-HJKMNP-TV-Z]{26}$/,Y9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,K9=/^[a-z0-9_-]{21}$/i,X9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let j2;const Q9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eF=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,tF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ST="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nF=new RegExp(`^${ST}$`);function NT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function rF(e){return new RegExp(`^${NT(e)}$`)}function _T(e){let t=`${ST}T${NT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function aF(e,t){return!!((t==="v4"||!t)&&Q9.test(e)||(t==="v6"||!t)&&eF.test(e))}class Ko extends Un{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Gt.string){const s=this._getOrReturnCtx(t);return Rt(s,{code:_t.invalid_type,expected:Gt.string,received:s.parsedType}),Nn}const r=new Gi;let a;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const l=t.data.length>s.value,c=t.data.length<s.value;(l||c)&&(a=this._getOrReturnCtx(t,a),l?Rt(a,{code:_t.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&Rt(a,{code:_t.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Z9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"email",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")j2||(j2=new RegExp(J9,"u")),j2.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"emoji",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Y9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"uuid",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")K9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"nanoid",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")q9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"cuid",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")W9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"cuid2",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")$9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"ulid",code:_t.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Rt(a,{validation:"url",code:_t.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"regex",code:_t.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_T(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?nF.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?rF(s).test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?X9.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"duration",code:_t.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?aF(t.data,s.version)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"ip",code:_t.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?tF.test(t.data)||(a=this._getOrReturnCtx(t,a),Rt(a,{validation:"base64",code:_t.invalid_string,message:s.message}),r.dirty()):fr.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:_t.invalid_string,...un.errToObj(r)})}_addCheck(t){return new Ko({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...un.errToObj(t)})}url(t){return this._addCheck({kind:"url",...un.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...un.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...un.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...un.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...un.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...un.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...un.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...un.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...un.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...un.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...un.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...un.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...un.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...un.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...un.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...un.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...un.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...un.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...un.errToObj(n)})}nonempty(t){return this.min(1,un.errToObj(t))}trim(){return new Ko({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ko({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ko({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ko.create=e=>{var t;return new Ko({checks:[],typeName:bn.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...zn(e)})};function iF(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,s=parseInt(e.toFixed(a).replace(".","")),l=parseInt(t.toFixed(a).replace(".",""));return s%l/Math.pow(10,a)}class wu extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Gt.number){const s=this._getOrReturnCtx(t);return Rt(s,{code:_t.invalid_type,expected:Gt.number,received:s.parsedType}),Nn}let r;const a=new Gi;for(const s of this._def.checks)s.kind==="int"?fr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.invalid_type,expected:"integer",received:"float",message:s.message}),a.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),a.dirty()):s.kind==="multipleOf"?iF(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.not_finite,message:s.message}),a.dirty()):fr.assertNever(s);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,un.toString(n))}gt(t,n){return this.setLimit("min",t,!1,un.toString(n))}lte(t,n){return this.setLimit("max",t,!0,un.toString(n))}lt(t,n){return this.setLimit("max",t,!1,un.toString(n))}setLimit(t,n,r,a){return new wu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:un.toString(a)}]})}_addCheck(t){return new wu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:un.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:un.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:un.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:un.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:un.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:un.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:un.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:un.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:un.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fr.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}wu.create=e=>new wu({checks:[],typeName:bn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...zn(e)});class Su extends Un{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Gt.bigint){const s=this._getOrReturnCtx(t);return Rt(s,{code:_t.invalid_type,expected:Gt.bigint,received:s.parsedType}),Nn}let r;const a=new Gi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),a.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Rt(r,{code:_t.not_multiple_of,multipleOf:s.value,message:s.message}),a.dirty()):fr.assertNever(s);return{status:a.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,un.toString(n))}gt(t,n){return this.setLimit("min",t,!1,un.toString(n))}lte(t,n){return this.setLimit("max",t,!0,un.toString(n))}lt(t,n){return this.setLimit("max",t,!1,un.toString(n))}setLimit(t,n,r,a){return new Su({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:un.toString(a)}]})}_addCheck(t){return new Su({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:un.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:un.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:un.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:un.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:un.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Su.create=e=>{var t;return new Su({checks:[],typeName:bn.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...zn(e)})};class Ld extends Un{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Gt.boolean){const r=this._getOrReturnCtx(t);return Rt(r,{code:_t.invalid_type,expected:Gt.boolean,received:r.parsedType}),Nn}return ns(t.data)}}Ld.create=e=>new Ld({typeName:bn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...zn(e)});class pf extends Un{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Gt.date){const s=this._getOrReturnCtx(t);return Rt(s,{code:_t.invalid_type,expected:Gt.date,received:s.parsedType}),Nn}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return Rt(s,{code:_t.invalid_date}),Nn}const r=new Gi;let a;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(a=this._getOrReturnCtx(t,a),Rt(a,{code:_t.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):fr.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pf({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:un.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:un.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}pf.create=e=>new pf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:bn.ZodDate,...zn(e)});class np extends Un{_parse(t){if(this._getType(t)!==Gt.symbol){const r=this._getOrReturnCtx(t);return Rt(r,{code:_t.invalid_type,expected:Gt.symbol,received:r.parsedType}),Nn}return ns(t.data)}}np.create=e=>new np({typeName:bn.ZodSymbol,...zn(e)});class Fd extends Un{_parse(t){if(this._getType(t)!==Gt.undefined){const r=this._getOrReturnCtx(t);return Rt(r,{code:_t.invalid_type,expected:Gt.undefined,received:r.parsedType}),Nn}return ns(t.data)}}Fd.create=e=>new Fd({typeName:bn.ZodUndefined,...zn(e)});class Od extends Un{_parse(t){if(this._getType(t)!==Gt.null){const r=this._getOrReturnCtx(t);return Rt(r,{code:_t.invalid_type,expected:Gt.null,received:r.parsedType}),Nn}return ns(t.data)}}Od.create=e=>new Od({typeName:bn.ZodNull,...zn(e)});class th extends Un{constructor(){super(...arguments),this._any=!0}_parse(t){return ns(t.data)}}th.create=e=>new th({typeName:bn.ZodAny,...zn(e)});class hf extends Un{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ns(t.data)}}hf.create=e=>new hf({typeName:bn.ZodUnknown,...zn(e)});class Nc extends Un{_parse(t){const n=this._getOrReturnCtx(t);return Rt(n,{code:_t.invalid_type,expected:Gt.never,received:n.parsedType}),Nn}}Nc.create=e=>new Nc({typeName:bn.ZodNever,...zn(e)});class rp extends Un{_parse(t){if(this._getType(t)!==Gt.undefined){const r=this._getOrReturnCtx(t);return Rt(r,{code:_t.invalid_type,expected:Gt.void,received:r.parsedType}),Nn}return ns(t.data)}}rp.create=e=>new rp({typeName:bn.ZodVoid,...zn(e)});class Jo extends Un{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==Gt.array)return Rt(n,{code:_t.invalid_type,expected:Gt.array,received:n.parsedType}),Nn;if(a.exactLength!==null){const l=n.data.length>a.exactLength.value,c=n.data.length<a.exactLength.value;(l||c)&&(Rt(n,{code:l?_t.too_big:_t.too_small,minimum:c?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Rt(n,{code:_t.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Rt(n,{code:_t.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>a.type._parseAsync(new Ol(n,l,n.path,c)))).then(l=>Gi.mergeArray(r,l));const s=[...n.data].map((l,c)=>a.type._parseSync(new Ol(n,l,n.path,c)));return Gi.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Jo({...this._def,minLength:{value:t,message:un.toString(n)}})}max(t,n){return new Jo({...this._def,maxLength:{value:t,message:un.toString(n)}})}length(t,n){return new Jo({...this._def,exactLength:{value:t,message:un.toString(n)}})}nonempty(t){return this.min(1,t)}}Jo.create=(e,t)=>new Jo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:bn.ZodArray,...zn(t)});function _0(e){if(e instanceof ma){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Fl.create(_0(r))}return new ma({...e._def,shape:()=>t})}else return e instanceof Jo?new Jo({...e._def,type:_0(e.element)}):e instanceof Fl?Fl.create(_0(e.unwrap())):e instanceof _u?_u.create(_0(e.unwrap())):e instanceof Rl?Rl.create(e.items.map(t=>_0(t))):e}class ma extends Un{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=fr.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Gt.object){const h=this._getOrReturnCtx(t);return Rt(h,{code:_t.invalid_type,expected:Gt.object,received:h.parsedType}),Nn}const{status:r,ctx:a}=this._processInputParams(t),{shape:s,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Nc&&this._def.unknownKeys==="strip"))for(const h in a.data)l.includes(h)||c.push(h);const d=[];for(const h of l){const m=s[h],v=a.data[h];d.push({key:{status:"valid",value:h},value:m._parse(new Ol(a,v,a.path,h)),alwaysSet:h in a.data})}if(this._def.catchall instanceof Nc){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of c)d.push({key:{status:"valid",value:m},value:{status:"valid",value:a.data[m]}});else if(h==="strict")c.length>0&&(Rt(a,{code:_t.unrecognized_keys,keys:c}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of c){const v=a.data[m];d.push({key:{status:"valid",value:m},value:h._parse(new Ol(a,v,a.path,m)),alwaysSet:m in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of d){const v=await m.key,y=await m.value;h.push({key:v,value:y,alwaysSet:m.alwaysSet})}return h}).then(h=>Gi.mergeObjectSync(r,h)):Gi.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return un.errToObj,new ma({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,s,l,c;const d=(l=(s=(a=this._def).errorMap)===null||s===void 0?void 0:s.call(a,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=un.errToObj(t).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new ma({...this._def,unknownKeys:"strip"})}passthrough(){return new ma({...this._def,unknownKeys:"passthrough"})}extend(t){return new ma({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ma({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:bn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ma({...this._def,catchall:t})}pick(t){const n={};return fr.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ma({...this._def,shape:()=>n})}omit(t){const n={};return fr.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ma({...this._def,shape:()=>n})}deepPartial(){return _0(this)}partial(t){const n={};return fr.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new ma({...this._def,shape:()=>n})}required(t){const n={};return fr.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Fl;)s=s._def.innerType;n[r]=s}}),new ma({...this._def,shape:()=>n})}keyof(){return TT(fr.objectKeys(this.shape))}}ma.create=(e,t)=>new ma({shape:()=>e,unknownKeys:"strip",catchall:Nc.create(),typeName:bn.ZodObject,...zn(t)});ma.strictCreate=(e,t)=>new ma({shape:()=>e,unknownKeys:"strict",catchall:Nc.create(),typeName:bn.ZodObject,...zn(t)});ma.lazycreate=(e,t)=>new ma({shape:e,unknownKeys:"strip",catchall:Nc.create(),typeName:bn.ZodObject,...zn(t)});class Rd extends Un{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=s.map(c=>new qs(c.ctx.common.issues));return Rt(n,{code:_t.invalid_union,unionErrors:l}),Nn}if(n.common.async)return Promise.all(r.map(async s=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(a);{let s;const l=[];for(const d of r){const h={...n,common:{...n.common,issues:[]},parent:null},m=d._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=l.map(d=>new qs(d));return Rt(n,{code:_t.invalid_union,unionErrors:c}),Nn}}get options(){return this._def.options}}Rd.create=(e,t)=>new Rd({options:e,typeName:bn.ZodUnion,...zn(t)});const pc=e=>e instanceof Id?pc(e.schema):e instanceof el?pc(e.innerType()):e instanceof Pd?[e.value]:e instanceof Nu?e.options:e instanceof Bd?fr.objectValues(e.enum):e instanceof Ud?pc(e._def.innerType):e instanceof Fd?[void 0]:e instanceof Od?[null]:e instanceof Fl?[void 0,...pc(e.unwrap())]:e instanceof _u?[null,...pc(e.unwrap())]:e instanceof T5||e instanceof Vd?pc(e.unwrap()):e instanceof Hd?pc(e._def.innerType):[];class Op extends Un{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Gt.object)return Rt(n,{code:_t.invalid_type,expected:Gt.object,received:n.parsedType}),Nn;const r=this.discriminator,a=n.data[r],s=this.optionsMap.get(a);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Rt(n,{code:_t.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Nn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const s of n){const l=pc(s.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of l){if(a.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);a.set(c,s)}}return new Op({typeName:bn.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...zn(r)})}}function hv(e,t){const n=mu(e),r=mu(t);if(e===t)return{valid:!0,data:e};if(n===Gt.object&&r===Gt.object){const a=fr.objectKeys(t),s=fr.objectKeys(e).filter(c=>a.indexOf(c)!==-1),l={...e,...t};for(const c of s){const d=hv(e[c],t[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===Gt.array&&r===Gt.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let s=0;s<e.length;s++){const l=e[s],c=t[s],d=hv(l,c);if(!d.valid)return{valid:!1};a.push(d.data)}return{valid:!0,data:a}}else return n===Gt.date&&r===Gt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Md extends Un{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(s,l)=>{if(uv(s)||uv(l))return Nn;const c=hv(s.value,l.value);return c.valid?((fv(s)||fv(l))&&n.dirty(),{status:n.value,value:c.data}):(Rt(r,{code:_t.invalid_intersection_types}),Nn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,l])=>a(s,l)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Md.create=(e,t,n)=>new Md({left:e,right:t,typeName:bn.ZodIntersection,...zn(n)});class Rl extends Un{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Gt.array)return Rt(r,{code:_t.invalid_type,expected:Gt.array,received:r.parsedType}),Nn;if(r.data.length<this._def.items.length)return Rt(r,{code:_t.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Nn;!this._def.rest&&r.data.length>this._def.items.length&&(Rt(r,{code:_t.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new Ol(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(s).then(l=>Gi.mergeArray(n,l)):Gi.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Rl({...this._def,rest:t})}}Rl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rl({items:e,typeName:bn.ZodTuple,rest:null,...zn(t)})};class zd extends Un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Gt.object)return Rt(r,{code:_t.invalid_type,expected:Gt.object,received:r.parsedType}),Nn;const a=[],s=this._def.keyType,l=this._def.valueType;for(const c in r.data)a.push({key:s._parse(new Ol(r,c,r.path,c)),value:l._parse(new Ol(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Gi.mergeObjectAsync(n,a):Gi.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Un?new zd({keyType:t,valueType:n,typeName:bn.ZodRecord,...zn(r)}):new zd({keyType:Ko.create(),valueType:t,typeName:bn.ZodRecord,...zn(n)})}}class ap extends Un{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Gt.map)return Rt(r,{code:_t.invalid_type,expected:Gt.map,received:r.parsedType}),Nn;const a=this._def.keyType,s=this._def.valueType,l=[...r.data.entries()].map(([c,d],h)=>({key:a._parse(new Ol(r,c,r.path,[h,"key"])),value:s._parse(new Ol(r,d,r.path,[h,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const h=await d.key,m=await d.value;if(h.status==="aborted"||m.status==="aborted")return Nn;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const h=d.key,m=d.value;if(h.status==="aborted"||m.status==="aborted")return Nn;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),c.set(h.value,m.value)}return{status:n.value,value:c}}}}ap.create=(e,t,n)=>new ap({valueType:t,keyType:e,typeName:bn.ZodMap,...zn(n)});class gf extends Un{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==Gt.set)return Rt(r,{code:_t.invalid_type,expected:Gt.set,received:r.parsedType}),Nn;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Rt(r,{code:_t.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Rt(r,{code:_t.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const s=this._def.valueType;function l(d){const h=new Set;for(const m of d){if(m.status==="aborted")return Nn;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const c=[...r.data.values()].map((d,h)=>s._parse(new Ol(r,d,r.path,h)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(t,n){return new gf({...this._def,minSize:{value:t,message:un.toString(n)}})}max(t,n){return new gf({...this._def,maxSize:{value:t,message:un.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gf.create=(e,t)=>new gf({valueType:e,minSize:null,maxSize:null,typeName:bn.ZodSet,...zn(t)});class B0 extends Un{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Gt.function)return Rt(n,{code:_t.invalid_type,expected:Gt.function,received:n.parsedType}),Nn;function r(c,d){return ep({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qm(),eh].filter(h=>!!h),issueData:{code:_t.invalid_arguments,argumentsError:d}})}function a(c,d){return ep({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Qm(),eh].filter(h=>!!h),issueData:{code:_t.invalid_return_type,returnTypeError:d}})}const s={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof nh){const c=this;return ns(async function(...d){const h=new qs([]),m=await c._def.args.parseAsync(d,s).catch(g=>{throw h.addIssue(r(d,g)),h}),v=await Reflect.apply(l,this,m);return await c._def.returns._def.type.parseAsync(v,s).catch(g=>{throw h.addIssue(a(v,g)),h})})}else{const c=this;return ns(function(...d){const h=c._def.args.safeParse(d,s);if(!h.success)throw new qs([r(d,h.error)]);const m=Reflect.apply(l,this,h.data),v=c._def.returns.safeParse(m,s);if(!v.success)throw new qs([a(m,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new B0({...this._def,args:Rl.create(t).rest(hf.create())})}returns(t){return new B0({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new B0({args:t||Rl.create([]).rest(hf.create()),returns:n||hf.create(),typeName:bn.ZodFunction,...zn(r)})}}class Id extends Un{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Id.create=(e,t)=>new Id({getter:e,typeName:bn.ZodLazy,...zn(t)});class Pd extends Un{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Rt(n,{received:n.data,code:_t.invalid_literal,expected:this._def.value}),Nn}return{status:"valid",value:t.data}}get value(){return this._def.value}}Pd.create=(e,t)=>new Pd({value:e,typeName:bn.ZodLiteral,...zn(t)});function TT(e,t){return new Nu({values:e,typeName:bn.ZodEnum,...zn(t)})}class Nu extends Un{constructor(){super(...arguments),od.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Rt(n,{expected:fr.joinValues(r),received:n.parsedType,code:_t.invalid_type}),Nn}if(tp(this,od)||wT(this,od,new Set(this._def.values)),!tp(this,od).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Rt(n,{received:n.data,code:_t.invalid_enum_value,options:r}),Nn}return ns(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Nu.create(t,{...this._def,...n})}exclude(t,n=this._def){return Nu.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}od=new WeakMap;Nu.create=TT;class Bd extends Un{constructor(){super(...arguments),ld.set(this,void 0)}_parse(t){const n=fr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==Gt.string&&r.parsedType!==Gt.number){const a=fr.objectValues(n);return Rt(r,{expected:fr.joinValues(a),received:r.parsedType,code:_t.invalid_type}),Nn}if(tp(this,ld)||wT(this,ld,new Set(fr.getValidEnumValues(this._def.values))),!tp(this,ld).has(t.data)){const a=fr.objectValues(n);return Rt(r,{received:r.data,code:_t.invalid_enum_value,options:a}),Nn}return ns(t.data)}get enum(){return this._def.values}}ld=new WeakMap;Bd.create=(e,t)=>new Bd({values:e,typeName:bn.ZodNativeEnum,...zn(t)});class nh extends Un{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Gt.promise&&n.common.async===!1)return Rt(n,{code:_t.invalid_type,expected:Gt.promise,received:n.parsedType}),Nn;const r=n.parsedType===Gt.promise?n.data:Promise.resolve(n.data);return ns(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}nh.create=(e,t)=>new nh({type:e,typeName:bn.ZodPromise,...zn(t)});class el extends Un{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,s={addIssue:l=>{Rt(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),a.type==="preprocess"){const l=a.transform(r.data,s);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Nn;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Nn:d.status==="dirty"||n.value==="dirty"?F0(d.value):d});{if(n.value==="aborted")return Nn;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Nn:c.status==="dirty"||n.value==="dirty"?F0(c.value):c}}if(a.type==="refinement"){const l=c=>{const d=a.refinement(c,s);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Nn:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Nn:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(a.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dd(l))return l;const c=a.transform(l.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Dd(l)?Promise.resolve(a.transform(l.value,s)).then(c=>({status:n.value,value:c})):l);fr.assertNever(a)}}el.create=(e,t,n)=>new el({schema:e,typeName:bn.ZodEffects,effect:t,...zn(n)});el.createWithPreprocess=(e,t,n)=>new el({schema:t,effect:{type:"preprocess",transform:e},typeName:bn.ZodEffects,...zn(n)});class Fl extends Un{_parse(t){return this._getType(t)===Gt.undefined?ns(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fl.create=(e,t)=>new Fl({innerType:e,typeName:bn.ZodOptional,...zn(t)});class _u extends Un{_parse(t){return this._getType(t)===Gt.null?ns(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_u.create=(e,t)=>new _u({innerType:e,typeName:bn.ZodNullable,...zn(t)});class Ud extends Un{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===Gt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ud.create=(e,t)=>new Ud({innerType:e,typeName:bn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...zn(t)});class Hd extends Un{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return kd(a)?a.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qs(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new qs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hd.create=(e,t)=>new Hd({innerType:e,typeName:bn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...zn(t)});class ip extends Un{_parse(t){if(this._getType(t)!==Gt.nan){const r=this._getOrReturnCtx(t);return Rt(r,{code:_t.invalid_type,expected:Gt.nan,received:r.parsedType}),Nn}return{status:"valid",value:t.data}}}ip.create=e=>new ip({typeName:bn.ZodNaN,...zn(e)});const sF=Symbol("zod_brand");class T5 extends Un{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class l1 extends Un{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Nn:s.status==="dirty"?(n.dirty(),F0(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Nn:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new l1({in:t,out:n,typeName:bn.ZodPipeline})}}class Vd extends Un{_parse(t){const n=this._def.innerType._parse(t),r=a=>(Dd(a)&&(a.value=Object.freeze(a.value)),a);return kd(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Vd.create=(e,t)=>new Vd({innerType:e,typeName:bn.ZodReadonly,...zn(t)});function AT(e,t={},n){return e?th.create().superRefine((r,a)=>{var s,l;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,d=(l=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&l!==void 0?l:!0,h=typeof c=="string"?{message:c}:c;a.addIssue({code:"custom",...h,fatal:d})}}):th.create()}const oF={object:ma.lazycreate};var bn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(bn||(bn={}));const lF=(e,t={message:`Input not instance of ${e.name}`})=>AT(n=>n instanceof e,t),ET=Ko.create,CT=wu.create,cF=ip.create,uF=Su.create,jT=Ld.create,fF=pf.create,hF=np.create,dF=Fd.create,mF=Od.create,pF=th.create,gF=hf.create,xF=Nc.create,vF=rp.create,yF=Jo.create,bF=ma.create,wF=ma.strictCreate,SF=Rd.create,NF=Op.create,_F=Md.create,TF=Rl.create,AF=zd.create,EF=ap.create,CF=gf.create,jF=B0.create,DF=Id.create,kF=Pd.create,LF=Nu.create,FF=Bd.create,OF=nh.create,e3=el.create,RF=Fl.create,MF=_u.create,zF=el.createWithPreprocess,IF=l1.create,PF=()=>ET().optional(),BF=()=>CT().optional(),UF=()=>jT().optional(),HF={string:(e=>Ko.create({...e,coerce:!0})),number:(e=>wu.create({...e,coerce:!0})),boolean:(e=>Ld.create({...e,coerce:!0})),bigint:(e=>Su.create({...e,coerce:!0})),date:(e=>pf.create({...e,coerce:!0}))},VF=Nn;var O0=Object.freeze({__proto__:null,defaultErrorMap:eh,setErrorMap:V9,getErrorMap:Qm,makeIssue:ep,EMPTY_PATH:G9,addIssueToContext:Rt,ParseStatus:Gi,INVALID:Nn,DIRTY:F0,OK:ns,isAborted:uv,isDirty:fv,isValid:Dd,isAsync:kd,get util(){return fr},get objectUtil(){return cv},ZodParsedType:Gt,getParsedType:mu,ZodType:Un,datetimeRegex:_T,ZodString:Ko,ZodNumber:wu,ZodBigInt:Su,ZodBoolean:Ld,ZodDate:pf,ZodSymbol:np,ZodUndefined:Fd,ZodNull:Od,ZodAny:th,ZodUnknown:hf,ZodNever:Nc,ZodVoid:rp,ZodArray:Jo,ZodObject:ma,ZodUnion:Rd,ZodDiscriminatedUnion:Op,ZodIntersection:Md,ZodTuple:Rl,ZodRecord:zd,ZodMap:ap,ZodSet:gf,ZodFunction:B0,ZodLazy:Id,ZodLiteral:Pd,ZodEnum:Nu,ZodNativeEnum:Bd,ZodPromise:nh,ZodEffects:el,ZodTransformer:el,ZodOptional:Fl,ZodNullable:_u,ZodDefault:Ud,ZodCatch:Hd,ZodNaN:ip,BRAND:sF,ZodBranded:T5,ZodPipeline:l1,ZodReadonly:Vd,custom:AT,Schema:Un,ZodSchema:Un,late:oF,get ZodFirstPartyTypeKind(){return bn},coerce:HF,any:pF,array:yF,bigint:uF,boolean:jT,date:fF,discriminatedUnion:NF,effect:e3,enum:LF,function:jF,instanceof:lF,intersection:_F,lazy:DF,literal:kF,map:EF,nan:cF,nativeEnum:FF,never:xF,null:mF,nullable:MF,number:CT,object:bF,oboolean:UF,onumber:BF,optional:RF,ostring:PF,pipeline:IF,preprocess:zF,promise:OF,record:AF,set:CF,strictObject:wF,string:ET,symbol:hF,transformer:e3,tuple:TF,undefined:dF,union:SF,unknown:gF,void:vF,NEVER:VF,ZodIssueCode:_t,quotelessJson:H9,ZodError:qs});function GF(e){const[t,n]=W.useState({}),[r,a]=W.useState({}),s=W.useCallback(y=>{try{return e.parse(y),n({}),!0}catch(g){if(g instanceof O0.ZodError){const T={};g.errors.forEach(b=>{if(b.path.length>0){const A=b.path[0];T[A]=b.message}}),n(T)}return!1}},[e]),l=W.useCallback((y,g)=>{var T;try{const b=(T=e.shape)==null?void 0:T[y];return b?(b.parse(g),n(A=>{const E={...A};return delete E[y],E}),!0):!1}catch(b){return b instanceof O0.ZodError&&n(A=>{var E;return{...A,[y]:((E=b.errors[0])==null?void 0:E.message)||"Campo invlido"}}),!1}},[e]),c=W.useCallback(y=>{a(g=>({...g,[y]:!0}))},[]),d=W.useCallback(()=>{n({}),a({})},[]),h=W.useCallback(y=>t[y],[t]),m=W.useCallback(y=>r[y]||!1,[r]),v=Object.keys(t).length>0;return{errors:t,touched:r,validate:s,validateField:l,setFieldTouched:c,reset:d,getFieldError:h,isFieldTouched:m,hasErrors:v}}const qF=e=>{const t={},n=e.toLowerCase(),r=/(\d+)(?:[.,](\d{1,2})| con (\d{1,2}))?/,a=n.match(r);if(a){const s=parseInt(a[1]),l=a[2]||a[3]||"0",c=parseFloat(`${s}.${l}`);t.taximetro=c,t.cobrado=c}return n.includes("tarjeta")?t.formaPago="Tarjeta":n.includes("bizum")?t.formaPago="Bizum":n.includes("vale")?t.formaPago="Vales":n.includes("efectivo")&&(t.formaPago="Efectivo"),n.includes("aeropuerto")&&(t.aeropuerto=!0,t.tipoCarrera="Interurbana"),(n.includes("estacin")||n.includes("estacion")||n.includes("sants")||n.includes("atocha"))&&(t.estacion=!0),(n.includes("emisora")||n.includes("radio")||n.includes("aplicacin")||n.includes("app"))&&(t.emisora=!0),t},WF=()=>{const[e,t]=W.useState(!1),[n,r]=W.useState(""),[a,s]=W.useState(null),l=W.useRef(null);W.useEffect(()=>("webkitSpeechRecognition"in window?(l.current=new window.webkitSpeechRecognition,l.current.continuous=!1,l.current.lang="es-ES",l.current.interimResults=!1,l.current.onstart=()=>{t(!0),s(null)},l.current.onend=()=>{t(!1)},l.current.onerror=m=>{console.error("Speech recognition error",m.error),s(m.error),t(!1)},l.current.onresult=m=>{const v=m.results[0][0].transcript;r(v)}):s("Voice recognition not supported in this browser."),()=>{l.current&&l.current.stop()}),[]);const c=W.useCallback(()=>{if(l.current&&!e)try{l.current.start()}catch(m){console.error(m)}},[e]),d=W.useCallback(()=>{l.current&&e&&l.current.stop()},[e]),h=W.useCallback(m=>qF(m),[]);return{isListening:e,transcript:n,error:a,startListening:c,stopListening:d,processCommand:h,supported:!!l.current}},$F=({className:e})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[u.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),u.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),u.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),u.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]}),YF=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:u.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})}),KF=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1s.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77C18.09 17.91 16.61 18.5 15 18.5z"})}),XF=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"})}),ZF=({className:e})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:[u.jsx("path",{d:"M17 1.01L7 1c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-1.99-2-1.99zM17 19H7V5h10v14z"}),u.jsx("path",{d:"M11.5 14.5h-1v-1h-1c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1h2v-1h-3v-1.5h3v-1h1v1h1c.55 0 1 .45 1 1v3c0 .55-.45 1-1 1h-2v1h3v1.5h-3v1z"})]}),JF=({className:e})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:u.jsx("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2h-2v2h2V4zM9 18H4v-2h5v2zm0-4H4v-2h5v2zm0-4H4V8h5v2zm7 8h-5v-2h5v2zm0-4h-5v-2h5v2zm0-4h-5V8h5v2z"})}),t3=({title:e,children:t,className:n})=>u.jsxs("div",{className:`bg-zinc-900 border border-zinc-800 rounded-xl p-4 space-y-4 ${n}`,children:[u.jsx("h2",{className:"text-lg font-bold text-zinc-100",children:e}),t]}),dm=({label:e,children:t,className:n})=>u.jsxs("div",{className:n,children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:e}),t]}),Jh=e=>u.jsx("input",{...e,className:`w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 ${e.className}`}),QF=({className:e="",...t})=>u.jsx("textarea",{...t,className:`w-full min-h-[90px] p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 resize-y ${e}`}),D2=({label:e,checked:t,onChange:n})=>u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:t,onChange:n,className:"w-4 h-4 text-blue-600 bg-zinc-700 border-zinc-600 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-zinc-300",children:e})]}),eO=({children:e,onClick:t,className:n,disabled:r})=>u.jsx("button",{onClick:t,disabled:r,className:`w-full bg-blue-600 text-white px-3 py-3 rounded-lg font-bold flex items-center justify-center gap-1.5 text-base hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400 ${n}`,children:e}),mm=({label:e,icon:t,selected:n,onClick:r})=>u.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center p-2 rounded-lg border-2 transition-colors w-full aspect-square
            ${n?"bg-zinc-700 border-blue-500":"bg-zinc-800 border-zinc-700 hover:bg-zinc-700/50"}`,"aria-pressed":n,children:[u.jsx("div",{className:`w-7 h-7 mb-1 ${n?"text-blue-400":"text-zinc-400"}`,children:t}),u.jsx("span",{className:`text-xs font-semibold ${n?"text-zinc-50":"text-zinc-300"}`,children:e})]}),tO=O0.object({taximetro:O0.number().min(0,"El taxmetro debe ser mayor o igual a 0"),cobrado:O0.number().min(0,"El cobrado debe ser mayor o igual a 0"),formaPago:O0.enum(["Efectivo","Tarjeta","Bizum","Vales"])}).refine(e=>e.taximetro>0||e.cobrado>0,{message:"Debes ingresar al menos un valor en Taxmetro o Cobrado",path:["taximetro"]}),n3=({navigateTo:e,raceId:t,initialData:n})=>{var _n,Ut;const r=t!==null,{showToast:a}=ku(),{validate:s,getFieldError:l,isFieldTouched:c,setFieldTouched:d,validateField:h}=GF(tO),[m,v]=W.useState(((_n=n==null?void 0:n.taximetro)==null?void 0:_n.toString())||""),[y,g]=W.useState(((Ut=n==null?void 0:n.cobrado)==null?void 0:Ut.toString())||""),[T,b]=W.useState((n==null?void 0:n.formaPago)||"Efectivo"),[A,E]=W.useState((n==null?void 0:n.tipoCarrera)||"Urbana"),[D,j]=W.useState((n==null?void 0:n.aeropuerto)||!1),[R,q]=W.useState((n==null?void 0:n.estacion)||!1),[Z,I]=W.useState((n==null?void 0:n.emisora)||!1),[Y,P]=W.useState(!1),[Q,O]=W.useState(r),[G,K]=W.useState(!1),[X,H]=W.useState(!1),[V,ae]=W.useState(""),[ce,le]=W.useState(!1),[me,M]=W.useState(""),[N,F]=W.useState(!1),[L,B]=W.useState({despacho:"",numeroAlbaran:"",empresa:"",codigoEmpresa:"",autoriza:""}),[te,de]=W.useState(!1),[Ne,se]=W.useState([]),[ve,je]=W.useState(!1),[ke,Ge]=W.useState(""),{isListening:Te,startListening:xe,stopListening:gt,transcript:Xe,processCommand:wt,supported:Ze}=WF();W.useEffect(()=>{if(!Te&&Xe){const qe=wt(Xe);Object.keys(qe).length>0?(qe.taximetro!==void 0&&(v(qe.taximetro.toString()),!Y||qe.cobrado===void 0?g(qe.cobrado!==void 0?qe.cobrado.toString():qe.taximetro.toString()):qe.cobrado!==void 0&&g(qe.cobrado.toString())),qe.formaPago&&(b(qe.formaPago),Kt(qe.formaPago)),qe.tipoCarrera&&E(qe.tipoCarrera),qe.aeropuerto!==void 0&&j(qe.aeropuerto),qe.emisora!==void 0&&I(qe.emisora),qe.estacion!==void 0&&q(qe.estacion),a(`Datos detectados: ${Xe}`,"success")):a(`No se detectaron datos en: "${Xe}"`,"warning")}},[Te,Xe,wt,a,Y]);const Et=W.useMemo(()=>Object.values(L).every(qe=>qe.trim().length>0),[L]),St=W.useMemo(()=>{const qe=L.codigoEmpresa.trim().toLowerCase();return qe?Ne.filter(Ie=>Ie.codigoEmpresa.toLowerCase().includes(qe)).slice(0,5):[]},[L.codigoEmpresa,Ne]);W.useEffect(()=>{r&&t&&(async Ie=>{O(!0);const nt=await j_(Ie);nt?(v(nt.taximetro.toFixed(2)),g(nt.cobrado.toFixed(2)),b(nt.formaPago),E(nt.tipoCarrera||"Urbana"),I(nt.formaPago==="Vales"?!0:nt.emisora),j(nt.aeropuerto),q(nt.estacion||!1),Ge(nt.notas||""),nt.formaPago==="Vales"&&nt.valeInfo?(B({despacho:nt.valeInfo.despacho||"",numeroAlbaran:nt.valeInfo.numeroAlbaran||"",empresa:nt.valeInfo.empresa||"",codigoEmpresa:nt.valeInfo.codigoEmpresa||"",autoriza:nt.valeInfo.autoriza||""}),je(!1)):(B({despacho:"",numeroAlbaran:"",empresa:"",codigoEmpresa:"",autoriza:""}),je(!1)),nt.cobrado!==nt.taximetro&&P(!0)):(console.error("Race not found!"),e(mt.VistaCarreras)),O(!1)})(t)},[t,r,e]),W.useEffect(()=>{let qe=!0;return(async()=>{try{const nt=await eT();if(!qe)return;se(nt)}catch(nt){console.error("Error cargando el directorio de vales:",nt)}})(),()=>{qe=!1}},[]);const Kt=qe=>{b(qe),I(Ie=>qe==="Vales"?!0:Ie),qe==="Vales"?(de(!1),F(!0)):F(!1)},Lt=(qe,Ie)=>{if(qe==="empresa"){je(!0),B(nt=>({...nt,empresa:Ie}));return}if(qe==="codigoEmpresa"){let nt=!1;B(ln=>{const Wn={...ln,codigoEmpresa:Ie},kt=Ie.trim();if(!kt)ve||(Wn.empresa="",nt=!0);else{const rr=Ne.find(Vn=>Vn.codigoEmpresa.toLowerCase().startsWith(kt.toLowerCase()));rr&&(!ve||ln.empresa.trim().length===0||ln.codigoEmpresa!==kt)&&(Wn.empresa=rr.empresa,nt=!0)}return Wn}),nt&&je(!1);return}B(nt=>({...nt,[qe]:Ie}))},qt=()=>{de(!0);const qe={despacho:L.despacho.trim(),numeroAlbaran:L.numeroAlbaran.trim(),empresa:L.empresa.trim(),codigoEmpresa:L.codigoEmpresa.trim(),autoriza:L.autoriza.trim()};Object.values(qe).some(nt=>nt.length===0)||(B(qe),je(!1),F(!1))},rn=qe=>{B(Ie=>({...Ie,codigoEmpresa:qe.codigoEmpresa,empresa:qe.empresa})),je(!1)},Wt=()=>{ae(m),H(!0)},cn=qe=>{ae(Ie=>Ie===""||Ie==="0"?qe:Ie+qe)},zt=()=>{ae(qe=>qe.includes(".")?qe:qe===""?"0.":qe+".")},It=()=>{ae(qe=>qe.length<=1?"":qe.slice(0,-1))},tn=()=>{ae("")},Ft=()=>{const qe=V||"0";v(qe),d("taximetro"),h("taximetro",parseFloat(qe)||0),Y||(g(qe),d("cobrado"),h("cobrado",parseFloat(qe)||0)),H(!1)},Mn=()=>{M(""),P(!0),le(!0)},Xt=qe=>{M(Ie=>Ie===""||Ie==="0"?qe:Ie+qe)},Dt=()=>{M(qe=>qe.includes(".")?qe:qe===""?"0.":qe+".")},Pt=()=>{M(qe=>qe.length<=1?"":qe.slice(0,-1))},xn=()=>{M("")},$t=()=>{const qe=me||"0";g(qe),P(!0),d("cobrado"),h("cobrado",parseFloat(qe)||0),le(!1)},mn=async()=>{const qe=parseFloat(m)||0,Ie=parseFloat(y)||0;if(!s({taximetro:qe,cobrado:Ie||qe,formaPago:T})){a("Por favor, corrige los errores en el formulario","warning"),d("taximetro"),d("cobrado");return}const ln={despacho:L.despacho.trim(),numeroAlbaran:L.numeroAlbaran.trim(),empresa:L.empresa.trim(),codigoEmpresa:L.codigoEmpresa.trim(),autoriza:L.autoriza.trim()},Wn=T==="Vales",kt=ke.trim();if(Wn){if(Object.values(ln).some(nn=>nn.length===0)){de(!0),F(!0),a("Completa todos los datos del vale antes de registrar","warning");return}B(ln)}K(!0);const rr={taximetro:qe,cobrado:Ie||qe,formaPago:T,tipoCarrera:A,emisora:Z,aeropuerto:D,estacion:R,valeInfo:Wn?ln:null,notas:kt.length>0?kt:null};try{r&&t?(await k_(t,{...rr,fechaHora:new Date}),a("Carrera actualizada correctamente","success")):(await D_({...rr,fechaHora:new Date}),a("Carrera guardada correctamente","success")),e(mt.VistaCarreras)}catch(Vn){Gs.handle(Vn,"AddEditRaceScreen - handleSave")}finally{K(!1)}},Bt=async()=>{if(r&&t){if(!window.confirm("Ests seguro de que quieres eliminar esta carrera?"))return;K(!0);try{await L_(t),a("Carrera eliminada correctamente","success"),e(mt.VistaCarreras)}catch(Ie){Gs.handle(Ie,"AddEditRaceScreen - handleDelete")}finally{K(!1)}}},Fn=r?"Editar Carrera":"Introducir Carrera",Hn=u.jsx(Da,{title:Fn,navigateTo:e,backTarget:mt.VistaCarreras,className:"mb-4",rightSlot:u.jsxs("div",{className:"flex gap-2",children:[Ze&&u.jsx("button",{onClick:Te?gt:xe,className:`p-1.5 transition-colors rounded-full ${Te?"bg-red-500/20 text-red-400 animate-pulse ring-2 ring-red-500":"text-zinc-400 hover:text-zinc-100 hover:bg-zinc-800"}`,"aria-label":"Entrada de voz",children:u.jsx($F,{className:"w-6 h-6"})}),r&&u.jsx("button",{onClick:Bt,className:"p-1.5 text-zinc-900 hover:text-red-600 transition-colors","aria-label":"Eliminar carrera",children:u.jsx(YF,{})})]})});return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-24 space-y-4",children:[Hn,u.jsx(t3,{title:"Detalles de la Carrera",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs(dm,{label:"Taxmetro",children:[u.jsx("button",{onClick:Wt,className:`w-full p-2 border rounded-md text-left text-sm text-zinc-100 hover:border-blue-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${c("taximetro")&&l("taximetro")?"border-red-500 bg-red-900/20":"border-zinc-700 bg-zinc-800/50"}`,children:m||u.jsx("span",{className:"text-zinc-500",children:"0.00"})}),c("taximetro")&&l("taximetro")&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:l("taximetro")})]}),u.jsxs(dm,{label:"Cobrado",children:[u.jsx("button",{onClick:Mn,className:`w-full p-2 border rounded-md text-left text-sm text-zinc-100 hover:border-blue-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 ${c("cobrado")&&l("cobrado")?"border-red-500 bg-red-900/20":"border-zinc-700 bg-zinc-800/50"}`,children:y||u.jsx("span",{className:"text-zinc-500",children:"0.00"})}),c("cobrado")&&l("cobrado")&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:l("cobrado")})]}),u.jsxs(dm,{label:"Forma de Pago",className:"col-span-2",children:[u.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[u.jsx(mm,{label:"Efectivo",icon:u.jsx(KF,{}),selected:T==="Efectivo",onClick:()=>Kt("Efectivo")}),u.jsx(mm,{label:"Tarjeta",icon:u.jsx(XF,{}),selected:T==="Tarjeta",onClick:()=>Kt("Tarjeta")}),u.jsx(mm,{label:"Bizum",icon:u.jsx(ZF,{}),selected:T==="Bizum",onClick:()=>Kt("Bizum")}),u.jsx(mm,{label:"Vales",icon:u.jsx(JF,{}),selected:T==="Vales",onClick:()=>Kt("Vales")})]}),T==="Vales"&&u.jsxs("div",{className:"mt-3 space-y-2",children:[u.jsx("button",{type:"button",onClick:()=>F(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:Et?"Editar datos del vale":"Registrar datos del vale"}),u.jsx("p",{className:`text-xs ${Et?"text-emerald-400":"text-amber-300"}`,children:Et?"Datos del vale registrados.":"Faltan datos del vale por completar."})]})]}),u.jsx(dm,{label:"Tipo de Carrera",className:"col-span-2",children:u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"tipoCarrera",value:"Urbana",checked:A==="Urbana",onChange:qe=>E(qe.target.value),className:"w-4 h-4 text-blue-600 bg-zinc-700 border-zinc-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Urbana"})]}),u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[u.jsx("input",{type:"radio",name:"tipoCarrera",value:"Interurbana",checked:A==="Interurbana",onChange:qe=>E(qe.target.value),className:"w-4 h-4 text-blue-600 bg-zinc-700 border-zinc-600 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm font-medium text-zinc-300",children:"Interurbana"})]})]})}),u.jsxs("div",{className:"col-span-2 flex justify-around items-center pt-2",children:[u.jsx(D2,{label:"Emisora",checked:Z,onChange:qe=>I(qe.target.checked)}),u.jsx(D2,{label:"Aeropuerto",checked:D,onChange:qe=>j(qe.target.checked)}),u.jsx(D2,{label:"Estacin",checked:R,onChange:qe=>q(qe.target.checked)})]})]})}),u.jsx("div",{className:"pt-4",children:u.jsx(eO,{onClick:mn,disabled:G,children:G?"Guardando...":r?"Guardar Cambios":"Aadir Carrera"})}),u.jsx(t3,{title:"Notas",children:u.jsx(QF,{value:ke,onChange:qe=>Ge(qe.target.value),placeholder:"Aade observaciones adicionales sobre la carrera"})}),N&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50 md:items-center",onClick:()=>F(!1),children:u.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-t-2xl md:rounded-2xl shadow-2xl border border-zinc-800 p-5",onClick:qe=>qe.stopPropagation(),children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Datos del Vale"}),u.jsx("button",{type:"button",onClick:()=>F(!1),className:"text-zinc-400 hover:text-zinc-200 transition-colors","aria-label":"Cerrar",children:""})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Despacho"}),u.jsx(Jh,{value:L.despacho,onChange:qe=>Lt("despacho",qe.target.value),placeholder:"Introduce el despacho"}),te&&L.despacho.trim().length===0&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"N de Albarn"}),u.jsx(Jh,{value:L.numeroAlbaran,onChange:qe=>Lt("numeroAlbaran",qe.target.value),placeholder:"Introduce el nmero de albarn"}),te&&L.numeroAlbaran.trim().length===0&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"N Empresa"}),u.jsx(Jh,{value:L.codigoEmpresa,onChange:qe=>Lt("codigoEmpresa",qe.target.value),placeholder:"Introduce el nmero de empresa"}),te&&L.codigoEmpresa.trim().length===0&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."}),St.length>0&&u.jsx("div",{className:"mt-1 bg-zinc-800 border border-zinc-700 rounded-lg overflow-hidden",children:St.map(qe=>u.jsxs("button",{type:"button",onClick:()=>rn(qe),className:"w-full px-3 py-2 text-left text-xs text-zinc-200 hover:bg-zinc-700 transition-colors flex justify-between gap-2",children:[u.jsx("span",{className:"font-semibold",children:qe.codigoEmpresa}),u.jsx("span",{className:"text-zinc-400 truncate",children:qe.empresa||"Sin nombre"})]},`${qe.codigoEmpresa}-${qe.empresa}`))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Empresa"}),u.jsx(Jh,{value:L.empresa,onChange:qe=>Lt("empresa",qe.target.value),placeholder:"Introduce la empresa"}),te&&L.empresa.trim().length===0&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs uppercase tracking-wide text-zinc-400 mb-1",children:"Autoriza"}),u.jsx(Jh,{value:L.autoriza,onChange:qe=>Lt("autoriza",qe.target.value),placeholder:"Persona que autoriza"}),te&&L.autoriza.trim().length===0&&u.jsx("p",{className:"text-xs text-red-400 mt-1",children:"Este campo es obligatorio."})]})]}),u.jsxs("div",{className:"mt-5 flex gap-3",children:[u.jsx("button",{type:"button",onClick:()=>F(!1),className:"w-1/2 bg-zinc-800 hover:bg-zinc-700 text-zinc-200 text-sm font-semibold px-3 py-2 rounded-lg transition-colors",children:"Cancelar"}),u.jsx("button",{type:"button",onClick:qt,className:"w-1/2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold px-3 py-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Registrar"})]})]})}),X&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",onClick:()=>H(!1),children:u.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-t-2xl shadow-2xl",onClick:qe=>qe.stopPropagation(),children:[u.jsxs("div",{className:"bg-zinc-800 p-6 border-b border-zinc-700",children:[u.jsx("div",{className:"text-zinc-400 text-sm mb-2",children:"Taxmetro"}),u.jsx("div",{className:"text-white text-4xl font-bold text-right min-h-[60px] flex items-center justify-end",children:V||"0.00"})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.jsx("button",{onClick:()=>cn("7"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"7"}),u.jsx("button",{onClick:()=>cn("8"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"8"}),u.jsx("button",{onClick:()=>cn("9"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"9"}),u.jsx("button",{onClick:()=>cn("4"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"4"}),u.jsx("button",{onClick:()=>cn("5"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"5"}),u.jsx("button",{onClick:()=>cn("6"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"6"}),u.jsx("button",{onClick:()=>cn("1"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"1"}),u.jsx("button",{onClick:()=>cn("2"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"2"}),u.jsx("button",{onClick:()=>cn("3"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"3"}),u.jsx("button",{onClick:tn,className:"bg-red-600 hover:bg-red-700 text-white text-lg font-bold py-4 rounded-lg transition-colors active:bg-red-800",children:"C"}),u.jsx("button",{onClick:()=>cn("0"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"0"}),u.jsx("button",{onClick:It,className:"bg-zinc-700 hover:bg-zinc-600 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-500",children:""})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:zt,className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"."}),u.jsx("button",{onClick:Ft,className:"bg-green-600 hover:bg-green-700 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-green-800",children:"OK"})]})]})]})}),ce&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end justify-center z-50",onClick:()=>le(!1),children:u.jsxs("div",{className:"bg-zinc-900 w-full max-w-md rounded-t-2xl shadow-2xl",onClick:qe=>qe.stopPropagation(),children:[u.jsxs("div",{className:"bg-zinc-800 p-6 border-b border-zinc-700",children:[u.jsx("div",{className:"text-zinc-400 text-sm mb-2",children:"Cobrado"}),u.jsx("div",{className:"text-white text-4xl font-bold text-right min-h-[60px] flex items-center justify-end",children:me||"0.00"})]}),u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.jsx("button",{onClick:()=>Xt("7"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"7"}),u.jsx("button",{onClick:()=>Xt("8"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"8"}),u.jsx("button",{onClick:()=>Xt("9"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"9"}),u.jsx("button",{onClick:()=>Xt("4"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"4"}),u.jsx("button",{onClick:()=>Xt("5"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"5"}),u.jsx("button",{onClick:()=>Xt("6"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"6"}),u.jsx("button",{onClick:()=>Xt("1"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"1"}),u.jsx("button",{onClick:()=>Xt("2"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"2"}),u.jsx("button",{onClick:()=>Xt("3"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"3"}),u.jsx("button",{onClick:xn,className:"bg-red-600 hover:bg-red-700 text-white text-lg font-bold py-4 rounded-lg transition-colors active:bg-red-800",children:"C"}),u.jsx("button",{onClick:()=>Xt("0"),className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"0"}),u.jsx("button",{onClick:Pt,className:"bg-zinc-700 hover:bg-zinc-600 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-500",children:""})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:Dt,className:"bg-zinc-800 hover:bg-zinc-700 text-white text-2xl font-bold py-4 rounded-lg transition-colors active:bg-zinc-600",children:"."}),u.jsx("button",{onClick:$t,className:"bg-green-600 hover:bg-green-700 text-white text-xl font-bold py-4 rounded-lg transition-colors active:bg-green-800",children:"OK"})]})]})]})})]})},Rp="expenseTemplates",U0=()=>{try{const e=localStorage.getItem(Rp);return e?JSON.parse(e):[]}catch(e){return console.error("Error leyendo plantillas:",e),[]}},nO=e=>{const t=U0(),n={...e,id:Date.now().toString(),createdAt:new Date().toISOString(),useCount:0};return t.push(n),localStorage.setItem(Rp,JSON.stringify(t)),n.id},rO=e=>{const t=U0(),n=t.filter(r=>r.id!==e);return n.length===t.length?!1:(localStorage.setItem(Rp,JSON.stringify(n)),!0)},aO=e=>{const t=U0(),n=t.find(r=>r.id===e);n&&(n.useCount=(n.useCount||0)+1,n.lastUsed=new Date().toISOString(),localStorage.setItem(Rp,JSON.stringify(t)))};var k2={exports:{}},r3;function iO(){return r3||(r3=1,(function(e){var t=(function(n){var r=Object.prototype,a=r.hasOwnProperty,s=Object.defineProperty||function(le,me,M){le[me]=M.value},l,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",m=c.toStringTag||"@@toStringTag";function v(le,me,M){return Object.defineProperty(le,me,{value:M,enumerable:!0,configurable:!0,writable:!0}),le[me]}try{v({},"")}catch{v=function(me,M,N){return me[M]=N}}function y(le,me,M,N){var F=me&&me.prototype instanceof j?me:j,L=Object.create(F.prototype),B=new V(N||[]);return s(L,"_invoke",{value:G(le,M,B)}),L}n.wrap=y;function g(le,me,M){try{return{type:"normal",arg:le.call(me,M)}}catch(N){return{type:"throw",arg:N}}}var T="suspendedStart",b="suspendedYield",A="executing",E="completed",D={};function j(){}function R(){}function q(){}var Z={};v(Z,d,function(){return this});var I=Object.getPrototypeOf,Y=I&&I(I(ae([])));Y&&Y!==r&&a.call(Y,d)&&(Z=Y);var P=q.prototype=j.prototype=Object.create(Z);R.prototype=q,s(P,"constructor",{value:q,configurable:!0}),s(q,"constructor",{value:R,configurable:!0}),R.displayName=v(q,m,"GeneratorFunction");function Q(le){["next","throw","return"].forEach(function(me){v(le,me,function(M){return this._invoke(me,M)})})}n.isGeneratorFunction=function(le){var me=typeof le=="function"&&le.constructor;return me?me===R||(me.displayName||me.name)==="GeneratorFunction":!1},n.mark=function(le){return Object.setPrototypeOf?Object.setPrototypeOf(le,q):(le.__proto__=q,v(le,m,"GeneratorFunction")),le.prototype=Object.create(P),le},n.awrap=function(le){return{__await:le}};function O(le,me){function M(L,B,te,de){var Ne=g(le[L],le,B);if(Ne.type==="throw")de(Ne.arg);else{var se=Ne.arg,ve=se.value;return ve&&typeof ve=="object"&&a.call(ve,"__await")?me.resolve(ve.__await).then(function(je){M("next",je,te,de)},function(je){M("throw",je,te,de)}):me.resolve(ve).then(function(je){se.value=je,te(se)},function(je){return M("throw",je,te,de)})}}var N;function F(L,B){function te(){return new me(function(de,Ne){M(L,B,de,Ne)})}return N=N?N.then(te,te):te()}s(this,"_invoke",{value:F})}Q(O.prototype),v(O.prototype,h,function(){return this}),n.AsyncIterator=O,n.async=function(le,me,M,N,F){F===void 0&&(F=Promise);var L=new O(y(le,me,M,N),F);return n.isGeneratorFunction(me)?L:L.next().then(function(B){return B.done?B.value:L.next()})};function G(le,me,M){var N=T;return function(L,B){if(N===A)throw new Error("Generator is already running");if(N===E){if(L==="throw")throw B;return ce()}for(M.method=L,M.arg=B;;){var te=M.delegate;if(te){var de=K(te,M);if(de){if(de===D)continue;return de}}if(M.method==="next")M.sent=M._sent=M.arg;else if(M.method==="throw"){if(N===T)throw N=E,M.arg;M.dispatchException(M.arg)}else M.method==="return"&&M.abrupt("return",M.arg);N=A;var Ne=g(le,me,M);if(Ne.type==="normal"){if(N=M.done?E:b,Ne.arg===D)continue;return{value:Ne.arg,done:M.done}}else Ne.type==="throw"&&(N=E,M.method="throw",M.arg=Ne.arg)}}}function K(le,me){var M=me.method,N=le.iterator[M];if(N===l)return me.delegate=null,M==="throw"&&le.iterator.return&&(me.method="return",me.arg=l,K(le,me),me.method==="throw")||M!=="return"&&(me.method="throw",me.arg=new TypeError("The iterator does not provide a '"+M+"' method")),D;var F=g(N,le.iterator,me.arg);if(F.type==="throw")return me.method="throw",me.arg=F.arg,me.delegate=null,D;var L=F.arg;if(!L)return me.method="throw",me.arg=new TypeError("iterator result is not an object"),me.delegate=null,D;if(L.done)me[le.resultName]=L.value,me.next=le.nextLoc,me.method!=="return"&&(me.method="next",me.arg=l);else return L;return me.delegate=null,D}Q(P),v(P,m,"Generator"),v(P,d,function(){return this}),v(P,"toString",function(){return"[object Generator]"});function X(le){var me={tryLoc:le[0]};1 in le&&(me.catchLoc=le[1]),2 in le&&(me.finallyLoc=le[2],me.afterLoc=le[3]),this.tryEntries.push(me)}function H(le){var me=le.completion||{};me.type="normal",delete me.arg,le.completion=me}function V(le){this.tryEntries=[{tryLoc:"root"}],le.forEach(X,this),this.reset(!0)}n.keys=function(le){var me=Object(le),M=[];for(var N in me)M.push(N);return M.reverse(),function F(){for(;M.length;){var L=M.pop();if(L in me)return F.value=L,F.done=!1,F}return F.done=!0,F}};function ae(le){if(le){var me=le[d];if(me)return me.call(le);if(typeof le.next=="function")return le;if(!isNaN(le.length)){var M=-1,N=function F(){for(;++M<le.length;)if(a.call(le,M))return F.value=le[M],F.done=!1,F;return F.value=l,F.done=!0,F};return N.next=N}}return{next:ce}}n.values=ae;function ce(){return{value:l,done:!0}}return V.prototype={constructor:V,reset:function(le){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(H),!le)for(var me in this)me.charAt(0)==="t"&&a.call(this,me)&&!isNaN(+me.slice(1))&&(this[me]=l)},stop:function(){this.done=!0;var le=this.tryEntries[0],me=le.completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(le){if(this.done)throw le;var me=this;function M(de,Ne){return L.type="throw",L.arg=le,me.next=de,Ne&&(me.method="next",me.arg=l),!!Ne}for(var N=this.tryEntries.length-1;N>=0;--N){var F=this.tryEntries[N],L=F.completion;if(F.tryLoc==="root")return M("end");if(F.tryLoc<=this.prev){var B=a.call(F,"catchLoc"),te=a.call(F,"finallyLoc");if(B&&te){if(this.prev<F.catchLoc)return M(F.catchLoc,!0);if(this.prev<F.finallyLoc)return M(F.finallyLoc)}else if(B){if(this.prev<F.catchLoc)return M(F.catchLoc,!0)}else if(te){if(this.prev<F.finallyLoc)return M(F.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(le,me){for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M];if(N.tryLoc<=this.prev&&a.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var F=N;break}}F&&(le==="break"||le==="continue")&&F.tryLoc<=me&&me<=F.finallyLoc&&(F=null);var L=F?F.completion:{};return L.type=le,L.arg=me,F?(this.method="next",this.next=F.finallyLoc,D):this.complete(L)},complete:function(le,me){if(le.type==="throw")throw le.arg;return le.type==="break"||le.type==="continue"?this.next=le.arg:le.type==="return"?(this.rval=this.arg=le.arg,this.method="return",this.next="end"):le.type==="normal"&&me&&(this.next=me),D},finish:function(le){for(var me=this.tryEntries.length-1;me>=0;--me){var M=this.tryEntries[me];if(M.finallyLoc===le)return this.complete(M.completion,M.afterLoc),H(M),D}},catch:function(le){for(var me=this.tryEntries.length-1;me>=0;--me){var M=this.tryEntries[me];if(M.tryLoc===le){var N=M.completion;if(N.type==="throw"){var F=N.arg;H(M)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(le,me,M){return this.delegate={iterator:ae(le),resultName:me,nextLoc:M},this.method==="next"&&(this.arg=l),D}},n})(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(k2)),k2.exports}var L2,a3;function A5(){return a3||(a3=1,L2=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`),L2}var F2,i3;function DT(){if(i3)return F2;i3=1;const e=A5();let t=0;return F2=({id:n,action:r,payload:a={}})=>{let s=n;return typeof s>"u"&&(s=e("Job",t),t+=1),{id:s,action:r,payload:a}},F2}var Qh={},s3;function E5(){if(s3)return Qh;s3=1;let e=!1;return Qh.logging=e,Qh.setLogging=t=>{e=t},Qh.log=(...t)=>e?console.log.apply(this,t):null,Qh}var O2,o3;function sO(){if(o3)return O2;o3=1;const e=DT(),{log:t}=E5(),n=A5();let r=0;return O2=()=>{const a=n("Scheduler",r),s={},l={};let c=[];r+=1;const d=()=>c.length,h=()=>Object.keys(s).length,m=()=>{if(c.length!==0){const b=Object.keys(s);for(let A=0;A<b.length;A+=1)if(typeof l[b[A]]>"u"){c[0](s[b[A]]);break}}},v=(b,A)=>new Promise((E,D)=>{const j=e({action:b,payload:A});c.push(async R=>{c.shift(),l[R.id]=j;try{E(await R[b].apply(this,[...A,j.id]))}catch(q){D(q)}finally{delete l[R.id],m()}}),t(`[${a}]: Add ${j.id} to JobQueue`),t(`[${a}]: JobQueue length=${c.length}`),m()});return{addWorker:b=>(s[b.id]=b,t(`[${a}]: Add ${b.id}`),t(`[${a}]: Number of workers=${h()}`),m(),b.id),addJob:async(b,...A)=>{if(h()===0)throw Error(`[${a}]: You need to have at least one worker before adding jobs`);return v(b,A)},terminate:async()=>{Object.keys(s).forEach(async b=>{await s[b].terminate()}),c=[]},getQueueLen:d,getNumWorkers:h}},O2}function oO(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var R2,l3;function lO(){return l3||(l3=1,R2=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof oO=="function"&&(t.type="node"),typeof e>"u"?t:t[e]}),R2}var M2,c3;function cO(){if(c3)return M2;c3=1;const t=lO()("type")==="browser"?n=>new URL(n,window.location.href).href:n=>n;return M2=n=>{const r={...n};return["corePath","workerPath","langPath"].forEach(a=>{n[a]&&(r[a]=t(r[a]))}),r},M2}var z2,u3;function kT(){return u3||(u3=1,z2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),z2}const uO="6.0.1",fO={version:uO};var I2,f3;function hO(){return f3||(f3=1,I2={workerBlobURL:!0,logger:()=>{}}),I2}var P2,h3;function dO(){if(h3)return P2;h3=1;const e=fO.version;return P2={...hO(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${e}/dist/worker.min.js`},P2}var B2,d3;function mO(){return d3||(d3=1,B2=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n}),B2}var U2,m3;function pO(){return m3||(m3=1,U2=e=>{e.terminate()}),U2}var H2,p3;function gO(){return p3||(p3=1,H2=(e,t)=>{e.onmessage=({data:n})=>{t(n)}}),H2}var V2,g3;function xO(){return g3||(g3=1,V2=async(e,t)=>{e.postMessage(t)}),V2}var G2,x3;function vO(){if(x3)return G2;x3=1;const e=n=>new Promise((r,a)=>{const s=new FileReader;s.onload=()=>{r(s.result)},s.onerror=({target:{error:{code:l}}})=>{a(Error(`File could not be read! Code=${l}`))},s.readAsArrayBuffer(n)}),t=async n=>{let r=n;if(typeof n>"u")return"undefined";if(typeof n=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(n)?r=atob(n.split(",")[1]).split("").map(a=>a.charCodeAt(0)):r=await(await fetch(n)).arrayBuffer();else if(typeof HTMLElement<"u"&&n instanceof HTMLElement)n.tagName==="IMG"&&(r=await t(n.src)),n.tagName==="VIDEO"&&(r=await t(n.poster)),n.tagName==="CANVAS"&&await new Promise(a=>{n.toBlob(async s=>{r=await e(s),a()})});else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas){const a=await n.convertToBlob();r=await e(a)}else(n instanceof File||n instanceof Blob)&&(r=await e(n));return new Uint8Array(r)};return G2=t,G2}var q2,v3;function yO(){if(v3)return q2;v3=1;const e=dO(),t=mO(),n=pO(),r=gO(),a=xO(),s=vO();return q2={defaultOptions:e,spawnWorker:t,terminateWorker:n,onMessage:r,send:a,loadImage:s},q2}var W2,y3;function LT(){if(y3)return W2;y3=1;const e=cO(),t=DT(),{log:n}=E5(),r=A5(),a=kT(),{defaultOptions:s,spawnWorker:l,terminateWorker:c,onMessage:d,loadImage:h,send:m}=yO();let v=0;return W2=async(y="eng",g=a.LSTM_ONLY,T={},b={})=>{const A=r("Worker",v),{logger:E,errorHandler:D,...j}=e({...s,...T}),R={},q=typeof y=="string"?y.split("+"):y;let Z=g,I=b;const Y=[a.DEFAULT,a.LSTM_ONLY].includes(g)&&!j.legacyCore;let P,Q;const O=new Promise((se,ve)=>{Q=se,P=ve}),G=se=>{P(se.message)};let K=l(j);K.onerror=G,v+=1;const X=({id:se,action:ve,payload:je})=>new Promise((ke,Ge)=>{n(`[${A}]: Start ${se}, action=${ve}`);const Te=`${ve}-${se}`;R[Te]={resolve:ke,reject:Ge},m(K,{workerId:A,jobId:se,action:ve,payload:je})}),H=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),V=se=>X(t({id:se,action:"load",payload:{options:{lstmOnly:Y,corePath:j.corePath,logging:j.logging}}})),ae=(se,ve,je)=>X(t({id:je,action:"FS",payload:{method:"writeFile",args:[se,ve]}})),ce=(se,ve)=>X(t({id:ve,action:"FS",payload:{method:"readFile",args:[se,{encoding:"utf8"}]}})),le=(se,ve)=>X(t({id:ve,action:"FS",payload:{method:"unlink",args:[se]}})),me=(se,ve,je)=>X(t({id:je,action:"FS",payload:{method:se,args:ve}})),M=(se,ve)=>X(t({id:ve,action:"loadLanguage",payload:{langs:se,options:{langPath:j.langPath,dataPath:j.dataPath,cachePath:j.cachePath,cacheMethod:j.cacheMethod,gzip:j.gzip,lstmOnly:[a.DEFAULT,a.LSTM_ONLY].includes(Z)&&!j.legacyLang}}})),N=(se,ve,je,ke)=>X(t({id:ke,action:"initialize",payload:{langs:se,oem:ve,config:je}})),F=(se="eng",ve,je,ke)=>{if(Y&&[a.TESSERACT_ONLY,a.TESSERACT_LSTM_COMBINED].includes(ve))throw Error("Legacy model requested but code missing.");const Ge=ve||Z;Z=Ge;const Te=je||I;I=Te;const gt=(typeof se=="string"?se.split("+"):se).filter(Xe=>!q.includes(Xe));return q.push(...gt),gt.length>0?M(gt,ke).then(()=>N(se,Ge,Te,ke)):N(se,Ge,Te,ke)},L=(se={},ve)=>X(t({id:ve,action:"setParameters",payload:{params:se}})),B=async(se,ve={},je={text:!0},ke)=>X(t({id:ke,action:"recognize",payload:{image:await h(se),options:ve,output:je}})),te=async(se,ve)=>{if(Y)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return X(t({id:ve,action:"detect",payload:{image:await h(se)}}))},de=async()=>(K!==null&&(c(K),K=null),Promise.resolve());d(K,({workerId:se,jobId:ve,status:je,action:ke,data:Ge})=>{const Te=`${ke}-${ve}`;if(je==="resolve")n(`[${se}]: Complete ${ve}`),R[Te].resolve({jobId:ve,data:Ge}),delete R[Te];else if(je==="reject")if(R[Te].reject(Ge),delete R[Te],ke==="load"&&P(Ge),D)D(Ge);else throw Error(Ge);else je==="progress"&&E({...Ge,userJobId:ve})});const Ne={id:A,worker:K,load:H,writeText:ae,readText:ce,removeFile:le,FS:me,reinitialize:F,setParameters:L,recognize:B,detect:te,terminate:de};return V().then(()=>M(y)).then(()=>N(y,g,b)).then(()=>Q(Ne)).catch(()=>{}),O},W2}var $2,b3;function bO(){if(b3)return $2;b3=1;const e=LT();return $2={recognize:async(r,a,s)=>{const l=await e(a,1,s);return l.recognize(r).finally(async()=>{await l.terminate()})},detect:async(r,a)=>{const s=await e("osd",0,a);return s.detect(r).finally(async()=>{await s.terminate()})}},$2}var Y2,w3;function wO(){return w3||(w3=1,Y2={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Y2}var K2,S3;function SO(){return S3||(S3=1,K2={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),K2}var X2,N3;function NO(){if(N3)return X2;N3=1,iO();const e=sO(),t=LT(),n=bO(),r=wO(),a=kT(),s=SO(),{setLogging:l}=E5();return X2={languages:r,OEM:a,PSM:s,createScheduler:e,createWorker:t,setLogging:l,...n},X2}var _O=NO();const TO=Lv(_O),AO=({onScanComplete:e,onClose:t})=>{const[n,r]=W.useState(!1),[a,s]=W.useState(null),l=W.useRef(null),c=v=>{var g;const y=(g=v.target.files)==null?void 0:g[0];if(y){const T=new FileReader;T.onload=b=>{var A;s((A=b.target)==null?void 0:A.result),d(y)},T.readAsDataURL(y)}},d=async v=>{r(!0);try{const g=(await TO.recognize(v,"spa",{logger:T=>console.log(T)})).data.text;console.log("OCR Result:",g),h(g)}catch(y){console.error(y),alert("Error al escanear la imagen."),r(!1)}},h=v=>{const y={},g=/\b\d{1,3}(?:[.,]\d{3})*(?:[.,]\d{2})\b/g,T=v.match(g);if(T){const D=T.map(j=>parseFloat(j.replace(",","."))).filter(j=>!isNaN(j));if(D.length>0){const j=Math.max(...D);y.importe=j}}const b=/(\d+(?:[.,]\d{1,2})?)\s*(?:l|litros|ltrs)\b/i,A=v.match(b);A&&(y.litros=parseFloat(A[1].replace(",",".")));const E=v.toLowerCase();E.includes("repsol")||E.includes("cepsa")||E.includes("bp")||E.includes("galp")||E.includes("gasolinera")?y.concepto="Combustible":(E.includes("talle")||E.includes("reparacion"))&&(y.concepto="Mantenimiento"),r(!1),e(y)},m=()=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor",children:[u.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),u.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),u.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]});return u.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-zinc-900 rounded-xl max-w-sm w-full p-4 border border-zinc-700 shadow-2xl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-100",children:"Escanear Ticket"}),u.jsx("button",{onClick:t,className:"text-zinc-400 hover:text-red-400",children:""})]}),u.jsxs("div",{className:"space-y-4",children:[a?u.jsxs("div",{className:"relative rounded-lg overflow-hidden h-64 bg-black flex items-center justify-center",children:[u.jsx("img",{src:a,alt:"Preview",className:"max-h-full max-w-full object-contain opacity-80"}),n&&u.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center",children:[u.jsx(jd,{size:"lg"}),u.jsx("p",{className:"mt-2 text-white font-semibold animate-pulse",children:"Procesando..."})]})]}):u.jsxs("div",{className:"border-2 border-dashed border-zinc-700 rounded-lg h-48 flex flex-col items-center justify-center cursor-pointer hover:border-blue-500 hover:bg-zinc-800/50 transition-colors",onClick:()=>{var v;return(v=l.current)==null?void 0:v.click()},children:[u.jsx(m,{}),u.jsx("span",{className:"mt-2 text-sm text-zinc-400",children:"Toca para tomar foto o elegir imagen"})]}),u.jsx("input",{type:"file",ref:l,accept:"image/*",capture:"environment",className:"hidden",onChange:c}),a&&!n&&u.jsx("button",{onClick:()=>{var v;s(null),(v=l.current)==null||v.click()},className:"w-full py-2 text-sm text-zinc-400 border border-zinc-700 rounded-lg hover:bg-zinc-800",children:"Volver a tomar foto"})]})]})})},ed=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),td=({title:e,children:t,className:n})=>u.jsxs("div",{className:`bg-zinc-900 border border-zinc-800 rounded-xl p-4 space-y-4 ${n}`,children:[u.jsx("h2",{className:"text-lg font-bold text-zinc-100",children:e}),t]}),Pr=({label:e,children:t,className:n})=>u.jsxs("div",{className:n,children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1.5",children:e}),t]}),ur=e=>{const{readOnly:t,...n}=e;return u.jsx("input",{...n,readOnly:t,onChange:t?void 0:n.onChange,className:`w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 ${t?"bg-zinc-800 cursor-not-allowed":""} ${n.className||""}`})},EO=e=>u.jsx("select",{...e,className:`w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 ${e.className}`,children:e.children}),Z2=e=>u.jsx("textarea",{...e,className:`w-full p-2 border border-zinc-700 bg-zinc-800/50 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm text-zinc-100 placeholder:text-zinc-500 ${e.className}`}),co=({children:e,onClick:t,className:n,disabled:r})=>u.jsx("button",{onClick:t,disabled:r,className:`bg-blue-600 text-white px-3 py-2 rounded-lg font-semibold flex items-center justify-center gap-1.5 text-sm hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400 disabled:cursor-not-allowed ${n}`,children:e}),_3=({navigateTo:e,gastoId:t})=>{const n=t!=null,{showToast:r}=ku(),[a,s]=W.useState("actividad"),[l,c]=W.useState(!1),[d,h]=W.useState(""),[m,v]=W.useState(""),[y,g]=W.useState(""),[T,b]=W.useState("Efectivo"),[A,E]=W.useState(""),[D,j]=W.useState(""),[R,q]=W.useState(!0),[Z,I]=W.useState("21"),[Y,P]=W.useState(""),[Q,O]=W.useState(""),[G,K]=W.useState(""),[X,H]=W.useState(""),[V,ae]=W.useState(""),[ce,le]=W.useState(""),[me,M]=W.useState(""),[N,F]=W.useState(""),[L,B]=W.useState(""),[te,de]=W.useState([{}]),[Ne,se]=W.useState(""),[ve,je]=W.useState("21"),[ke,Ge]=W.useState(""),[Te,xe]=W.useState(""),[gt,Xe]=W.useState(""),[wt,Ze]=W.useState([]),[Et,St]=W.useState([]),[Kt,Lt]=W.useState([]),[qt,rn]=W.useState([]),[Wt,cn]=W.useState([]),[zt,It]=W.useState([]),[tn,Ft]=W.useState(!1),[Mn,Xt]=W.useState(!1),[Dt,Pt]=W.useState(!1),[xn,$t]=W.useState(!1),[mn,Bt]=W.useState(!1),[Fn,Hn]=W.useState(!1),[_n,Ut]=W.useState(""),[qe,Ie]=W.useState(""),[nt,ln]=W.useState(""),[Wn,kt]=W.useState(""),[rr,Vn]=W.useState(!1),[nn,Sr]=W.useState(""),[jn,ar]=W.useState(""),[ne,ye]=W.useState(""),[fe,he]=W.useState(!1),[ge,be]=W.useState(""),[Pe,Je]=W.useState(""),[Ue,Re]=W.useState(""),[He,ht]=W.useState(!1),[yt,Tt]=W.useState(!1),[xt,Nt]=W.useState(null),[Mt,Qn]=W.useState(n),[On,er]=W.useState(!1),[ga,$a]=W.useState([]),[yi,ka]=W.useState(!1),[Li,Oe]=W.useState("");W.useEffect(()=>{$a(U0())},[]),W.useEffect(()=>{(async()=>{try{const[Ot,vt,Yn]=await Promise.all([Km(),Xm(),Zm()]);Ze(Ot),St(vt),Lt(Yn)}catch(Ot){console.error("Error loading lists:",Ot)}})()},[]),W.useEffect(()=>{(async()=>{var Ot,vt,Yn,la,_s,Ts,Kn,si,La,Nr;if(!(!n||!t)){Qn(!0);try{const Tn=await F_(t);if(Tn){const yo=(Tn.fecha instanceof Date?Tn.fecha:new Date(Tn.fecha)).toISOString().split("T")[0];h(yo),v(Tn.numeroFactura||""),g(((Ot=Tn.importe)==null?void 0:Ot.toString())||""),b(Tn.formaPago||"Efectivo"),Tn.tipo&&s(Tn.tipo),E(Tn.proveedor||""),j(Tn.concepto||""),K(((vt=Tn.kilometros)==null?void 0:vt.toString())||""),H(((Yn=Tn.kmParciales)==null?void 0:Yn.toString())||""),ae(((la=Tn.litros)==null?void 0:la.toString())||""),le(((_s=Tn.precioPorLitro)==null?void 0:_s.toString())||""),M(Tn.taller||""),j(Tn.concepto||""),F(((Ts=Tn.kilometrosVehiculo)==null?void 0:Ts.toString())||""),I(((Kn=Tn.ivaPorcentaje)==null?void 0:Kn.toString())||"21"),P(((si=Tn.baseImponible)==null?void 0:si.toString())||""),O(((La=Tn.ivaImporte)==null?void 0:La.toString())||""),q(Tn.ivaPorcentaje!==void 0&&Tn.ivaPorcentaje!==null&&Tn.ivaPorcentaje>0),Tn.servicios&&Array.isArray(Tn.servicios)&&Tn.servicios.length>0?de(Tn.servicios):de([{}]),xe(((Nr=Tn.descuento)==null?void 0:Nr.toString())||""),Xe(Tn.notas||"")}}catch(Tn){console.error("Error loading gasto:",Tn),Nt("Error al cargar el gasto")}finally{Qn(!1)}}})()},[n,t]),W.useEffect(()=>{if(A.trim()==="")rn([]),Ft(!1);else{const Ae=wt.filter(vt=>vt.nombre.toLowerCase().includes(A.toLowerCase()));rn(Ae);const Ot=wt.some(vt=>vt.nombre.toLowerCase()===A.toLowerCase());Ft(Ae.length>0&&!Ot)}},[A,wt]),W.useEffect(()=>{if(D.trim()==="")cn([]),Xt(!1);else{const Ae=Et.filter(vt=>vt.nombre.toLowerCase().includes(D.toLowerCase()));cn(Ae);const Ot=Et.some(vt=>vt.nombre.toLowerCase()===D.toLowerCase());Xt(Ae.length>0&&!Ot)}},[D,Et]),W.useEffect(()=>{if(me.trim()==="")It([]),Pt(!1);else{const Ae=Kt.filter(vt=>vt.nombre.toLowerCase().includes(me.toLowerCase()));It(Ae);const Ot=Kt.some(vt=>vt.nombre.toLowerCase()===me.toLowerCase());Pt(Ae.length>0&&!Ot)}},[me,Kt]),W.useEffect(()=>{const Ae=parseFloat(y)||0,Ot=parseFloat(Z)||21;if(R){const vt=Ae/(1+Ot/100);P(vt.toFixed(2));const Yn=Ae-vt;O(Yn.toFixed(2))}else P(Ae.toFixed(2)),O("0.00")},[y,Z,R]),W.useEffect(()=>{const Ae=parseFloat(V)||0,Ot=parseFloat(y)||0;if(Ae>0&&Ot>0){const vt=Ot/Ae;le(vt.toFixed(3))}else le("")},[V,y]),W.useEffect(()=>{se(Y),je(Z),Ge(Q||"0.00")},[Y,Z,Q]);const lt=()=>{de([...te,{}])},rt=async()=>{if(!_n.trim()){alert("El nombre del proveedor es obligatorio");return}Vn(!0);try{await H_({nombre:_n,direccion:qe||null,telefono:nt||null,nif:Wn||null});const Ae=await Km();Ze(Ae),E(_n),$t(!1),Ut(""),Ie(""),ln(""),kt("")}catch(Ae){console.error("Error saving proveedor:",Ae),alert("Error al guardar el proveedor")}finally{Vn(!1)}},wn=async()=>{if(!nn.trim()){alert("El nombre del concepto es obligatorio");return}he(!0);try{await V_({nombre:nn,descripcion:jn||null,categoria:ne||null});const Ae=await Xm();St(Ae),j(nn),Bt(!1),Sr(""),ar(""),ye("")}catch(Ae){console.error("Error saving concepto:",Ae),alert("Error al guardar el concepto")}finally{he(!1)}},$n=async()=>{if(!ge.trim()){alert("El nombre del taller es obligatorio");return}ht(!0);try{await G_({nombre:ge,direccion:Pe||null,telefono:Ue||null});const Ae=await Zm();Lt(Ae),M(ge),Hn(!1),be(""),Je(""),Re("")}catch(Ae){console.error("Error saving taller:",Ae),alert("Error al guardar el taller")}finally{ht(!1)}},qr=async()=>{if(!(!n||!t)&&confirm("Ests seguro de que quieres eliminar este gasto?")){Tt(!0),Nt(null);try{await M_(t),alert("Gasto eliminado correctamente"),e(mt.ResumenGastosMensual)}catch(Ae){console.error("Error deleting expense:",Ae),Nt("Error al eliminar el gasto. Por favor, intntalo de nuevo.")}finally{Tt(!1)}}},xa=Ae=>{c(!1),Ae.importe&&g(Ae.importe.toString()),Ae.litros&&ae(Ae.litros.toString()),Ae.concepto&&(j(Ae.concepto),Ae.concepto==="Combustible"||Ae.concepto),r("Datos escaneados aplicados","success")},va=async()=>{const Ae=parseFloat(y)||0;if(Ae<=0){Nt("El importe total debe ser mayor a 0");return}Tt(!0),Nt(null);try{let Ot;if(d&&d.trim()){const Kn=new Date(d);isNaN(Kn.getTime())?Ot=new Date:Ot=Kn}else Ot=new Date;const vt={importe:Ae,fecha:Ot,formaPago:T||"Efectivo",tipo:a};n&&(vt.proveedor=null,vt.concepto=null,vt.taller=null,vt.numeroFactura=null,vt.baseImponible=null,vt.ivaImporte=null,vt.ivaPorcentaje=null,vt.kilometros=null,vt.kilometrosVehiculo=null,vt.kmParciales=null,vt.litros=null,vt.precioPorLitro=null,vt.descuento=null,vt.servicios=null,vt.notas=null),n?vt.numeroFactura=m&&m.trim()?m.trim():null:m&&m.trim()&&(vt.numeroFactura=m.trim());const Yn=Y?parseFloat(Y):NaN;isNaN(Yn)?n&&(vt.baseImponible=null):vt.baseImponible=Yn;const la=Q?parseFloat(Q):NaN;isNaN(la)?n&&(vt.ivaImporte=null):vt.ivaImporte=la;const _s=Z?parseFloat(Z):NaN;if(isNaN(_s)?n&&(vt.ivaPorcentaje=null):vt.ivaPorcentaje=_s,a==="actividad"){n?(vt.proveedor=A&&A.trim()?A.trim():null,vt.concepto=D&&D.trim()?D.trim():null,vt.taller=null):(A&&A.trim()&&(vt.proveedor=A.trim()),D&&D.trim()&&(vt.concepto=D.trim()));const Kn=X?parseFloat(X):NaN;isNaN(Kn)?n&&(vt.kmParciales=null):vt.kmParciales=Kn;const si=V?parseFloat(V):NaN;isNaN(si)?n&&(vt.litros=null):vt.litros=si;const La=ce?parseFloat(ce):NaN;isNaN(La)?n&&(vt.precioPorLitro=null):vt.precioPorLitro=La,n&&(vt.kilometrosVehiculo=null,vt.servicios=null)}if(a==="vehiculo"){n?(vt.taller=me&&me.trim()?me.trim():null,vt.proveedor=null,n?vt.concepto=D&&D.trim()?D.trim():null:D&&D.trim()&&(vt.concepto=D.trim()),vt.kilometros=null):(me&&me.trim()&&(vt.taller=me.trim()),D&&D.trim()&&(vt.concepto=D.trim()));const Kn=G?parseFloat(G):NaN;isNaN(Kn)?n&&(vt.kilometros=null):vt.kilometros=Kn,(D?D.trim().toLowerCase():"")==="carburante"&&!isNaN(Kn)?vt.kilometrosVehiculo=Kn:n&&(vt.kilometrosVehiculo=null);const La=te.filter(Nr=>Nr.referencia||Nr.importe||Nr.cantidad||Nr.descripcion).map(Nr=>{const Tn={};return Nr.referencia&&(Tn.referencia=Nr.referencia),Nr.importe!==void 0&&!isNaN(Number(Nr.importe))&&(Tn.importe=Number(Nr.importe)),Nr.cantidad!==void 0&&!isNaN(Number(Nr.cantidad))&&(Tn.cantidad=Number(Nr.cantidad)),Nr.descuentoPorcentaje!==void 0&&!isNaN(Number(Nr.descuentoPorcentaje))&&(Tn.descuentoPorcentaje=Number(Nr.descuentoPorcentaje)),Nr.descripcion&&(Tn.descripcion=Nr.descripcion),Tn}).filter(Nr=>Object.keys(Nr).length>0);n?vt.servicios=La.length>0?La:null:La.length>0&&(vt.servicios=La)}const Ts=Te?parseFloat(Te):NaN;if(isNaN(Ts)?n&&(vt.descuento=null):vt.descuento=Ts,a==="vehiculo"){const Kn=Ne?parseFloat(Ne):NaN;!isNaN(Kn)&&Kn>0&&(vt.baseImponible||(vt.baseImponible=Kn));const si=ke?parseFloat(ke):NaN;!isNaN(si)&&si>=0&&vt.ivaImporte===void 0&&(vt.ivaImporte=si);const La=ve?parseFloat(ve):NaN;!isNaN(La)&&La>=0&&vt.ivaPorcentaje===void 0&&(vt.ivaPorcentaje=La)}if(n?vt.notas=gt&&gt.trim()?gt.trim():null:gt&&gt.trim()&&(vt.notas=gt.trim()),console.log("Guardando gasto:",vt),console.log("Modo edicin:",n,"ID:",t),n&&t)try{await R_(t,vt),console.log("Gasto actualizado, esperando un momento antes de navegar..."),await new Promise(Kn=>setTimeout(Kn,500)),r("Gasto actualizado correctamente","success"),e(mt.ResumenGastosMensual)}catch(Kn){Gs.handle(Kn,"ExpensesScreen - updateGasto"),Nt("Error al actualizar el gasto. Por favor, intntalo de nuevo.")}else await O_(vt),h(""),v(""),g(""),E(""),j(""),M(""),de([{}]),Xe(""),r("Gasto guardado correctamente","success")}catch(Ot){Gs.handle(Ot,"ExpensesScreen - handleSaveExpense"),Nt("Error al guardar el gasto. Por favor, intntalo de nuevo.")}finally{Tt(!1)}},oa=Ae=>{Ae.importe&&g(Ae.importe.toString()),Ae.formaPago&&b(Ae.formaPago),Ae.proveedor&&E(Ae.proveedor),Ae.concepto&&j(Ae.concepto),Ae.taller&&M(Ae.taller),Ae.numeroFactura&&v(Ae.numeroFactura),Ae.baseImponible&&P(Ae.baseImponible.toString()),Ae.ivaPorcentaje&&I(Ae.ivaPorcentaje.toString()),Ae.ivaImporte&&O(Ae.ivaImporte.toString()),Ae.kilometros&&K(Ae.kilometros.toString()),Ae.kilometrosVehiculo&&F(Ae.kilometrosVehiculo.toString()),Ae.descuento&&xe(Ae.descuento.toString()),Ae.servicios&&de(Ae.servicios),Ae.notas&&Xe(Ae.notas),Ae.tipo&&s(Ae.tipo),aO(Ae.id),er(!1)},Gn=()=>{if(!Li.trim()){alert("Por favor, ingresa un nombre para la plantilla");return}const Ae={nombre:Li.trim(),importe:parseFloat(y)||void 0,formaPago:T||void 0,proveedor:A||void 0,concepto:D||void 0,taller:me||void 0,numeroFactura:m||void 0,baseImponible:Y?parseFloat(Y):void 0,ivaPorcentaje:Z?parseFloat(Z):void 0,ivaImporte:Q?parseFloat(Q):void 0,kilometros:G?parseFloat(G):void 0,kilometrosVehiculo:N?parseFloat(N):void 0,descuento:Te?parseFloat(Te):void 0,servicios:te.length>0&&te[0].importe?te:void 0,notas:gt||void 0,tipo:a};nO(Ae),$a(U0()),ka(!1),Oe(""),alert("Plantilla guardada correctamente")};return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 font-sans px-3 pt-3 pb-6",children:[u.jsx(Da,{title:n?"Editar Gasto":"Gastos",navigateTo:e,backTarget:n?mt.ResumenGastosMensual:mt.Home,className:"mb-4"}),u.jsxs("div",{className:"space-y-3 max-w-sm mx-auto",children:[u.jsx(td,{title:"Encabezado de Factura",children:u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(Pr,{label:"Fecha",children:u.jsx(ur,{type:"date",value:d,className:"border-blue-500",onChange:Ae=>h(Ae.target.value)})}),u.jsx(Pr,{label:"N de Factura",children:u.jsx(ur,{type:"text",placeholder:"Ingrese N de Fact",value:m,onChange:Ae=>v(Ae.target.value)})}),u.jsx(Pr,{label:"Importe Total",children:u.jsxs("div",{className:"relative flex gap-2",children:[u.jsxs("div",{className:"relative flex-grow",children:[u.jsx(ur,{type:"number",placeholder:"0.00",value:y,onChange:Ae=>g(Ae.target.value),className:"pl-8"}),u.jsx("span",{className:"absolute left-3 top-2 text-zinc-500",children:""})]}),u.jsx("button",{onClick:()=>c(!0),className:"p-2 bg-zinc-800 border border-zinc-700 rounded-lg hover:bg-zinc-700 text-zinc-300",title:"Escanear Ticket",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 0 24 24",width:"20px",fill:"currentColor",children:[u.jsx("path",{d:"M0 0h24v24H0z",fill:"none"}),u.jsx("circle",{cx:"12",cy:"12",r:"3.2"}),u.jsx("path",{d:"M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"})]})})]})}),u.jsx(Pr,{label:"Kilmetros",children:u.jsx(ur,{type:"number",value:G,onChange:Ae=>K(Ae.target.value),placeholder:"Kms"})}),u.jsx(Pr,{label:"Forma de Pago",children:u.jsxs(EO,{value:T,onChange:Ae=>b(Ae.target.value),children:[u.jsx("option",{children:"Efectivo"}),u.jsx("option",{children:"Tarjeta"}),u.jsx("option",{children:"Bizum"}),u.jsx("option",{children:"Domiciliado"})]})})]})}),u.jsxs("div",{className:"flex gap-2 p-1 bg-zinc-900 border border-zinc-800 rounded-lg",children:[u.jsx("button",{onClick:()=>s("actividad"),className:`flex-1 py-1.5 rounded-md font-semibold transition-colors text-sm ${a==="actividad"?"bg-zinc-800 text-zinc-50 shadow-sm":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Actividad"}),u.jsx("button",{onClick:()=>s("vehiculo"),className:`flex-1 py-1.5 rounded-md font-semibold transition-colors text-sm ${a==="vehiculo"?"bg-zinc-800 text-zinc-50 shadow-sm":"text-zinc-400 hover:bg-zinc-800/50"}`,children:"Vehculo"})]}),a==="actividad"&&u.jsx(td,{title:"Actividad",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{label:"Nombre del Proveedor:",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ur,{type:"text",placeholder:"Buscar Proveedor",className:"flex-grow",value:A,onChange:Ae=>{E(Ae.target.value)},onFocus:()=>{const Ae=wt.some(Ot=>Ot.nombre.toLowerCase()===A.toLowerCase());qt.length>0&&!Ae&&Ft(!0)},onBlur:()=>{setTimeout(()=>{Ft(!1)},200)}}),u.jsxs(co,{onClick:()=>$t(!0),children:[u.jsx(ed,{})," Nuevo"]})]}),tn&&qt.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-zinc-800 border border-zinc-700 rounded-md shadow-lg max-h-48 overflow-y-auto",onMouseDown:Ae=>Ae.preventDefault(),children:qt.map(Ae=>u.jsx("button",{onClick:()=>{E(Ae.nombre),Ft(!1)},className:"w-full text-left px-3 py-2 text-sm text-zinc-100 hover:bg-zinc-700 transition-colors",children:Ae.nombre},Ae.id))})]})}),u.jsx(Pr,{label:"Concepto:",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ur,{type:"text",placeholder:"Buscar Concepto",className:"flex-grow",value:D,onChange:Ae=>{j(Ae.target.value),Xt(!0)},onFocus:()=>{const Ae=Et.some(Ot=>Ot.nombre.toLowerCase()===D.toLowerCase());Wt.length>0&&!Ae&&Xt(!0)},onBlur:()=>{setTimeout(()=>{Xt(!1)},200)}}),u.jsxs(co,{onClick:()=>Bt(!0),children:[u.jsx(ed,{})," Nuevo"]})]}),Mn&&Wt.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-zinc-800 border border-zinc-700 rounded-md shadow-lg max-h-48 overflow-y-auto",onMouseDown:Ae=>Ae.preventDefault(),children:Wt.map(Ae=>u.jsx("button",{onClick:()=>{j(Ae.nombre),Xt(!1)},className:"w-full text-left px-3 py-2 text-sm text-zinc-100 hover:bg-zinc-700 transition-colors",children:Ae.nombre},Ae.id))})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[u.jsx(Pr,{label:"Soporta IVA?",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",checked:R,onChange:Ae=>q(Ae.target.checked),className:"h-4 w-4 rounded border-zinc-600 bg-zinc-800 text-blue-500 focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-zinc-300",children:R?"S":"No"})]})}),u.jsx(Pr,{label:"Iva (%)",children:u.jsx(ur,{type:"number",value:Z,onChange:Ae=>I(Ae.target.value)})}),u.jsx(Pr,{label:"Base ()",children:u.jsx(ur,{type:"number",value:Y,readOnly:!0})}),u.jsx(Pr,{label:"Iva()",children:u.jsx(ur,{type:"number",value:Q||"0.00",readOnly:!0})}),u.jsx("div",{}),D.toLowerCase().trim()==="combustible"&&u.jsxs(u.Fragment,{children:[u.jsx(Pr,{label:"Km.Parc",children:u.jsx(ur,{type:"number",value:X,onChange:Ae=>H(Ae.target.value)})}),u.jsx(Pr,{label:"Litros",children:u.jsx(ur,{type:"number",value:V,onChange:Ae=>ae(Ae.target.value)})}),u.jsx(Pr,{label:"/L",children:u.jsx(ur,{type:"number",value:ce,readOnly:!0})})]}),D.toLowerCase().trim()!=="combustible"&&u.jsx("div",{})]})]})}),a==="vehiculo"&&u.jsx(td,{title:"Vehculo",children:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{label:"Nombre del Taller:",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ur,{type:"text",placeholder:"Buscar Taller",className:"flex-grow",value:me,onChange:Ae=>{M(Ae.target.value)},onFocus:()=>{const Ae=Kt.some(Ot=>Ot.nombre.toLowerCase()===me.toLowerCase());zt.length>0&&!Ae&&Pt(!0)},onBlur:()=>{setTimeout(()=>{Pt(!1)},200)}}),u.jsxs(co,{onClick:()=>Hn(!0),children:[u.jsx(ed,{})," Nuevo"]})]}),Dt&&zt.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-zinc-800 border border-zinc-700 rounded-md shadow-lg max-h-48 overflow-y-auto",onMouseDown:Ae=>Ae.preventDefault(),children:zt.map(Ae=>u.jsx("button",{onClick:()=>{M(Ae.nombre),Pt(!1)},className:"w-full text-left px-3 py-2 text-sm text-zinc-100 hover:bg-zinc-700 transition-colors",children:Ae.nombre},Ae.id))})]})}),u.jsx(Pr,{label:"Concepto / Servicio",children:u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ur,{type:"text",placeholder:"Buscar o aadir concepto",className:"flex-grow",value:D,onChange:Ae=>j(Ae.target.value),onFocus:()=>{if(D.trim()!==""){const Ae=Et.filter(Ot=>Ot.nombre.toLowerCase().includes(D.toLowerCase()));cn(Ae),Xt(Ae.length>0)}},onBlur:()=>{setTimeout(()=>{Xt(!1)},200)}}),u.jsxs(co,{onClick:()=>{Sr(D),Bt(!0)},children:[u.jsx(ed,{})," Nuevo"]})]}),Mn&&Wt.length>0&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-zinc-800 border border-zinc-700 rounded-md shadow-lg max-h-60 overflow-auto",children:Wt.map(Ae=>u.jsx("div",{className:"px-4 py-2 hover:bg-zinc-700 cursor-pointer text-sm",onClick:()=>{j(Ae.nombre),Xt(!1)},children:Ae.nombre},Ae.id))})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-md font-bold text-zinc-300 mb-2",children:"Servicios / Reparaciones"}),u.jsxs("div",{className:"bg-zinc-950/70 p-3 rounded-md space-y-2 border border-zinc-800",children:[te.map((Ae,Ot)=>u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(ur,{placeholder:"Referencia",value:Ae.referencia||"",onChange:vt=>{const Yn=[...te];Yn[Ot]={...Yn[Ot],referencia:vt.target.value},de(Yn)}}),u.jsx(ur,{placeholder:"Importe",type:"number",value:Ae.importe||"",onChange:vt=>{const Yn=[...te];Yn[Ot]={...Yn[Ot],importe:parseFloat(vt.target.value)||0},de(Yn)}})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx(ur,{placeholder:"Cantidad",type:"number",value:Ae.cantidad||"",onChange:vt=>{const Yn=[...te];Yn[Ot]={...Yn[Ot],cantidad:parseFloat(vt.target.value)||0},de(Yn)}}),u.jsx(ur,{placeholder:"Desc. %",type:"number",value:Ae.descuentoPorcentaje||"",onChange:vt=>{const Yn=[...te];Yn[Ot]={...Yn[Ot],descuentoPorcentaje:parseFloat(vt.target.value)||0},de(Yn)}})]}),u.jsx(ur,{placeholder:"Servicio",value:Ae.descripcion||"",onChange:vt=>{const Yn=[...te];Yn[Ot]={...Yn[Ot],descripcion:vt.target.value},de(Yn)}})]},Ot)),u.jsx("div",{className:"flex justify-start pt-1",children:u.jsx("button",{onClick:lt,className:"bg-blue-600 text-white rounded-full w-8 h-8 flex items-center justify-center shadow hover:bg-blue-700 transition-colors",children:u.jsx(ed,{})})})]})]}),u.jsx(Pr,{label:"Descripcin de trabajos realizados",children:u.jsx(Z2,{rows:4,value:L,onChange:Ae=>B(Ae.target.value)})})]})}),u.jsx(td,{title:"Resumen de Totales",children:u.jsxs("div",{className:"grid grid-cols-5 gap-1 text-center text-xs items-end",children:[u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-zinc-400",children:"Base"}),u.jsx(ur,{readOnly:!0,value:Ne,className:"text-center mt-1.5"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-zinc-400",children:"Iva"}),u.jsx(ur,{value:ve,onChange:Ae=>{je(Ae.target.value),I(Ae.target.value)},className:"text-center mt-1.5"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-zinc-400",children:"Iva ()"}),u.jsx(ur,{readOnly:!0,value:ke,className:"text-center mt-1.5"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-zinc-400",children:"Desc."}),u.jsx(ur,{type:"number",value:Te,onChange:Ae=>xe(Ae.target.value),className:"text-center mt-1.5"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"font-medium text-zinc-400",children:"TOTAL"}),u.jsx(ur,{readOnly:!0,value:y,className:"text-center mt-1.5"})]})]})}),u.jsx(td,{title:"Notas",children:u.jsx(Z2,{rows:4,value:gt,onChange:Ae=>Xe(Ae.target.value)})}),Mt?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando gasto..."}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2",children:[!n&&u.jsxs(co,{onClick:()=>er(!0),className:"flex-1 bg-green-600 hover:bg-green-700",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M13 2L3 14h9l-1 8 10-12h-9l1-8z"})}),"Gasto Rpido"]}),u.jsx(co,{onClick:va,disabled:yt,className:"flex-1",children:yt?n?"Actualizando...":"Guardando...":n?"Actualizar Gasto":"Guardar Gasto"}),n&&u.jsxs(co,{onClick:qr,disabled:yt,className:"flex-1 bg-red-600 hover:bg-red-700",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:u.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})}),"Eliminar"]})]}),!n&&u.jsxs(co,{onClick:()=>ka(!0),className:"w-full bg-zinc-700 hover:bg-zinc-600",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),u.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),u.jsx("polyline",{points:"7 3 7 8 15 8"})]}),"Guardar como Plantilla"]})]}),xt&&u.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:xt})]}),xn&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-4",children:"Nuevo Proveedor"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{label:"Nombre *",children:u.jsx(ur,{value:_n,onChange:Ae=>Ut(Ae.target.value)})}),u.jsx(Pr,{label:"Direccin",children:u.jsx(ur,{value:qe,onChange:Ae=>Ie(Ae.target.value)})}),u.jsx(Pr,{label:"Telfono",children:u.jsx(ur,{value:nt,onChange:Ae=>ln(Ae.target.value)})}),u.jsx(Pr,{label:"NIF",children:u.jsx(ur,{value:Wn,onChange:Ae=>kt(Ae.target.value)})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(co,{onClick:rt,disabled:rr,className:"flex-1",children:rr?"Guardando...":"Guardar"}),u.jsx("button",{onClick:()=>{$t(!1),Ut(""),Ie(""),ln(""),kt("")},className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})]})}),mn&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-4",children:"Nuevo Concepto"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{label:"Nombre *",children:u.jsx(ur,{value:nn,onChange:Ae=>Sr(Ae.target.value)})}),u.jsx(Pr,{label:"Descripcin",children:u.jsx(Z2,{rows:3,value:jn,onChange:Ae=>ar(Ae.target.value)})}),u.jsx(Pr,{label:"Categora",children:u.jsx(ur,{value:ne,onChange:Ae=>ye(Ae.target.value)})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(co,{onClick:wn,disabled:fe,className:"flex-1",children:fe?"Guardando...":"Guardar"}),u.jsx("button",{onClick:()=>{Bt(!1),Sr(""),ar(""),ye("")},className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})]})}),On&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-100",children:"Gastos Rpidos"}),u.jsx("button",{onClick:()=>er(!1),className:"text-zinc-400 hover:text-zinc-100",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto",children:ga.length===0?u.jsxs("div",{className:"text-center py-8 text-zinc-400",children:[u.jsx("p",{children:"No hay plantillas guardadas"}),u.jsx("p",{className:"text-sm mt-2",children:"Guarda un gasto como plantilla para usarlo despus"})]}):u.jsx("div",{className:"space-y-2",children:ga.map(Ae=>u.jsx("div",{className:"w-full p-3 bg-zinc-800 hover:bg-zinc-700 rounded-lg border border-zinc-700 transition-colors",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("button",{onClick:()=>oa(Ae),className:"flex-1 text-left",children:[u.jsx("h4",{className:"font-semibold text-zinc-100",children:Ae.nombre}),u.jsxs("div",{className:"mt-1 text-xs text-zinc-400 space-y-0.5",children:[Ae.importe&&u.jsxs("p",{children:["Importe: ",Ae.importe.toFixed(2)," "]}),Ae.proveedor&&u.jsxs("p",{children:["Proveedor: ",Ae.proveedor]}),Ae.concepto&&u.jsxs("p",{children:["Concepto: ",Ae.concepto]}),Ae.taller&&u.jsxs("p",{children:["Taller: ",Ae.taller]})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1 ml-2",children:[u.jsxs("span",{className:"text-xs text-zinc-500",children:[Ae.useCount||0," usos"]}),u.jsx("button",{onClick:Ot=>{Ot.stopPropagation(),confirm("Eliminar esta plantilla?")&&(rO(Ae.id),$a(U0()))},className:"text-red-400 hover:text-red-300 text-xs px-2 py-1 rounded hover:bg-red-400/10 transition-colors",children:"Eliminar"})]})]})},Ae.id))})})]})}),yi&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-4",children:"Guardar como Plantilla"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{label:"Nombre de la plantilla *",children:u.jsx(ur,{type:"text",value:Li,onChange:Ae=>Oe(Ae.target.value),placeholder:"Ej: Combustible, Mantenimiento...",autoFocus:!0})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(co,{onClick:Gn,className:"flex-1",children:"Guardar"}),u.jsx("button",{onClick:()=>{ka(!1),Oe("")},className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})]})}),Fn&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-lg font-bold text-zinc-100 mb-4",children:"Nuevo Taller"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(Pr,{label:"Nombre *",children:u.jsx(ur,{value:ge,onChange:Ae=>be(Ae.target.value)})}),u.jsx(Pr,{label:"Direccin",children:u.jsx(ur,{value:Pe,onChange:Ae=>Je(Ae.target.value)})}),u.jsx(Pr,{label:"Telfono",children:u.jsx(ur,{value:Ue,onChange:Ae=>Re(Ae.target.value)})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(co,{onClick:$n,disabled:He,className:"flex-1",children:He?"Guardando...":"Guardar"}),u.jsx("button",{onClick:()=>{Hn(!1),be(""),Je(""),Re("")},className:"px-4 py-2 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})]})}),l&&u.jsx(AO,{onScanComplete:xa,onClose:()=>c(!1)})]})},nd={tarifa1:4.4,tarifa2:5.47,tarifa3:6.85,tarifaAeropuertoDia:25.72,tarifaAeropuertoNoche:28.67},FT=()=>({tarifa1:parseFloat(localStorage.getItem("tarifa1")||nd.tarifa1.toString()),tarifa2:parseFloat(localStorage.getItem("tarifa2")||nd.tarifa2.toString()),tarifa3:parseFloat(localStorage.getItem("tarifa3")||nd.tarifa3.toString()),tarifaAeropuertoDia:parseFloat(localStorage.getItem("tarifaAeropuertoDia")||nd.tarifaAeropuertoDia.toString()),tarifaAeropuertoNoche:parseFloat(localStorage.getItem("tarifaAeropuertoNoche")||nd.tarifaAeropuertoNoche.toString())}),CO=(e=new Date)=>{const t=FT(),n=e.getDay(),r=e.getHours(),a=n===5&&r>=22,s=n===6&&r>=22,l=n===0&&r>=22,c=n===6&&r<6,d=n===0&&r<6;if(a||s||l||c||d)return{amount:t.tarifa3,tariffName:"Tarifa 3",isAeropuerto:!1,isNight:!0};const h=(n===6||n===0)&&r>=7&&r<22,m=n>=1&&n<=5&&(r<7||r>=21);return h||m?{amount:t.tarifa2,tariffName:"Tarifa 2",isAeropuerto:!1,isNight:!0}:{amount:t.tarifa1,tariffName:"Tarifa 1",isAeropuerto:!1,isNight:!1}},jO=(e=new Date)=>{const t=FT(),n=e.getDay(),r=e.getHours(),a=n===0||n===6,s=r<7||r>=21;return a||s?{amount:t.tarifaAeropuertoNoche,tariffName:"Tarifa 5",isAeropuerto:!0,isNight:!0}:{amount:t.tarifaAeropuertoDia,tariffName:"Tarifa 4",isAeropuerto:!0,isNight:!1}},$o=({children:e,className:t=""})=>u.jsx("div",{className:`glass-card rounded-xl border border-white/5 shadow-xl ${t}`,children:e}),DO=({label:e,...t})=>u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsx("label",{className:"text-sm font-medium text-zinc-400",children:e}),u.jsx("input",{...t,className:"block w-full px-3 py-2 text-sm text-zinc-100 bg-zinc-900 rounded-md border border-zinc-700 appearance-none focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),T3=({navigateTo:e})=>{const{showToast:t}=ku(),[n,r]=W.useState(null),[a,s]=W.useState([]),[l,c]=W.useState(""),[d,h]=W.useState(!0),[m,v]=W.useState(!0),[y,g]=W.useState(null),[T,b]=W.useState(!1),A=I=>{if(!I||!(I instanceof Date)||isNaN(I.getTime()))return"Fecha invlida";const Y=String(I.getDate()).padStart(2,"0"),P=String(I.getMonth()+1).padStart(2,"0"),Q=I.getFullYear(),O=String(I.getHours()).padStart(2,"0"),G=String(I.getMinutes()).padStart(2,"0");return`${Y}/${P}/${Q} ${O}:${G}`},E=I=>{if(!I||!(I instanceof Date)||isNaN(I.getTime()))return"Fecha invlida";const Y=String(I.getDate()).padStart(2,"0"),P=String(I.getMonth()+1).padStart(2,"0"),Q=I.getFullYear();return`${Y}/${P}/${Q}`},D=I=>{if(!I||!(I instanceof Date)||isNaN(I.getTime()))return"Hora invlida";const Y=String(I.getHours()).padStart(2,"0"),P=String(I.getMinutes()).padStart(2,"0");return`${Y}:${P}`},j=Ov.useCallback(async()=>{try{v(!0);const I=await ff(10);s(I)}catch(I){console.error("Error loading recent turnos:",I)}finally{v(!1)}},[]);W.useEffect(()=>{(async()=>{try{h(!0);const Y=await p5();r(Y);const P=i1(Q=>{r(Q),Q||j()});return()=>P()}catch(Y){console.error("Error loading turno:",Y),g("Error al cargar el turno activo")}finally{h(!1)}})()},[j]),W.useEffect(()=>{j()},[j]);const R=async()=>{if(!l){g("Por favor, ingresa los kilmetros iniciales");return}const I=parseFloat(l);if(isNaN(I)||I<=0){g("Por favor, ingresa un valor vlido de kilmetros");return}if(n){g("Ya existe un turno activo. Debes cerrarlo antes de crear uno nuevo.");return}b(!0),g(null);try{await I_({fechaInicio:new Date,kilometrosInicio:I}),c(""),e(mt.VistaCarreras)}catch(Y){console.error("Error creating turno:",Y),g("Error al crear el turno. Por favor, intntalo de nuevo.")}finally{b(!1)}},q=async I=>{if(window.confirm("Ests seguro de que quieres eliminar este turno? Esta accin no se puede deshacer."))try{await B_(I),j(),t("Turno eliminado correctamente","success")}catch(Y){Gs.handle(Y,"ShiftsScreen - handleDeleteTurno")}},Z=u.jsx(Da,{title:"Gestin de Turnos",navigateTo:e,backTarget:mt.Home,className:"mb-4"});return d?u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-6 space-y-4",children:[Z,u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx(jd,{text:"Cargando turnos...",size:"lg"})})]}):u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-6 space-y-4",children:[Z,u.jsx($o,{children:n?u.jsxs("div",{className:"space-y-4 text-sm",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-emerald-400",children:"Estado:"})," Activo"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-400",children:"Fecha inicio:"})," ",E(n.fechaInicio)]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-400",children:"Hora inicio:"})," ",D(n.fechaInicio)]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-400",children:"Km inicio:"})," ",n.kilometrosInicio]}),u.jsx("p",{className:"text-zinc-500 text-xs mt-4",children:'Ve a "Carreras" para aadir carreras a este turno. Para cerrar el turno, usa el botn de abajo a la izquierda en la pantalla de Carreras.'})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsx(DO,{label:"Kilmetros iniciales",type:"number",value:l,onChange:I=>{c(I.target.value),g(null)},placeholder:"Ej: 45000"}),y&&u.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:y}),u.jsx("button",{onClick:R,disabled:!l||T,className:"w-full p-3 bg-zinc-50 text-zinc-900 font-bold rounded-lg disabled:bg-zinc-800 disabled:text-zinc-500 disabled:cursor-not-allowed transition-colors hover:bg-zinc-200",children:T?"Creando turno...":"Iniciar turno"})]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-zinc-100 text-lg font-bold mb-2 tracking-tight",children:"Turnos recientes"}),m?u.jsx("div",{className:"flex items-center justify-center p-4",children:u.jsx(jd,{text:"Cargando turnos...",size:"sm"})}):a.length===0?u.jsx("div",{className:"text-center p-4 text-zinc-500 text-sm",children:"No hay turnos cerrados an"}):u.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.map(I=>{const Y=I.fechaInicio instanceof Date?I.fechaInicio:new Date(I.fechaInicio),P=I.fechaFin instanceof Date?I.fechaFin:I.fechaFin?new Date(I.fechaFin):null;return u.jsx($o,{className:"p-3 text-sm",children:u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-400",children:"Inicio:"})," ",A(Y)]}),P&&u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-400",children:"Fin:"})," ",A(P)]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-400",children:"Kms:"})," ",I.kilometrosInicio," - ",I.kilometrosFin||"N/A"]}),u.jsxs("p",{children:[u.jsx("span",{className:"font-semibold text-zinc-500",children:"Estado:"})," ",I.kilometrosFin?"Finalizado":"Activo"]})]}),u.jsx("button",{onClick:()=>e(mt.EditarTurno,I.id),className:"ml-2 p-2 text-blue-400 hover:text-blue-300 hover:bg-blue-900/20 rounded transition-colors",title:"Editar turno",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})})}),u.jsx("button",{onClick:()=>q(I.id),className:"ml-2 p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors",title:"Eliminar turno",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 013.878.512.75.75 0 11-.256 1.478l-.209-.035-1.005 13.07a3 3 0 01-2.991 2.77H8.084a3 3 0 01-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 01-.256-1.478A48.567 48.567 0 017.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 013.369 0c1.603.051 2.815 1.387 2.815 2.951zm-6.136-1.452a51.196 51.196 0 013.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 00-6 0v-.113c0-.794.609-1.428 1.364-1.452zm-.355 5.945a.75.75 0 10-1.5.058l.347 9a.75.75 0 101.499-.058l-.346-9zm5.48.058a.75.75 0 10-1.498-.058l-.347 9a.75.75 0 001.5.058l.345-9z",clipRule:"evenodd"})})})]})},I.id)})})]})]})},OT=({title:e})=>u.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-[var(--text-primary)]",children:e}),kO=({navigateTo:e})=>{const[t,n]=W.useState(null),[r,a]=W.useState(""),[s,l]=W.useState(!1),[c,d]=W.useState(null),[h,m]=W.useState(!0);W.useEffect(()=>{(async()=>{try{m(!0);const T=await p5();if(n(T),T){const b=i1(A=>{n(A)});return()=>b()}}catch(T){console.error("Error loading turno:",T),d("Error al cargar el turno activo")}finally{m(!1)}})()},[]);const v=async()=>{if(!t){d("No hay un turno activo para cerrar");return}const g=parseFloat(r);if(!r||isNaN(g)||g<=0){d("Por favor, ingresa un valor vlido de kilmetros finales");return}if(g<=t.kilometrosInicio){d("Los kilmetros finales deben ser mayores a los iniciales");return}l(!0),d(null);try{await q_(t.id,g),e(mt.VistaCarreras)}catch(T){console.error("Error closing turno:",T),d("Error al cerrar el turno. Por favor, intntalo de nuevo.")}finally{l(!1)}},y=()=>{if(h)return u.jsx("div",{className:"text-center p-8 text-zinc-400",children:"Cargando turno activo..."});if(!t)return u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 text-center",children:[u.jsx("p",{className:"text-zinc-400 mb-4",children:"No hay un turno activo para cerrar"}),u.jsx("button",{onClick:()=>e(mt.VistaCarreras),className:"px-4 py-2 bg-zinc-800 text-zinc-100 rounded-lg hover:bg-zinc-700 transition-colors",children:"Volver"})]});const g=t.fechaInicio,T=g.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),b=g.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl p-6 space-y-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("h2",{className:"text-lg font-bold text-zinc-100",children:"Informacin del Turno"}),u.jsxs("div",{className:"space-y-2 text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-400",children:"Estado:"}),u.jsx("span",{className:"text-emerald-400 font-semibold",children:"Activo"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-400",children:"Fecha inicio:"}),u.jsx("span",{className:"text-zinc-100",children:T})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-400",children:"Hora inicio:"}),u.jsx("span",{className:"text-zinc-100",children:b})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-zinc-400",children:"Kilmetros iniciales:"}),u.jsx("span",{className:"text-zinc-100 font-semibold",children:t.kilometrosInicio})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-sm font-medium text-zinc-400",children:"Kilmetros finales *"}),u.jsx("input",{type:"number",value:r,onChange:A=>{a(A.target.value),d(null)},placeholder:`Mnimo: ${t.kilometrosInicio+1}`,min:t.kilometrosInicio+1,className:"w-full px-4 py-3 bg-zinc-800 border border-zinc-700 rounded-lg text-zinc-100 text-lg font-semibold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c&&u.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:c}),u.jsx("button",{onClick:v,disabled:s||!r,className:"w-full py-4 px-4 rounded-lg bg-blue-600 text-white font-bold text-lg hover:bg-blue-700 transition-colors disabled:bg-zinc-700 disabled:text-zinc-400 disabled:cursor-not-allowed",children:s?"Cerrando turno...":"Cerrar Turno"})]})};return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 py-4 space-y-4",children:[u.jsx(Da,{title:"Cerrar Turno",navigateTo:e,backTarget:mt.VistaCarreras}),u.jsx(OT,{title:"Cerrar Turno"}),y()]})},g0=({label:e,...t})=>u.jsxs("div",{className:"flex flex-col gap-1.5",children:[u.jsx("label",{className:"text-sm font-medium text-zinc-400",children:e}),u.jsx("input",{...t,className:"block w-full px-3 py-2 text-sm text-zinc-100 bg-zinc-900 rounded-md border border-zinc-700 appearance-none focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),LO=({navigateTo:e,turnoId:t})=>{const[n,r]=W.useState(null),[a,s]=W.useState(!0),[l,c]=W.useState(null),[d,h]=W.useState(!1),[m,v]=W.useState(""),[y,g]=W.useState(""),[T,b]=W.useState(""),[A,E]=W.useState(""),[D,j]=W.useState(""),[R,q]=W.useState(""),Z=Q=>{const O=Q.getFullYear(),G=String(Q.getMonth()+1).padStart(2,"0"),K=String(Q.getDate()).padStart(2,"0");return`${O}-${G}-${K}`},I=Q=>{const O=String(Q.getDate()).padStart(2,"0"),G=String(Q.getMonth()+1).padStart(2,"0"),K=Q.getFullYear(),X=String(Q.getHours()).padStart(2,"0"),H=String(Q.getMinutes()).padStart(2,"0");return`${O}/${G}/${K} ${X}:${H}`};W.useEffect(()=>{(async()=>{try{s(!0);const O=await z_(t);if(!O){c("Turno no encontrado");return}r(O);const G=O.fechaInicio,K=Z(G),X=`${String(G.getHours()).padStart(2,"0")}:${String(G.getMinutes()).padStart(2,"0")}`;if(v(K),g(X),b(O.kilometrosInicio.toString()),O.fechaFin){const H=O.fechaFin,V=Z(H),ae=`${String(H.getHours()).padStart(2,"0")}:${String(H.getMinutes()).padStart(2,"0")}`;E(V),j(ae)}O.kilometrosFin!==void 0&&q(O.kilometrosFin.toString())}catch(O){console.error("Error loading turno:",O),c("Error al cargar el turno")}finally{s(!1)}})()},[t]);const Y=async()=>{if(!n)return;const Q=parseFloat(T);if(isNaN(Q)||Q<=0){c("Los kilmetros iniciales deben ser un valor vlido mayor a 0");return}let O;if(R.trim()!==""){if(O=parseFloat(R),isNaN(O)||O<=0){c("Los kilmetros finales deben ser un valor vlido mayor a 0");return}if(O<Q){c("Los kilmetros finales deben ser mayores o iguales a los iniciales");return}}const G=new Date(`${m}T${y}`);if(isNaN(G.getTime())){c("La fecha y hora de inicio no son vlidas");return}let K;if(A.trim()!==""&&D.trim()!==""){if(K=new Date(`${A}T${D}`),isNaN(K.getTime())){c("La fecha y hora de fin no son vlidas");return}if(K<G){c("La fecha de fin debe ser posterior a la fecha de inicio");return}}h(!0),c(null);try{await P_(t,{fechaInicio:G,kilometrosInicio:Q,fechaFin:K,kilometrosFin:O}),e(mt.Turnos)}catch(X){console.error("Error updating turno:",X),c("Error al actualizar el turno. Por favor, intntalo de nuevo.")}finally{h(!1)}},P=()=>a?u.jsx("div",{className:"text-center p-8 text-zinc-400",children:"Cargando turno..."}):n?u.jsx($o,{children:u.jsxs("div",{className:"space-y-4",children:[n&&u.jsxs("div",{className:"bg-zinc-800/50 rounded-lg p-3 mb-4 text-xs",children:[u.jsx("p",{className:"text-zinc-400 mb-1",children:"Informacin actual:"}),u.jsxs("p",{className:"text-zinc-300",children:[u.jsx("span",{className:"font-semibold",children:"Inicio:"})," ",I(n.fechaInicio)]}),n.fechaFin&&u.jsxs("p",{className:"text-zinc-300",children:[u.jsx("span",{className:"font-semibold",children:"Fin:"})," ",I(n.fechaFin)]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-zinc-100 font-semibold mb-3 text-sm",children:"Inicio del Turno"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(g0,{label:"Fecha inicio",type:"date",value:m,onChange:Q=>v(Q.target.value)}),u.jsx(g0,{label:"Hora inicio",type:"time",value:y,onChange:Q=>g(Q.target.value)})]}),u.jsx("div",{className:"mt-3",children:u.jsx(g0,{label:"Kilmetros inicio",type:"number",value:T,onChange:Q=>b(Q.target.value),placeholder:"Ej: 45000"})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-zinc-100 font-semibold mb-3 text-sm",children:"Fin del Turno (opcional)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx(g0,{label:"Fecha fin",type:"date",value:A,onChange:Q=>E(Q.target.value),placeholder:"Opcional"}),u.jsx(g0,{label:"Hora fin",type:"time",value:D,onChange:Q=>j(Q.target.value),placeholder:"Opcional"})]}),u.jsx("div",{className:"mt-3",children:u.jsx(g0,{label:"Kilmetros fin",type:"number",value:R,onChange:Q=>q(Q.target.value),placeholder:"Opcional"})})]}),l&&u.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-200 text-sm",children:l}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:Y,disabled:d,className:"flex-1 p-3 bg-blue-600 text-white font-bold rounded-lg disabled:bg-zinc-800 disabled:text-zinc-500 disabled:cursor-not-allowed transition-colors hover:bg-blue-700",children:d?"Guardando...":"Guardar Cambios"}),u.jsx("button",{onClick:()=>e(mt.Turnos),className:"px-4 py-3 bg-zinc-800 text-zinc-300 rounded-lg hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})]})}):u.jsx($o,{children:u.jsx("div",{className:"text-center p-4 text-zinc-400",children:l||"Turno no encontrado"})});return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 py-4 space-y-4",children:[u.jsx(Da,{title:"Editar Turno",navigateTo:e,backTarget:mt.Turnos}),u.jsx(OT,{title:"Editar Turno"}),P()]})},A3=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16zm11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM5 11l1.5-4.5h11L19 11H5z"})}),FO=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c2.16-.43 3.5-1.77 3.5-3.6 0-2.13-1.87-3.29-4.7-4.15z"})}),OO=({navigateTo:e})=>{const[t,n]=W.useState("turnos"),r=b=>{const A=String(b.getDate()).padStart(2,"0"),E=String(b.getMonth()+1).padStart(2,"0"),D=b.getFullYear(),j=String(b.getHours()).padStart(2,"0"),R=String(b.getMinutes()).padStart(2,"0");return`${A}/${E}/${D} ${j}:${R}`},[a,s]=W.useState([]),[l,c]=W.useState([]),[d,h]=W.useState([]),[m,v]=W.useState(!0);W.useEffect(()=>{(async()=>{try{v(!0);const[A,E,D]=await Promise.all([ff(50),Z_(300),Zo()]);s(A||[]),c(E||[]),h(D||[])}catch(A){console.error("Error loading historical data:",A),s([]),c([]),h([])}finally{v(!1)}})()},[]);const y=Ov.useMemo(()=>{const b={};return l.forEach(A=>{A.turnoId&&(b[A.turnoId]||(b[A.turnoId]=[]),b[A.turnoId].push(A))}),b},[l]),g=b=>(y[b]||[]).reduce((E,D)=>E+D.cobrado,0),T=[{id:"turnos",label:"Turnos",icon:u.jsx(A3,{})},{id:"carreras",label:"Carreras",icon:u.jsx(A3,{})},{id:"gastos",label:"Gastos",icon:u.jsx(FO,{})}];return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-6 space-y-4",children:[u.jsx(Da,{title:"Histrico",navigateTo:e,backTarget:mt.Home}),u.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:T.map(b=>u.jsxs("button",{onClick:()=>n(b.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap ${t===b.id?"bg-blue-600 text-white":"bg-zinc-800 text-zinc-400 hover:bg-zinc-700"}`,children:[u.jsx("span",{className:"w-4 h-4",children:b.icon}),b.label]},b.id))}),m?u.jsx("div",{className:"space-y-2",children:[1,2,3].map(b=>u.jsxs($o,{className:"p-4 animate-pulse bg-zinc-800 border border-zinc-700",children:[u.jsx("div",{className:"h-3 w-1/3 bg-zinc-700 rounded mb-3"}),u.jsx("div",{className:"h-2 w-full bg-zinc-700 rounded mb-1.5"}),u.jsx("div",{className:"h-2 w-2/3 bg-zinc-700 rounded"})]},b))}):u.jsxs("div",{className:"space-y-2 max-h-[60vh] overflow-y-auto",children:[t==="turnos"&&u.jsx(u.Fragment,{children:a.length===0?u.jsx($o,{className:"p-4 text-center text-zinc-400",children:"No hay turnos en el histrico"}):a.map(b=>{const A=g(b.id),E=b.kilometrosFin&&b.kilometrosInicio?b.kilometrosFin-b.kilometrosInicio:null;return u.jsx($o,{className:"p-3 text-sm",children:u.jsx("div",{className:"flex justify-between items-start mb-2",children:u.jsxs("div",{className:"flex-1",children:[u.jsxs("p",{className:"font-semibold text-zinc-100 mb-1",children:["Inicio: ",r(b.fechaInicio)]}),b.fechaFin&&u.jsxs("p",{className:"text-zinc-400 text-xs mb-1",children:["Fin: ",r(b.fechaFin)]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-zinc-500 text-xs",children:"Kms"}),u.jsxs("p",{className:"text-zinc-300 text-sm font-medium",children:[b.kilometrosInicio," ",b.kilometrosFin?` ${b.kilometrosFin}`:""]}),E!==null&&u.jsxs("p",{className:"text-zinc-500 text-xs",children:["(",E," km)"]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-zinc-500 text-xs",children:"Total"}),u.jsxs("p",{className:"text-emerald-400 text-sm font-bold",children:[A.toFixed(2),""]})]})]})]})})},b.id)})}),t==="carreras"&&u.jsx(u.Fragment,{children:l.length===0?u.jsx($o,{className:"p-4 text-center text-zinc-400",children:"No hay carreras en el histrico"}):l.slice(0,100).map(b=>{const A=b.fechaHora.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),E=b.cobrado-b.taximetro;return u.jsx($o,{className:"p-3 text-sm",children:u.jsx("div",{className:"flex justify-between items-start",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-zinc-100 mb-1",children:A}),u.jsxs("div",{className:"flex gap-4 mt-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-zinc-500 text-xs",children:"Taxmetro"}),u.jsxs("p",{className:"text-zinc-300 text-sm font-medium",children:[b.taximetro.toFixed(2),""]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-zinc-500 text-xs",children:"Cobrado"}),u.jsxs("p",{className:"text-emerald-400 text-sm font-bold",children:[b.cobrado.toFixed(2),""]})]}),E>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-zinc-500 text-xs",children:"Propina"}),u.jsxs("p",{className:"text-pink-400 text-sm font-medium",children:["+",E.toFixed(2),""]})]})]}),u.jsxs("div",{className:"flex gap-2 mt-2",children:[u.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${b.formaPago==="Efectivo"?"bg-green-900/50 text-green-300":b.formaPago==="Tarjeta"?"bg-blue-900/50 text-blue-300":b.formaPago==="Bizum"?"bg-purple-900/50 text-purple-300":"bg-yellow-900/50 text-yellow-300"}`,children:b.formaPago}),b.emisora&&u.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-pink-900/50 text-pink-300",children:"Emisora"}),b.aeropuerto&&u.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-900/50 text-blue-300",children:"Aeropuerto"})]})]})})},b.id)})}),t==="gastos"&&u.jsx(u.Fragment,{children:d.length===0?u.jsx($o,{className:"p-4 text-center text-zinc-400",children:"No hay gastos en el histrico"}):d.slice(0,100).map(b=>{const A=b.fecha.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});return u.jsx($o,{className:"p-3 text-sm",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-semibold text-zinc-100 mb-1",children:A}),b.concepto&&u.jsx("p",{className:"text-zinc-400 text-xs mb-1",children:b.concepto}),b.proveedor&&u.jsxs("p",{className:"text-zinc-500 text-xs",children:["Proveedor: ",b.proveedor]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-red-400 text-sm font-bold",children:["-",b.importe.toFixed(2),""]}),b.formaPago&&u.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:b.formaPago})]})]})},b.id)})})]})]})},RO=e=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),u.jsx("line",{x1:"9",y1:"14",x2:"9",y2:"14",strokeWidth:"3"})]}),E3=e=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),u.jsx("line",{x1:"8",y1:"14",x2:"8",y2:"14",strokeWidth:"2"}),u.jsx("line",{x1:"12",y1:"14",x2:"12",y2:"14",strokeWidth:"2"}),u.jsx("line",{x1:"16",y1:"14",x2:"16",y2:"14",strokeWidth:"2"}),u.jsx("line",{x1:"8",y1:"18",x2:"8",y2:"18",strokeWidth:"2"}),u.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18",strokeWidth:"2"}),u.jsx("line",{x1:"16",y1:"18",x2:"16",y2:"18",strokeWidth:"2"})]}),MO=e=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[u.jsx("rect",{x:"3",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"3",width:"7",height:"7"}),u.jsx("rect",{x:"3",y:"14",width:"7",height:"7"}),u.jsx("rect",{x:"14",y:"14",width:"7",height:"7"})]}),zO=e=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[u.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),u.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),u.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),u.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"}),u.jsx("rect",{x:"4",y:"4",width:"4",height:"4",fill:"currentColor",opacity:"0.3"})]}),IO=({navigateTo:e})=>{const t=({title:n,description:r,onClick:a,Icon:s})=>u.jsxs("button",{type:"button",onClick:a,className:"w-full text-left bg-zinc-900 border border-zinc-800 rounded-xl px-4 py-3 flex items-center gap-3 transition-all hover:border-cyan-400 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[u.jsx("span",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-zinc-800/70 text-cyan-400",children:u.jsx(s,{className:"w-5 h-5"})}),u.jsxs("span",{className:"flex-1 space-y-1",children:[u.jsx("span",{className:"block text-zinc-100 font-semibold text-base leading-tight",children:n}),r&&u.jsx("span",{className:"block text-zinc-400 text-sm leading-snug",children:r})]})]});return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 font-sans px-3 py-4 space-y-6",children:[u.jsx(Da,{title:"Resmenes",navigateTo:e,backTarget:mt.Home}),u.jsx("section",{className:"space-y-4",children:u.jsxs("div",{className:"space-y-3",children:[u.jsx(t,{title:"Resumen Diario",onClick:()=>e(mt.ResumenDiario),Icon:RO}),u.jsx(t,{title:"Resumen Mensual",onClick:()=>e(mt.ResumenMensualIngresos),Icon:E3}),u.jsx(t,{title:"Resumen Mensual Detallado",onClick:()=>e(mt.ResumenMensualDetallado),Icon:MO}),u.jsx(t,{title:"Resumen de Gastos Mensual",onClick:()=>e(mt.ResumenGastosMensual),Icon:E3}),u.jsx(t,{title:"Resumen Anual",onClick:()=>e(mt.ResumenMensual),Icon:zO})]})})]})},PO=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),BO=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),UO=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),HO=({navigateTo:e})=>{const[t,n]=W.useState(new Date),[r,a]=W.useState([]),[s,l]=W.useState([]),[c,d]=W.useState(0),[h,m]=W.useState(!0);W.useEffect(()=>{(async()=>{try{m(!0);const[R,q,Z]=await Promise.all([U_(t),Q0(t),Lp(t)]);a(R),l(q),d(Z)}catch(R){console.error("Error loading daily summary:",R)}finally{m(!1)}})()},[t]);const v=W.useMemo(()=>[...r].sort((R,q)=>new Date(R.fechaInicio).getTime()-new Date(q.fechaInicio).getTime()).map((R,q)=>{const Z=s.filter(H=>{if(H.turnoId)return H.turnoId===R.id;const V=new Date(H.fechaHora),ae=new Date(R.fechaInicio),ce=R.fechaFin?new Date(R.fechaFin):new Date;return V>=ae&&V<=ce}),I=Z.reduce((H,V)=>H+(V.cobrado||0),0),Y=Z.filter(H=>H.formaPago==="Tarjeta").length,P=Z.filter(H=>H.emisora===!0).length,Q=Z.filter(H=>H.formaPago==="Tarjeta").reduce((H,V)=>H+(V.cobrado||0),0),O=Z.filter(H=>H.emisora===!0).reduce((H,V)=>H+(V.cobrado||0),0),G=Z.filter(H=>H.formaPago==="Vales").length,K=Z.filter(H=>H.formaPago==="Vales").reduce((H,V)=>H+(V.cobrado||0),0),X=R.numero??q+1;return{...R,total:I,carreras:Z.length,cTarjeta:Y,cEmisora:P,sumaTarjetas:Q,sumaEmisora:O,cVales:G,sumaVales:K,turnoIndex:X,kmTotal:R.kilometrosFin&&R.kilometrosInicio?R.kilometrosFin-R.kilometrosInicio:0,horasTotal:(()=>{if(!R.fechaFin)return"En curso";const H=new Date(R.fechaFin).getTime()-new Date(R.fechaInicio).getTime(),V=Math.floor(H/(1e3*60*60)),ae=Math.floor(H%(1e3*60*60)/(1e3*60));return`${V}h ${ae}m`})()}}),[r,s]),y=W.useMemo(()=>{const j=s.reduce((R,q)=>R+(q.cobrado||0),0);return{ingresos:j,gastos:c||0,balance:j-(c||0)}},[s,c]),g=W.useMemo(()=>{const j=t.getFullYear(),R=String(t.getMonth()+1).padStart(2,"0"),q=String(t.getDate()).padStart(2,"0");return`${j}-${R}-${q}`},[t]);W.useMemo(()=>y.balance>=0?"text-emerald-300":"text-rose-300",[y.balance]);const T=j=>j.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),b=j=>{const R=new Date(t);R.setDate(R.getDate()+j),n(R),n(R)},A=j=>j?j.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"",E=W.useRef(null),D=()=>{E.current&&(typeof E.current.showPicker=="function"?E.current.showPicker():(E.current.focus(),E.current.click()))};return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 font-sans px-3 py-4 space-y-3",children:[u.jsx("div",{className:"relative",children:u.jsx(Da,{title:"Resumen Diario",navigateTo:e,backTarget:mt.Resumen,className:"mb-3",rightSlot:u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",onClick:D,className:"p-1.5 text-zinc-900 hover:text-zinc-700 transition-colors rounded","aria-label":"Seleccionar fecha",children:u.jsx(PO,{})}),u.jsx("input",{ref:E,type:"date",value:g,onChange:j=>{j.target.value&&n(new Date(`${j.target.value}T00:00:00`))},className:"absolute top-0 left-0 w-full h-full opacity-0 cursor-pointer -z-10",style:{visibility:"hidden",position:"absolute"}})]})})}),u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl py-1.5 px-3 flex items-center justify-between",children:[u.jsx("button",{onClick:()=>b(-1),className:"text-zinc-100 hover:bg-zinc-800 rounded p-1",children:u.jsx(BO,{})}),u.jsx("span",{className:"text-zinc-100 font-medium",children:T(t)}),u.jsx("button",{onClick:()=>b(1),className:"text-zinc-100 hover:bg-zinc-800 rounded p-1",children:u.jsx(UO,{})})]}),h?u.jsx("div",{className:"text-center p-8 text-zinc-400",children:"Cargando..."}):u.jsxs(u.Fragment,{children:[v.map(j=>u.jsxs("div",{className:"bg-blue-900 rounded-lg p-4 relative",children:[u.jsx("div",{className:"flex justify-center mb-2",children:u.jsx("div",{className:"bg-white rounded px-3 py-1 border border-blue-900",children:u.jsxs("span",{className:"text-blue-900 text-sm font-bold",children:["Turno ",j.turnoIndex||1]})})}),u.jsxs("div",{className:"space-y-1.5 text-white text-sm",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Carreras:"}),u.jsx("span",{className:"font-semibold",children:j.carreras})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"C. Tarjeta:"}),u.jsx("span",{className:"font-semibold",children:j.cTarjeta})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"C. Emisora:"}),u.jsx("span",{className:"font-semibold",children:j.cEmisora})]}),j.cVales>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"C. Vales:"}),u.jsx("span",{className:"font-semibold",children:j.cVales})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Suma Tarjetas:"}),u.jsx("span",{className:"font-semibold",children:j.sumaTarjetas.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Suma Emisora:"}),u.jsx("span",{className:"font-semibold",children:j.sumaEmisora.toFixed(2)})]}),j.cVales>0&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Suma Vales:"}),u.jsx("span",{className:"font-semibold",children:j.sumaVales.toFixed(2)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Km inicial:"}),u.jsx("span",{className:"font-semibold",children:j.kilometrosInicio})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Km final:"}),u.jsx("span",{className:"font-semibold",children:j.kilometrosFin||0})]}),u.jsxs("div",{className:"flex justify-between text-emerald-300",children:[u.jsx("span",{children:"Km Total:"}),u.jsxs("span",{className:"font-semibold",children:[j.kmTotal," km"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Hora Inicio:"}),u.jsx("span",{className:"font-semibold",children:A(j.fechaInicio)})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:"Hora Fin:"}),u.jsx("span",{className:"font-semibold",children:A(j.fechaFin)})]}),u.jsxs("div",{className:"flex justify-between text-emerald-300",children:[u.jsx("span",{children:"Horas Total:"}),u.jsx("span",{className:"font-semibold",children:j.horasTotal})]})]}),u.jsx("div",{className:"mt-2 bg-white rounded border border-blue-900 p-2",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-blue-900 font-bold",children:"TOTAL"}),u.jsx("span",{className:"text-blue-900 font-bold",children:j.total.toFixed(2)})]})})]},j.id)),v.length>0&&u.jsx("div",{className:"bg-blue-900 rounded-lg p-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-white font-bold",children:"TOTAL DA"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("span",{className:"text-white font-semibold",children:y.ingresos.toFixed(2)}),u.jsx("span",{className:"text-red-300 font-semibold",children:y.gastos.toFixed(2)}),u.jsx("span",{className:"text-white font-semibold",children:y.balance.toFixed(2)})]})]})})]})]})};function Dr(e){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dr(e)}var tl=Uint8Array,Hs=Uint16Array,C5=Int32Array,j5=new tl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),D5=new tl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C3=new tl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),RT=function(e,t){for(var n=new Hs(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var a=new C5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return{b:n,r:a}},MT=RT(j5,2),VO=MT.b,dv=MT.r;VO[28]=258,dv[258]=28;var GO=RT(D5,0),j3=GO.r,mv=new Hs(32768);for(var Jr=0;Jr<32768;++Jr){var cu=(Jr&43690)>>1|(Jr&21845)<<1;cu=(cu&52428)>>2|(cu&13107)<<2,cu=(cu&61680)>>4|(cu&3855)<<4,mv[Jr]=((cu&65280)>>8|(cu&255)<<8)>>1}var pd=(function(e,t,n){for(var r=e.length,a=0,s=new Hs(t);a<r;++a)e[a]&&++s[e[a]-1];var l=new Hs(t);for(a=1;a<t;++a)l[a]=l[a-1]+s[a-1]<<1;var c;if(n){c=new Hs(1<<t);var d=15-t;for(a=0;a<r;++a)if(e[a])for(var h=a<<4|e[a],m=t-e[a],v=l[e[a]-1]++<<m,y=v|(1<<m)-1;v<=y;++v)c[mv[v]>>d]=h}else for(c=new Hs(r),a=0;a<r;++a)e[a]&&(c[a]=mv[l[e[a]-1]++]>>15-e[a]);return c}),xf=new tl(288);for(var Jr=0;Jr<144;++Jr)xf[Jr]=8;for(var Jr=144;Jr<256;++Jr)xf[Jr]=9;for(var Jr=256;Jr<280;++Jr)xf[Jr]=7;for(var Jr=280;Jr<288;++Jr)xf[Jr]=8;var sp=new tl(32);for(var Jr=0;Jr<32;++Jr)sp[Jr]=5;var qO=pd(xf,9,0),WO=pd(sp,5,0),zT=function(e){return(e+7)/8|0},$O=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new tl(e.subarray(t,n))},hc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},rd=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},J2=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return{t:PT,l:0};if(a==1){var l=new tl(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(q,Z){return q.f-Z.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],h=0,m=1,v=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};m!=a-1;)c=n[n[h].f<n[v].f?h++:v++],d=n[h!=m&&n[h].f<n[v].f?h++:v++],n[m++]={s:-1,f:c.f+d.f,l:c,r:d};for(var y=s[0].s,r=1;r<a;++r)s[r].s>y&&(y=s[r].s);var g=new Hs(y+1),T=pv(n[m-1],g,0);if(T>t){var r=0,b=0,A=T-t,E=1<<A;for(s.sort(function(Z,I){return g[I.s]-g[Z.s]||Z.f-I.f});r<a;++r){var D=s[r].s;if(g[D]>t)b+=E-(1<<T-g[D]),g[D]=t;else break}for(b>>=A;b>0;){var j=s[r].s;g[j]<t?b-=1<<t-g[j]++-1:++r}for(;r>=0&&b;--r){var R=s[r].s;g[R]==t&&(--g[R],++b)}T=t}return{t:new tl(g),l:T}},pv=function(e,t,n){return e.s==-1?Math.max(pv(e.l,t,n+1),pv(e.r,t,n+1)):t[e.s]=n},D3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Hs(++t),r=0,a=e[0],s=1,l=function(d){n[r++]=d},c=1;c<=t;++c)if(e[c]==a&&c!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(a),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(a);s=1,a=e[c]}return{c:n.subarray(0,r),n:t}},ad=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},IT=function(e,t,n){var r=n.length,a=zT(t+2);e[a]=r&255,e[a+1]=r>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<r;++s)e[a+s+4]=n[s];return(a+4+r)*8},k3=function(e,t,n,r,a,s,l,c,d,h,m){hc(t,m++,n),++a[256];for(var v=J2(a,15),y=v.t,g=v.l,T=J2(s,15),b=T.t,A=T.l,E=D3(y),D=E.c,j=E.n,R=D3(b),q=R.c,Z=R.n,I=new Hs(19),Y=0;Y<D.length;++Y)++I[D[Y]&31];for(var Y=0;Y<q.length;++Y)++I[q[Y]&31];for(var P=J2(I,7),Q=P.t,O=P.l,G=19;G>4&&!Q[C3[G-1]];--G);var K=h+5<<3,X=ad(a,xf)+ad(s,sp)+l,H=ad(a,y)+ad(s,b)+l+14+3*G+ad(I,Q)+2*I[16]+3*I[17]+7*I[18];if(d>=0&&K<=X&&K<=H)return IT(t,m,e.subarray(d,d+h));var V,ae,ce,le;if(hc(t,m,1+(H<X)),m+=2,H<X){V=pd(y,g,0),ae=y,ce=pd(b,A,0),le=b;var me=pd(Q,O,0);hc(t,m,j-257),hc(t,m+5,Z-1),hc(t,m+10,G-4),m+=14;for(var Y=0;Y<G;++Y)hc(t,m+3*Y,Q[C3[Y]]);m+=3*G;for(var M=[D,q],N=0;N<2;++N)for(var F=M[N],Y=0;Y<F.length;++Y){var L=F[Y]&31;hc(t,m,me[L]),m+=Q[L],L>15&&(hc(t,m,F[Y]>>5&127),m+=F[Y]>>12)}}else V=qO,ae=xf,ce=WO,le=sp;for(var Y=0;Y<c;++Y){var B=r[Y];if(B>255){var L=B>>18&31;rd(t,m,V[L+257]),m+=ae[L+257],L>7&&(hc(t,m,B>>23&31),m+=j5[L]);var te=B&31;rd(t,m,ce[te]),m+=le[te],te>3&&(rd(t,m,B>>5&8191),m+=D5[te])}else rd(t,m,V[B]),m+=ae[B]}return rd(t,m,V[256]),m+ae[256]},YO=new C5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PT=new tl(0),KO=function(e,t,n,r,a,s){var l=s.z||e.length,c=new tl(r+l+5*(1+Math.ceil(l/7e3))+a),d=c.subarray(r,c.length-a),h=s.l,m=(s.r||0)&7;if(t){m&&(d[0]=s.r>>3);for(var v=YO[t-1],y=v>>13,g=v&8191,T=(1<<n)-1,b=s.p||new Hs(32768),A=s.h||new Hs(T+1),E=Math.ceil(n/3),D=2*E,j=function(Te){return(e[Te]^e[Te+1]<<E^e[Te+2]<<D)&T},R=new C5(25e3),q=new Hs(288),Z=new Hs(32),I=0,Y=0,P=s.i||0,Q=0,O=s.w||0,G=0;P+2<l;++P){var K=j(P),X=P&32767,H=A[K];if(b[X]=H,A[K]=X,O<=P){var V=l-P;if((I>7e3||Q>24576)&&(V>423||!h)){m=k3(e,d,0,R,q,Z,Y,Q,G,P-G,m),Q=I=Y=0,G=P;for(var ae=0;ae<286;++ae)q[ae]=0;for(var ae=0;ae<30;++ae)Z[ae]=0}var ce=2,le=0,me=g,M=X-H&32767;if(V>2&&K==j(P-M))for(var N=Math.min(y,V)-1,F=Math.min(32767,P),L=Math.min(258,V);M<=F&&--me&&X!=H;){if(e[P+ce]==e[P+ce-M]){for(var B=0;B<L&&e[P+B]==e[P+B-M];++B);if(B>ce){if(ce=B,le=M,B>N)break;for(var te=Math.min(M,B-2),de=0,ae=0;ae<te;++ae){var Ne=P-M+ae&32767,se=b[Ne],ve=Ne-se&32767;ve>de&&(de=ve,H=Ne)}}}X=H,H=b[X],M+=X-H&32767}if(le){R[Q++]=268435456|dv[ce]<<18|j3[le];var je=dv[ce]&31,ke=j3[le]&31;Y+=j5[je]+D5[ke],++q[257+je],++Z[ke],O=P+ce,++I}else R[Q++]=e[P],++q[e[P]]}}for(P=Math.max(P,O);P<l;++P)R[Q++]=e[P],++q[e[P]];m=k3(e,d,h,R,q,Z,Y,Q,G,P-G,m),h||(s.r=m&7|d[m/8|0]<<3,m-=7,s.h=A,s.p=b,s.i=P,s.w=O)}else{for(var P=s.w||0;P<l+h;P+=65535){var Ge=P+65535;Ge>=l&&(d[m/8|0]=h,Ge=l),m=IT(d,m+1,e.subarray(P,Ge))}s.i=l}return $O(c,0,r+zT(m)+a)},BT=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,s=n.length|0,l=0;l!=s;){for(var c=Math.min(l+2655,s);l<c;++l)a+=r+=n[l];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}e=r,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},XO=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),l=new tl(s.length+e.length);l.set(s),l.set(e,s.length),e=l,a.w=s.length}return KO(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,a)},UT=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},ZO=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=BT();a.p(t.dictionary),UT(e,2,a.d())}};function gv(e,t){t||(t={});var n=BT();n.p(e);var r=XO(e,t,t.dictionary?6:2,4);return ZO(r,t),UT(r,r.length-4,n.d()),r}var JO=typeof TextDecoder<"u"&&new TextDecoder,QO=0;try{JO.decode(PT,{stream:!0}),QO=1}catch{}function eR(e){if(Array.isArray(e))return e}function tR(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,s,l,c=[],d=!0,h=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(d=(r=s.call(n)).done)&&(c.push(r.value),c.length!==t);d=!0);}catch(m){h=!0,a=m}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function L3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nR(e,t){if(e){if(typeof e=="string")return L3(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L3(e,t):void 0}}function rR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F3(e,t){return eR(e)||tR(e,t)||nR(e,t)||rR()}function O3(e,t="utf8"){return new TextDecoder(t).decode(e)}const aR=new TextEncoder;function iR(e){return aR.encode(e)}const sR=1024*8,oR=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),Q2={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class k5{constructor(t=sR,n={}){Er(this,"buffer");Er(this,"byteLength");Er(this,"byteOffset");Er(this,"length");Er(this,"offset");Er(this,"lastWrittenByte");Er(this,"littleEndian");Er(this,"_data");Er(this,"_mark");Er(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const a=n.offset?n.offset>>>0:0,s=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof k5)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,a=new Uint8Array(r);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=Q2[n].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+r);if(this.littleEndian===oR&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+r));c.reverse();const d=new Q2[n](c.buffer);return this.offset+=r,d.reverse(),d}const l=new Q2[n](s);return this.offset+=r,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return O3(this.readBytes(t))}decodeText(t=1,n="utf8"){return O3(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(iR(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function lh(e){let t=e.length;for(;--t>=0;)e[t]=0}const lR=3,cR=258,HT=29,uR=256,fR=uR+1+HT,VT=30,hR=512,dR=new Array((fR+2)*2);lh(dR);const mR=new Array(VT*2);lh(mR);const pR=new Array(hR);lh(pR);const gR=new Array(cR-lR+1);lh(gR);const xR=new Array(HT);lh(xR);const vR=new Array(VT);lh(vR);const yR=(e,t,n,r)=>{let a=e&65535|0,s=e>>>16&65535|0,l=0;for(;n!==0;){l=n>2e3?2e3:n,n-=l;do a=a+t[r++]|0,s=s+a|0;while(--l);a%=65521,s%=65521}return a|s<<16|0};var xv=yR;const bR=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},wR=new Uint32Array(bR()),SR=(e,t,n,r)=>{const a=wR,s=r+n;e^=-1;for(let l=r;l<s;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var _l=SR,vv={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},GT={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const NR=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var _R=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)NR(n,r)&&(e[r]=n[r])}}return e},TR=e=>{let t=0;for(let r=0,a=e.length;r<a;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,a=0,s=e.length;r<s;r++){let l=e[r];n.set(l,a),a+=l.length}return n},qT={assign:_R,flattenChunks:TR};let WT=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{WT=!1}const Gd=new Uint8Array(256);for(let e=0;e<256;e++)Gd[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Gd[254]=Gd[254]=1;var AR=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,a,s,l=e.length,c=0;for(a=0;a<l;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<l&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),s=0,a=0;s<c;a++)n=e.charCodeAt(a),(n&64512)===55296&&a+1<l&&(r=e.charCodeAt(a+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),a++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const ER=(e,t)=>{if(t<65534&&e.subarray&&WT)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var CR=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,a;const s=new Array(n*2);for(a=0,r=0;r<n;){let l=e[r++];if(l<128){s[a++]=l;continue}let c=Gd[l];if(c>4){s[a++]=65533,r+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&r<n;)l=l<<6|e[r++]&63,c--;if(c>1){s[a++]=65533;continue}l<65536?s[a++]=l:(l-=65536,s[a++]=55296|l>>10&1023,s[a++]=56320|l&1023)}return ER(s,a)},jR=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Gd[e[n]]>t?n:t},yv={string2buf:AR,buf2string:CR,utf8border:jR};function DR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kR=DR;const pm=16209,LR=16191;var FR=function(t,n){let r,a,s,l,c,d,h,m,v,y,g,T,b,A,E,D,j,R,q,Z,I,Y,P,Q;const O=t.state;r=t.next_in,P=t.input,a=r+(t.avail_in-5),s=t.next_out,Q=t.output,l=s-(n-t.avail_out),c=s+(t.avail_out-257),d=O.dmax,h=O.wsize,m=O.whave,v=O.wnext,y=O.window,g=O.hold,T=O.bits,b=O.lencode,A=O.distcode,E=(1<<O.lenbits)-1,D=(1<<O.distbits)-1;e:do{T<15&&(g+=P[r++]<<T,T+=8,g+=P[r++]<<T,T+=8),j=b[g&E];t:for(;;){if(R=j>>>24,g>>>=R,T-=R,R=j>>>16&255,R===0)Q[s++]=j&65535;else if(R&16){q=j&65535,R&=15,R&&(T<R&&(g+=P[r++]<<T,T+=8),q+=g&(1<<R)-1,g>>>=R,T-=R),T<15&&(g+=P[r++]<<T,T+=8,g+=P[r++]<<T,T+=8),j=A[g&D];n:for(;;){if(R=j>>>24,g>>>=R,T-=R,R=j>>>16&255,R&16){if(Z=j&65535,R&=15,T<R&&(g+=P[r++]<<T,T+=8,T<R&&(g+=P[r++]<<T,T+=8)),Z+=g&(1<<R)-1,Z>d){t.msg="invalid distance too far back",O.mode=pm;break e}if(g>>>=R,T-=R,R=s-l,Z>R){if(R=Z-R,R>m&&O.sane){t.msg="invalid distance too far back",O.mode=pm;break e}if(I=0,Y=y,v===0){if(I+=h-R,R<q){q-=R;do Q[s++]=y[I++];while(--R);I=s-Z,Y=Q}}else if(v<R){if(I+=h+v-R,R-=v,R<q){q-=R;do Q[s++]=y[I++];while(--R);if(I=0,v<q){R=v,q-=R;do Q[s++]=y[I++];while(--R);I=s-Z,Y=Q}}}else if(I+=v-R,R<q){q-=R;do Q[s++]=y[I++];while(--R);I=s-Z,Y=Q}for(;q>2;)Q[s++]=Y[I++],Q[s++]=Y[I++],Q[s++]=Y[I++],q-=3;q&&(Q[s++]=Y[I++],q>1&&(Q[s++]=Y[I++]))}else{I=s-Z;do Q[s++]=Q[I++],Q[s++]=Q[I++],Q[s++]=Q[I++],q-=3;while(q>2);q&&(Q[s++]=Q[I++],q>1&&(Q[s++]=Q[I++]))}}else if((R&64)===0){j=A[(j&65535)+(g&(1<<R)-1)];continue n}else{t.msg="invalid distance code",O.mode=pm;break e}break}}else if((R&64)===0){j=b[(j&65535)+(g&(1<<R)-1)];continue t}else if(R&32){O.mode=LR;break e}else{t.msg="invalid literal/length code",O.mode=pm;break e}break}}while(r<a&&s<c);q=T>>3,r-=q,T-=q<<3,g&=(1<<T)-1,t.next_in=r,t.next_out=s,t.avail_in=r<a?5+(a-r):5-(r-a),t.avail_out=s<c?257+(c-s):257-(s-c),O.hold=g,O.bits=T};const x0=15,R3=852,M3=592,z3=0,ex=1,I3=2,OR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RR=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),zR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),IR=(e,t,n,r,a,s,l,c)=>{const d=c.bits;let h=0,m=0,v=0,y=0,g=0,T=0,b=0,A=0,E=0,D=0,j,R,q,Z,I,Y=null,P;const Q=new Uint16Array(x0+1),O=new Uint16Array(x0+1);let G=null,K,X,H;for(h=0;h<=x0;h++)Q[h]=0;for(m=0;m<r;m++)Q[t[n+m]]++;for(g=d,y=x0;y>=1&&Q[y]===0;y--);if(g>y&&(g=y),y===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,c.bits=1,0;for(v=1;v<y&&Q[v]===0;v++);for(g<v&&(g=v),A=1,h=1;h<=x0;h++)if(A<<=1,A-=Q[h],A<0)return-1;if(A>0&&(e===z3||y!==1))return-1;for(O[1]=0,h=1;h<x0;h++)O[h+1]=O[h]+Q[h];for(m=0;m<r;m++)t[n+m]!==0&&(l[O[t[n+m]]++]=m);if(e===z3?(Y=G=l,P=20):e===ex?(Y=OR,G=RR,P=257):(Y=MR,G=zR,P=0),D=0,m=0,h=v,I=s,T=g,b=0,q=-1,E=1<<g,Z=E-1,e===ex&&E>R3||e===I3&&E>M3)return 1;for(;;){K=h-b,l[m]+1<P?(X=0,H=l[m]):l[m]>=P?(X=G[l[m]-P],H=Y[l[m]-P]):(X=96,H=0),j=1<<h-b,R=1<<T,v=R;do R-=j,a[I+(D>>b)+R]=K<<24|X<<16|H|0;while(R!==0);for(j=1<<h-1;D&j;)j>>=1;if(j!==0?(D&=j-1,D+=j):D=0,m++,--Q[h]===0){if(h===y)break;h=t[n+l[m]]}if(h>g&&(D&Z)!==q){for(b===0&&(b=g),I+=v,T=h-b,A=1<<T;T+b<y&&(A-=Q[T+b],!(A<=0));)T++,A<<=1;if(E+=1<<T,e===ex&&E>R3||e===I3&&E>M3)return 1;q=D&Z,a[q]=g<<24|T<<16|I-s|0}}return D!==0&&(a[I+D]=h-b<<24|64<<16|0),c.bits=g,0};var gd=IR;const PR=0,$T=1,YT=2,{Z_FINISH:P3,Z_BLOCK:BR,Z_TREES:gm,Z_OK:vf,Z_STREAM_END:UR,Z_NEED_DICT:HR,Z_STREAM_ERROR:go,Z_DATA_ERROR:KT,Z_MEM_ERROR:XT,Z_BUF_ERROR:VR,Z_DEFLATED:B3}=GT,Mp=16180,U3=16181,H3=16182,V3=16183,G3=16184,q3=16185,W3=16186,$3=16187,Y3=16188,K3=16189,op=16190,dc=16191,tx=16192,X3=16193,nx=16194,Z3=16195,J3=16196,Q3=16197,eS=16198,xm=16199,vm=16200,tS=16201,nS=16202,rS=16203,aS=16204,iS=16205,rx=16206,sS=16207,oS=16208,ia=16209,ZT=16210,JT=16211,GR=852,qR=592,WR=15,$R=WR,lS=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function YR(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Mp||t.mode>JT?1:0},QT=e=>{if(Nf(e))return go;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Mp,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(GR),t.distcode=t.distdyn=new Int32Array(qR),t.sane=1,t.back=-1,vf},eA=e=>{if(Nf(e))return go;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,QT(e)},tA=(e,t)=>{let n;if(Nf(e))return go;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?go:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,eA(e))},nA=(e,t)=>{if(!e)return go;const n=new YR;e.state=n,n.strm=e,n.window=null,n.mode=Mp;const r=tA(e,t);return r!==vf&&(e.state=null),r},KR=e=>nA(e,$R);let cS=!0,ax,ix;const XR=e=>{if(cS){ax=new Int32Array(512),ix=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(gd($T,e.lens,0,288,ax,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;gd(YT,e.lens,0,32,ix,0,e.work,{bits:5}),cS=!1}e.lencode=ax,e.lenbits=9,e.distcode=ix,e.distbits=5},rA=(e,t,n,r)=>{let a;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>r&&(a=r),s.window.set(t.subarray(n-r,n-r+a),s.wnext),r-=a,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},ZR=(e,t)=>{let n,r,a,s,l,c,d,h,m,v,y,g,T,b,A=0,E,D,j,R,q,Z,I,Y;const P=new Uint8Array(4);let Q,O;const G=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nf(e)||!e.output||!e.input&&e.avail_in!==0)return go;n=e.state,n.mode===dc&&(n.mode=tx),l=e.next_out,a=e.output,d=e.avail_out,s=e.next_in,r=e.input,c=e.avail_in,h=n.hold,m=n.bits,v=c,y=d,Y=vf;e:for(;;)switch(n.mode){case Mp:if(n.wrap===0){n.mode=tx;break}for(;m<16;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,P[0]=h&255,P[1]=h>>>8&255,n.check=_l(n.check,P,2,0),h=0,m=0,n.mode=U3;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=ia;break}if((h&15)!==B3){e.msg="unknown compression method",n.mode=ia;break}if(h>>>=4,m-=4,I=(h&15)+8,n.wbits===0&&(n.wbits=I),I>15||I>n.wbits){e.msg="invalid window size",n.mode=ia;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=h&512?K3:dc,h=0,m=0;break;case U3:for(;m<16;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(n.flags=h,(n.flags&255)!==B3){e.msg="unknown compression method",n.mode=ia;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=ia;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,n.check=_l(n.check,P,2,0)),h=0,m=0,n.mode=H3;case H3:for(;m<32;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,P[2]=h>>>16&255,P[3]=h>>>24&255,n.check=_l(n.check,P,4,0)),h=0,m=0,n.mode=V3;case V3:for(;m<16;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,n.check=_l(n.check,P,2,0)),h=0,m=0,n.mode=G3;case G3:if(n.flags&1024){for(;m<16;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(P[0]=h&255,P[1]=h>>>8&255,n.check=_l(n.check,P,2,0)),h=0,m=0}else n.head&&(n.head.extra=null);n.mode=q3;case q3:if(n.flags&1024&&(g=n.length,g>c&&(g=c),g&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+g),I)),n.flags&512&&n.wrap&4&&(n.check=_l(n.check,r,g,s)),c-=g,s+=g,n.length-=g),n.length))break e;n.length=0,n.mode=W3;case W3:if(n.flags&2048){if(c===0)break e;g=0;do I=r[s+g++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I));while(I&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=_l(n.check,r,g,s)),c-=g,s+=g,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=$3;case $3:if(n.flags&4096){if(c===0)break e;g=0;do I=r[s+g++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I));while(I&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=_l(n.check,r,g,s)),c-=g,s+=g,I)break e}else n.head&&(n.head.comment=null);n.mode=Y3;case Y3:if(n.flags&512){for(;m<16;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(n.wrap&4&&h!==(n.check&65535)){e.msg="header crc mismatch",n.mode=ia;break}h=0,m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=dc;break;case K3:for(;m<32;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}e.adler=n.check=lS(h),h=0,m=0,n.mode=op;case op:if(n.havedict===0)return e.next_out=l,e.avail_out=d,e.next_in=s,e.avail_in=c,n.hold=h,n.bits=m,HR;e.adler=n.check=1,n.mode=dc;case dc:if(t===BR||t===gm)break e;case tx:if(n.last){h>>>=m&7,m-=m&7,n.mode=rx;break}for(;m<3;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}switch(n.last=h&1,h>>>=1,m-=1,h&3){case 0:n.mode=X3;break;case 1:if(XR(n),n.mode=xm,t===gm){h>>>=2,m-=2;break e}break;case 2:n.mode=J3;break;case 3:e.msg="invalid block type",n.mode=ia}h>>>=2,m-=2;break;case X3:for(h>>>=m&7,m-=m&7;m<32;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if((h&65535)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ia;break}if(n.length=h&65535,h=0,m=0,n.mode=nx,t===gm)break e;case nx:n.mode=Z3;case Z3:if(g=n.length,g){if(g>c&&(g=c),g>d&&(g=d),g===0)break e;a.set(r.subarray(s,s+g),l),c-=g,s+=g,d-=g,l+=g,n.length-=g;break}n.mode=dc;break;case J3:for(;m<14;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(n.nlen=(h&31)+257,h>>>=5,m-=5,n.ndist=(h&31)+1,h>>>=5,m-=5,n.ncode=(h&15)+4,h>>>=4,m-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ia;break}n.have=0,n.mode=Q3;case Q3:for(;n.have<n.ncode;){for(;m<3;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}n.lens[G[n.have++]]=h&7,h>>>=3,m-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Q={bits:n.lenbits},Y=gd(PR,n.lens,0,19,n.lencode,0,n.work,Q),n.lenbits=Q.bits,Y){e.msg="invalid code lengths set",n.mode=ia;break}n.have=0,n.mode=eS;case eS:for(;n.have<n.nlen+n.ndist;){for(;A=n.lencode[h&(1<<n.lenbits)-1],E=A>>>24,D=A>>>16&255,j=A&65535,!(E<=m);){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(j<16)h>>>=E,m-=E,n.lens[n.have++]=j;else{if(j===16){for(O=E+2;m<O;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(h>>>=E,m-=E,n.have===0){e.msg="invalid bit length repeat",n.mode=ia;break}I=n.lens[n.have-1],g=3+(h&3),h>>>=2,m-=2}else if(j===17){for(O=E+3;m<O;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}h>>>=E,m-=E,I=0,g=3+(h&7),h>>>=3,m-=3}else{for(O=E+7;m<O;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}h>>>=E,m-=E,I=0,g=11+(h&127),h>>>=7,m-=7}if(n.have+g>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ia;break}for(;g--;)n.lens[n.have++]=I}}if(n.mode===ia)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=ia;break}if(n.lenbits=9,Q={bits:n.lenbits},Y=gd($T,n.lens,0,n.nlen,n.lencode,0,n.work,Q),n.lenbits=Q.bits,Y){e.msg="invalid literal/lengths set",n.mode=ia;break}if(n.distbits=6,n.distcode=n.distdyn,Q={bits:n.distbits},Y=gd(YT,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Q),n.distbits=Q.bits,Y){e.msg="invalid distances set",n.mode=ia;break}if(n.mode=xm,t===gm)break e;case xm:n.mode=vm;case vm:if(c>=6&&d>=258){e.next_out=l,e.avail_out=d,e.next_in=s,e.avail_in=c,n.hold=h,n.bits=m,FR(e,y),l=e.next_out,a=e.output,d=e.avail_out,s=e.next_in,r=e.input,c=e.avail_in,h=n.hold,m=n.bits,n.mode===dc&&(n.back=-1);break}for(n.back=0;A=n.lencode[h&(1<<n.lenbits)-1],E=A>>>24,D=A>>>16&255,j=A&65535,!(E<=m);){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(D&&(D&240)===0){for(R=E,q=D,Z=j;A=n.lencode[Z+((h&(1<<R+q)-1)>>R)],E=A>>>24,D=A>>>16&255,j=A&65535,!(R+E<=m);){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}h>>>=R,m-=R,n.back+=R}if(h>>>=E,m-=E,n.back+=E,n.length=j,D===0){n.mode=iS;break}if(D&32){n.back=-1,n.mode=dc;break}if(D&64){e.msg="invalid literal/length code",n.mode=ia;break}n.extra=D&15,n.mode=tS;case tS:if(n.extra){for(O=n.extra;m<O;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,m-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=nS;case nS:for(;A=n.distcode[h&(1<<n.distbits)-1],E=A>>>24,D=A>>>16&255,j=A&65535,!(E<=m);){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if((D&240)===0){for(R=E,q=D,Z=j;A=n.distcode[Z+((h&(1<<R+q)-1)>>R)],E=A>>>24,D=A>>>16&255,j=A&65535,!(R+E<=m);){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}h>>>=R,m-=R,n.back+=R}if(h>>>=E,m-=E,n.back+=E,D&64){e.msg="invalid distance code",n.mode=ia;break}n.offset=j,n.extra=D&15,n.mode=rS;case rS:if(n.extra){for(O=n.extra;m<O;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,m-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ia;break}n.mode=aS;case aS:if(d===0)break e;if(g=y-d,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ia;break}g>n.wnext?(g-=n.wnext,T=n.wsize-g):T=n.wnext-g,g>n.length&&(g=n.length),b=n.window}else b=a,T=l-n.offset,g=n.length;g>d&&(g=d),d-=g,n.length-=g;do a[l++]=b[T++];while(--g);n.length===0&&(n.mode=vm);break;case iS:if(d===0)break e;a[l++]=n.length,d--,n.mode=vm;break;case rx:if(n.wrap){for(;m<32;){if(c===0)break e;c--,h|=r[s++]<<m,m+=8}if(y-=d,e.total_out+=y,n.total+=y,n.wrap&4&&y&&(e.adler=n.check=n.flags?_l(n.check,a,y,l-y):xv(n.check,a,y,l-y)),y=d,n.wrap&4&&(n.flags?h:lS(h))!==n.check){e.msg="incorrect data check",n.mode=ia;break}h=0,m=0}n.mode=sS;case sS:if(n.wrap&&n.flags){for(;m<32;){if(c===0)break e;c--,h+=r[s++]<<m,m+=8}if(n.wrap&4&&h!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=ia;break}h=0,m=0}n.mode=oS;case oS:Y=UR;break e;case ia:Y=KT;break e;case ZT:return XT;case JT:default:return go}return e.next_out=l,e.avail_out=d,e.next_in=s,e.avail_in=c,n.hold=h,n.bits=m,(n.wsize||y!==e.avail_out&&n.mode<ia&&(n.mode<rx||t!==P3))&&rA(e,e.output,e.next_out,y-e.avail_out),v-=e.avail_in,y-=e.avail_out,e.total_in+=v,e.total_out+=y,n.total+=y,n.wrap&4&&y&&(e.adler=n.check=n.flags?_l(n.check,a,y,e.next_out-y):xv(n.check,a,y,e.next_out-y)),e.data_type=n.bits+(n.last?64:0)+(n.mode===dc?128:0)+(n.mode===xm||n.mode===nx?256:0),(v===0&&y===0||t===P3)&&Y===vf&&(Y=VR),Y},JR=e=>{if(Nf(e))return go;let t=e.state;return t.window&&(t.window=null),e.state=null,vf},QR=(e,t)=>{if(Nf(e))return go;const n=e.state;return(n.wrap&2)===0?go:(n.head=t,t.done=!1,vf)},eM=(e,t)=>{const n=t.length;let r,a,s;return Nf(e)||(r=e.state,r.wrap!==0&&r.mode!==op)?go:r.mode===op&&(a=1,a=xv(a,t,n,0),a!==r.check)?KT:(s=rA(e,t,n,n),s?(r.mode=ZT,XT):(r.havedict=1,vf))};var tM=eA,nM=tA,rM=QT,aM=KR,iM=nA,sM=ZR,oM=JR,lM=QR,cM=eM,uM="pako inflate (from Nodeca project)",gc={inflateReset:tM,inflateReset2:nM,inflateResetKeep:rM,inflateInit:aM,inflateInit2:iM,inflate:sM,inflateEnd:oM,inflateGetHeader:lM,inflateSetDictionary:cM,inflateInfo:uM};function fM(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hM=fM;const aA=Object.prototype.toString,{Z_NO_FLUSH:dM,Z_FINISH:mM,Z_OK:qd,Z_STREAM_END:sx,Z_NEED_DICT:ox,Z_STREAM_ERROR:pM,Z_DATA_ERROR:uS,Z_MEM_ERROR:gM}=GT;function c1(e){this.options=qT.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kR,this.strm.avail_out=0;let n=gc.inflateInit2(this.strm,t.windowBits);if(n!==qd)throw new Error(vv[n]);if(this.header=new hM,gc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=yv.string2buf(t.dictionary):aA.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=gc.inflateSetDictionary(this.strm,t.dictionary),n!==qd)))throw new Error(vv[n])}c1.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,a=this.options.dictionary;let s,l,c;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?mM:dM,aA.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=gc.inflate(n,l),s===ox&&a&&(s=gc.inflateSetDictionary(n,a),s===qd?s=gc.inflate(n,l):s===uS&&(s=ox));n.avail_in>0&&s===sx&&n.state.wrap>0&&e[n.next_in]!==0;)gc.inflateReset(n),s=gc.inflate(n,l);switch(s){case pM:case uS:case ox:case gM:return this.onEnd(s),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||s===sx))if(this.options.to==="string"){let d=yv.utf8border(n.output,n.next_out),h=n.next_out-d,m=yv.buf2string(n.output,d);n.next_out=h,n.avail_out=r-h,h&&n.output.set(n.output.subarray(d,d+h),0),this.onData(m)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===qd&&c===0)){if(s===sx)return s=gc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};c1.prototype.onData=function(e){this.chunks.push(e)};c1.prototype.onEnd=function(e){e===qd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qT.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function xM(e,t){const n=new c1(t);if(n.push(e),n.err)throw n.msg||vv[n.err];return n.result}var vM=c1,yM=xM,bM={Inflate:vM,inflate:yM};const{Inflate:wM,inflate:SM}=bM;var fS=wM,NM=SM;const iA=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;iA[e]=t}const hS=4294967295;function _M(e,t,n){let r=e;for(let a=0;a<n;a++)r=iA[(r^t[a])&255]^r>>>8;return r}function TM(e,t){return(_M(hS,e,t)^hS)>>>0}function dS(e,t,n){const r=e.readUint32(),a=TM(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${a}`)}function sA(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function oA(e,t,n,r){let a=0;for(;a<r;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-r]&255}function lA(e,t,n,r){let a=0;if(n.length===0)for(;a<r;a++)t[a]=e[a];else for(;a<r;a++)t[a]=e[a]+n[a]&255}function cA(e,t,n,r,a){let s=0;if(n.length===0){for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-a]+n[s]>>1)&255}}function uA(e,t,n,r,a){let s=0;if(n.length===0){for(;s<a;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+AM(t[s-a],n[s],n[s-a])&255}}function AM(e,t,n){const r=e+t-n,a=Math.abs(r-e),s=Math.abs(r-t),l=Math.abs(r-n);return a<=s&&a<=l?e:s<=l?t:n}function EM(e,t,n,r,a,s){switch(e){case 0:sA(t,n,a);break;case 1:oA(t,n,a,s);break;case 2:lA(t,n,r,a);break;case 3:cA(t,n,r,a,s);break;case 4:uA(t,n,r,a,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const CM=new Uint16Array([255]),jM=new Uint8Array(CM.buffer),DM=jM[0]===255;function kM(e){const{data:t,width:n,height:r,channels:a,depth:s}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(s/8)*a,d=new Uint8Array(r*n*c);let h=0;for(let m=0;m<7;m++){const v=l[m],y=Math.ceil((n-v.x)/v.xStep),g=Math.ceil((r-v.y)/v.yStep);if(y<=0||g<=0)continue;const T=y*c,b=new Uint8Array(T);for(let A=0;A<g;A++){const E=t[h++],D=t.subarray(h,h+T);h+=T;const j=new Uint8Array(T);EM(E,D,j,b,T,c),b.set(j);for(let R=0;R<y;R++){const q=v.x+R*v.xStep,Z=v.y+A*v.yStep;if(!(q>=n||Z>=r))for(let I=0;I<c;I++)d[(Z*n+q)*c+I]=j[R*c+I]}}}if(s===16){const m=new Uint16Array(d.buffer);if(DM)for(let v=0;v<m.length;v++)m[v]=LM(m[v]);return m}else return d}function LM(e){return(e&255)<<8|e>>8&255}const FM=new Uint16Array([255]),OM=new Uint8Array(FM.buffer),RM=OM[0]===255,MM=new Uint8Array(0);function mS(e){const{data:t,width:n,height:r,channels:a,depth:s}=e,l=Math.ceil(s/8)*a,c=Math.ceil(s/8*a*n),d=new Uint8Array(r*c);let h=MM,m=0,v,y;for(let g=0;g<r;g++){switch(v=t.subarray(m+1,m+1+c),y=d.subarray(g*c,(g+1)*c),t[m]){case 0:sA(v,y,c);break;case 1:oA(v,y,c,l);break;case 2:lA(v,y,h,c);break;case 3:cA(v,y,h,c,l);break;case 4:uA(v,y,h,c,l);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}h=y,m+=c+1}if(s===16){const g=new Uint16Array(d.buffer);if(RM)for(let T=0;T<g.length;T++)g[T]=zM(g[T]);return g}else return d}function zM(e){return(e&255)<<8|e>>8&255}const zm=Uint8Array.of(137,80,78,71,13,10,26,10);function pS(e){if(!IM(e.readBytes(zm.length)))throw new Error("wrong PNG signature")}function IM(e){if(e.length<zm.length)return!1;for(let t=0;t<zm.length;t++)if(e[t]!==zm[t])return!1;return!0}const PM="tEXt",BM=0,fA=new TextDecoder("latin1");function UM(e){if(VM(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const HM=/^[\u0000-\u00FF]*$/;function VM(e){if(!HM.test(e))throw new Error("invalid latin1 text")}function GM(e,t,n){const r=hA(t);e[r]=qM(t,n-r.length-1)}function hA(e){for(e.mark();e.readByte()!==BM;);const t=e.offset;e.reset();const n=fA.decode(e.readBytes(t-e.offset-1));return e.skip(1),UM(n),n}function qM(e,t){return fA.decode(e.readBytes(t))}const Ms={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},lx={UNKNOWN:-1,DEFLATE:0},gS={UNKNOWN:-1,ADAPTIVE:0},cx={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},ym={NONE:0,BACKGROUND:1,PREVIOUS:2},ux={SOURCE:0,OVER:1};class WM extends k5{constructor(n,r={}){super(n);Er(this,"_checkCrc");Er(this,"_inflator");Er(this,"_png");Er(this,"_apng");Er(this,"_end");Er(this,"_hasPalette");Er(this,"_palette");Er(this,"_hasTransparency");Er(this,"_transparency");Er(this,"_compressionMethod");Er(this,"_filterMethod");Er(this,"_interlaceMethod");Er(this,"_colorType");Er(this,"_isAnimated");Er(this,"_numberOfFrames");Er(this,"_numberOfPlays");Er(this,"_frames");Er(this,"_writingDataChunks");const{checkCrc:a=!1}=r;this._checkCrc=a,this._inflator=new fS,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=lx.UNKNOWN,this._filterMethod=gS.UNKNOWN,this._interlaceMethod=cx.UNKNOWN,this._colorType=Ms.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(pS(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(pS(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const a=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case PM:GM(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?dS(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const a=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=a+n;break}if(this.offset-a!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?dS(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=$M(this.readUint8());const r=this.readUint8();this._colorType=r;let a;switch(r){case Ms.GREYSCALE:a=1;break;case Ms.TRUECOLOUR:a=3;break;case Ms.INDEXED_COLOUR:a=1;break;case Ms.GREYSCALE_ALPHA:a=2;break;case Ms.TRUECOLOUR_ALPHA:a=4;break;case Ms.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==lx.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<r;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,a=this.offset+this.byteOffset;if(a+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,a,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Ms.GREYSCALE:case Ms.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Ms.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const a=this.readByte();this._palette[r].push(a)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ms.UNKNOWN:case Ms.GREYSCALE_ALPHA:case Ms.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=hA(this),a=this.readUint8();if(a!==lx.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:NM(s)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),a=this.readByte();this._png.resolution={x:n,y:r,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(n);if(a){if(a.data=mS({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)r.data=a.data;else{const s=this._apng.frames.at(n-1);this.disposeFrame(a,s,r),this.addFrameDataToCanvas(r,a)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,a){switch(n.disposeOp){case ym.NONE:break;case ym.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let l=0;l<this._png.width;l++){const c=(s*n.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case ym.PREVIOUS:a.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const a=1<<this._png.depth,s=(l,c)=>{const d=((l+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,h=(l*r.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(r.blendOp){case ux.SOURCE:for(let l=0;l<r.height;l++)for(let c=0;c<r.width;c++){const{index:d,frameIndex:h}=s(l,c);for(let m=0;m<this._png.channels;m++)n.data[d+m]=r.data[h+m]}break;case ux.OVER:for(let l=0;l<r.height;l++)for(let c=0;c<r.width;c++){const{index:d,frameIndex:h}=s(l,c);for(let m=0;m<this._png.channels;m++){const v=r.data[h+this._png.channels-1]/a,y=m%(this._png.channels-1)===0?1:r.data[h+m],g=Math.floor(v*y+(1-v)*n.data[d+m]);n.data[d+m]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==gS.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===cx.NO_INTERLACE)this._png.data=mS({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===cx.ADAM7)this._png.data=kM({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ym.NONE,blendOp:ux.SOURCE,data:n}),this._inflator=new fS,this._writingDataChunks=!1}}function $M(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var xS;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(xS||(xS={}));function YM(e,t){return new WM(e,t).decode()}var En=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function fx(){En.console&&typeof En.console.log=="function"&&En.console.log.apply(En.console,arguments)}var Gr={log:fx,warn:function(e){En.console&&(typeof En.console.warn=="function"?En.console.warn.apply(En.console,arguments):fx.call(null,arguments))},error:function(e){En.console&&(typeof En.console.error=="function"?En.console.error.apply(En.console,arguments):fx(e))}};function hx(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){rf(r.response,t,n)},r.onerror=function(){Gr.error("could not download file")},r.send()}function vS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rf=En.saveAs||((typeof window>"u"?"undefined":Dr(window))!=="object"||window!==En?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=En.URL||En.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?vS(a.href)?hx(e,t,n):bm(a,a.target="_blank"):bm(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){bm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(vS(e))hx(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){bm(r)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Dr(s)!=="object"&&(Gr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return hx(e,t,n);var a=e.type==="application/octet-stream",s=/constructor/i.test(En.HTMLElement)||En.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&(typeof FileReader>"u"?"undefined":Dr(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var m=c.result;m=l?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},c.readAsDataURL(e)}else{var d=En.URL||En.webkitURL,h=d.createObjectURL(e);r?r.location=h:location.href=h,r=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dA(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,s=n[r].process,l=a.exec(e);l&&(t=s(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+c+d+h}}var Im=En.atob.bind(En),yS=En.btoa.bind(En);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function dx(e,t){var n=e[0],r=e[1],a=e[2],s=e[3];n=zi(n,r,a,s,t[0],7,-680876936),s=zi(s,n,r,a,t[1],12,-389564586),a=zi(a,s,n,r,t[2],17,606105819),r=zi(r,a,s,n,t[3],22,-1044525330),n=zi(n,r,a,s,t[4],7,-176418897),s=zi(s,n,r,a,t[5],12,1200080426),a=zi(a,s,n,r,t[6],17,-1473231341),r=zi(r,a,s,n,t[7],22,-45705983),n=zi(n,r,a,s,t[8],7,1770035416),s=zi(s,n,r,a,t[9],12,-1958414417),a=zi(a,s,n,r,t[10],17,-42063),r=zi(r,a,s,n,t[11],22,-1990404162),n=zi(n,r,a,s,t[12],7,1804603682),s=zi(s,n,r,a,t[13],12,-40341101),a=zi(a,s,n,r,t[14],17,-1502002290),n=Ii(n,r=zi(r,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Ii(s,n,r,a,t[6],9,-1069501632),a=Ii(a,s,n,r,t[11],14,643717713),r=Ii(r,a,s,n,t[0],20,-373897302),n=Ii(n,r,a,s,t[5],5,-701558691),s=Ii(s,n,r,a,t[10],9,38016083),a=Ii(a,s,n,r,t[15],14,-660478335),r=Ii(r,a,s,n,t[4],20,-405537848),n=Ii(n,r,a,s,t[9],5,568446438),s=Ii(s,n,r,a,t[14],9,-1019803690),a=Ii(a,s,n,r,t[3],14,-187363961),r=Ii(r,a,s,n,t[8],20,1163531501),n=Ii(n,r,a,s,t[13],5,-1444681467),s=Ii(s,n,r,a,t[2],9,-51403784),a=Ii(a,s,n,r,t[7],14,1735328473),n=Pi(n,r=Ii(r,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Pi(s,n,r,a,t[8],11,-2022574463),a=Pi(a,s,n,r,t[11],16,1839030562),r=Pi(r,a,s,n,t[14],23,-35309556),n=Pi(n,r,a,s,t[1],4,-1530992060),s=Pi(s,n,r,a,t[4],11,1272893353),a=Pi(a,s,n,r,t[7],16,-155497632),r=Pi(r,a,s,n,t[10],23,-1094730640),n=Pi(n,r,a,s,t[13],4,681279174),s=Pi(s,n,r,a,t[0],11,-358537222),a=Pi(a,s,n,r,t[3],16,-722521979),r=Pi(r,a,s,n,t[6],23,76029189),n=Pi(n,r,a,s,t[9],4,-640364487),s=Pi(s,n,r,a,t[12],11,-421815835),a=Pi(a,s,n,r,t[15],16,530742520),n=Bi(n,r=Pi(r,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Bi(s,n,r,a,t[7],10,1126891415),a=Bi(a,s,n,r,t[14],15,-1416354905),r=Bi(r,a,s,n,t[5],21,-57434055),n=Bi(n,r,a,s,t[12],6,1700485571),s=Bi(s,n,r,a,t[3],10,-1894986606),a=Bi(a,s,n,r,t[10],15,-1051523),r=Bi(r,a,s,n,t[1],21,-2054922799),n=Bi(n,r,a,s,t[8],6,1873313359),s=Bi(s,n,r,a,t[15],10,-30611744),a=Bi(a,s,n,r,t[6],15,-1560198380),r=Bi(r,a,s,n,t[13],21,1309151649),n=Bi(n,r,a,s,t[4],6,-145523070),s=Bi(s,n,r,a,t[11],10,-1120210379),a=Bi(a,s,n,r,t[2],15,718787259),r=Bi(r,a,s,n,t[9],21,-343485551),e[0]=pu(n,e[0]),e[1]=pu(r,e[1]),e[2]=pu(a,e[2]),e[3]=pu(s,e[3])}function zp(e,t,n,r,a,s){return t=pu(pu(t,e),pu(r,s)),pu(t<<a|t>>>32-a,n)}function zi(e,t,n,r,a,s,l){return zp(t&n|~t&r,e,t,a,s,l)}function Ii(e,t,n,r,a,s,l){return zp(t&r|n&~r,e,t,a,s,l)}function Pi(e,t,n,r,a,s,l){return zp(t^n^r,e,t,a,s,l)}function Bi(e,t,n,r,a,s,l){return zp(n^(t|~r),e,t,a,s,l)}function mA(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)dx(r,KM(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(dx(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,dx(r,a),r}function KM(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var bS="0123456789abcdef".split("");function XM(e){for(var t="",n=0;n<4;n++)t+=bS[e>>8*n+4&15]+bS[e>>8*n&15];return t}function ZM(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function bv(e){return mA(e).map(ZM).join("")}var JM=(function(e){for(var t=0;t<e.length;t++)e[t]=XM(e[t]);return e.join("")})(mA("hello"))!="5d41402abc4b2a76b9719d911017c592";function pu(e,t){if(JM){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function wv(e,t){var n,r,a,s;if(e!==n){for(var l=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var h=0;for(d=0;d<256;d++){var m=c[d];h=(h+m+l.charCodeAt(d))%256,c[d]=c[h],c[h]=m}n=e,r=c}else c=r;var v=t.length,y=0,g=0,T="";for(d=0;d<v;d++)g=(g+(m=c[y=(y+1)%256]))%256,c[y]=c[g],c[g]=m,l=c[(c[y]+c[g])%256],T+=String.fromCharCode(t.charCodeAt(d)^l);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wS={print:4,modify:8,copy:16,"annot-forms":32};function T0(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(c){if(wS.perm!==void 0)throw new Error("Invalid permission: "+c);a+=wS[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),l=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^a)),this.encryptionKey=bv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=wv(this.encryptionKey,this.padding)}function A0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[r]}return t}function SS(e){if(Dr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!a],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var l=t[n][s];try{l[0].apply(e,r)}catch(c){En.console&&Gr.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function lp(e){if(!(this instanceof lp))return new lp(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function pA(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function af(e,t,n,r,a){if(!(this instanceof af))return new af(e,t,n,r,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,pA.call(this,r,a)}function R0(e,t,n,r,a){if(!(this instanceof R0))return new R0(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,pA.call(this,r,a)}function on(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],s=arguments[3],l=[],c=1,d=16,h="S",m=null;Dr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,a=e.format||a,s=e.compress||e.compressPdf||s,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),h=e.defaultPathOperation||"S"),l=e.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",n=(""+(n||"P")).toLowerCase();var v=e.putOnlyUsedFonts||!1,y={},g={internal:{},__private__:{}};g.__private__.PubSub=SS;var T="1.3",b=g.__private__.getPdfVersion=function(){return T};g.__private__.setPdfVersion=function(C){T=C};var A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return A};var E=g.__private__.getPageFormat=function(C){return A[C]};a=a||"a4";var D="compat",j="advanced",R=D;function q(){this.saveGraphicsState(),xe(new kt(tn,0,0,-tn,0,To()*tn).toString()+" cm"),this.setFontSize(this.getFontSize()/tn),h="n",R=j}function Z(){this.restoreGraphicsState(),h="S",R=D}var I=g.__private__.combineFontStyleAndFontWeight=function(C,J){if(C=="bold"&&J=="normal"||C=="bold"&&J==400||C=="normal"&&J=="italic"||C=="bold"&&J=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return J&&(C=J==400||J==="normal"?C==="italic"?"italic":"normal":J!=700&&J!=="bold"||C!=="normal"?(J==700?"bold":J)+""+C:"bold"),C};g.advancedAPI=function(C){var J=R===D;return J&&q.call(this),typeof C!="function"||(C(this),J&&Z.call(this)),this},g.compatAPI=function(C){var J=R===j;return J&&Z.call(this),typeof C!="function"||(C(this),J&&q.call(this)),this},g.isAdvancedAPI=function(){return R===j};var Y,P=function(C){if(R!==j)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Q=g.roundToPrecision=g.__private__.roundToPrecision=function(C,J){var _e=t||J;if(isNaN(C)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(_e).replace(/0+$/,"")};Y=g.hpf=g.__private__.hpf=typeof d=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(C,d)}:d==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return Q(C,16)};var O=g.f2=g.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return Q(C,2)},G=g.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return Q(C,3)},K=g.scale=g.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return R===D?C*tn:R===j?C:void 0},X=function(C){return K((function(J){return R===D?To()-J:R===j?J:void 0})(C))};g.__private__.setPrecision=g.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var H,V="00000000000000000000000000000000",ae=g.__private__.getFileId=function(){return V},ce=g.__private__.setFileId=function(C){return V=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():V.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Gn=new T0(m.userPermissions,m.userPassword,m.ownerPassword,V)),V};g.setFileId=function(C){return ce(C),this},g.getFileId=function(){return ae()};var le=g.__private__.convertDateToPDFDate=function(C){var J=C.getTimezoneOffset(),_e=J<0?"+":"-",Ce=Math.floor(Math.abs(J/60)),Me=Math.abs(J%60),st=[_e,L(Ce),"'",L(Me),"'"].join("");return["D:",C.getFullYear(),L(C.getMonth()+1),L(C.getDate()),L(C.getHours()),L(C.getMinutes()),L(C.getSeconds()),st].join("")},me=g.__private__.convertPDFDateToDate=function(C){var J=parseInt(C.substr(2,4),10),_e=parseInt(C.substr(6,2),10)-1,Ce=parseInt(C.substr(8,2),10),Me=parseInt(C.substr(10,2),10),st=parseInt(C.substr(12,2),10),dt=parseInt(C.substr(14,2),10);return new Date(J,_e,Ce,Me,st,dt,0)},M=g.__private__.setCreationDate=function(C){var J;if(C===void 0&&(C=new Date),C instanceof Date)J=le(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");J=C}return H=J},N=g.__private__.getCreationDate=function(C){var J=H;return C==="jsDate"&&(J=me(H)),J};g.setCreationDate=function(C){return M(C),this},g.getCreationDate=function(C){return N(C)};var F,L=g.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},B=g.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},te=0,de=[],Ne=[],se=0,ve=[],je=[],ke=!1,Ge=Ne;g.__private__.setCustomOutputDestination=function(C){ke=!0,Ge=C};var Te=function(C){ke||(Ge=C)};g.__private__.resetCustomOutputDestination=function(){ke=!1,Ge=Ne};var xe=g.__private__.out=function(C){return C=C.toString(),se+=C.length+1,Ge.push(C),Ge},gt=g.__private__.write=function(C){return xe(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},Xe=g.__private__.getArrayBuffer=function(C){for(var J=C.length,_e=new ArrayBuffer(J),Ce=new Uint8Array(_e);J--;)Ce[J]=C.charCodeAt(J);return _e},wt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return wt};var Ze=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(C){return Ze=R===j?C/tn:C,this};var Et,St=g.__private__.getFontSize=g.getFontSize=function(){return R===D?Ze:Ze*tn},Kt=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(C){return Kt=C,this},g.__private__.getR2L=g.getR2L=function(){return Kt};var Lt,qt=g.__private__.setZoomMode=function(C){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))Et=C;else if(isNaN(C)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');Et=C}else Et=parseInt(C,10)};g.__private__.getZoomMode=function(){return Et};var rn,Wt=g.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Lt=C};g.__private__.getPageMode=function(){return Lt};var cn=g.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');rn=C};g.__private__.getLayoutMode=function(){return rn},g.__private__.setDisplayMode=g.setDisplayMode=function(C,J,_e){return qt(C),cn(J),Wt(_e),this};var zt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(C){if(Object.keys(zt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zt[C]},g.__private__.getDocumentProperties=function(){return zt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(C){for(var J in zt)zt.hasOwnProperty(J)&&C[J]&&(zt[J]=C[J]);return this},g.__private__.setDocumentProperty=function(C,J){if(Object.keys(zt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zt[C]=J};var It,tn,Ft,Mn,Xt,Dt={},Pt={},xn=[],$t={},mn={},Bt={},Fn={},Hn=null,_n=0,Ut=[],qe=new SS(g),Ie=e.hotfixes||[],nt={},ln={},Wn=[],kt=function C(J,_e,Ce,Me,st,dt){if(!(this instanceof C))return new C(J,_e,Ce,Me,st,dt);isNaN(J)&&(J=1),isNaN(_e)&&(_e=0),isNaN(Ce)&&(Ce=0),isNaN(Me)&&(Me=1),isNaN(st)&&(st=0),isNaN(dt)&&(dt=0),this._matrix=[J,_e,Ce,Me,st,dt]};Object.defineProperty(kt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(kt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(kt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(kt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(kt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(kt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(kt.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(kt.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(kt.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(kt.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(kt.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(kt.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(kt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(kt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(kt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(kt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),kt.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Y).join(C)},kt.prototype.multiply=function(C){var J=C.sx*this.sx+C.shy*this.shx,_e=C.sx*this.shy+C.shy*this.sy,Ce=C.shx*this.sx+C.sy*this.shx,Me=C.shx*this.shy+C.sy*this.sy,st=C.tx*this.sx+C.ty*this.shx+this.tx,dt=C.tx*this.shy+C.ty*this.sy+this.ty;return new kt(J,_e,Ce,Me,st,dt)},kt.prototype.decompose=function(){var C=this.sx,J=this.shy,_e=this.shx,Ce=this.sy,Me=this.tx,st=this.ty,dt=Math.sqrt(C*C+J*J),Zt=(C/=dt)*_e+(J/=dt)*Ce;_e-=C*Zt,Ce-=J*Zt;var an=Math.sqrt(_e*_e+Ce*Ce);return Zt/=an,C*(Ce/=an)<J*(_e/=an)&&(C=-C,J=-J,Zt=-Zt,dt=-dt),{scale:new kt(dt,0,0,an,0,0),translate:new kt(1,0,0,1,Me,st),rotate:new kt(C,J,-J,C,0,0),skew:new kt(1,0,Zt,1,0,0)}},kt.prototype.toString=function(C){return this.join(" ")},kt.prototype.inversed=function(){var C=this.sx,J=this.shy,_e=this.shx,Ce=this.sy,Me=this.tx,st=this.ty,dt=1/(C*Ce-J*_e),Zt=Ce*dt,an=-J*dt,yn=-_e*dt,Cn=C*dt;return new kt(Zt,an,yn,Cn,-Zt*Me-yn*st,-an*Me-Cn*st)},kt.prototype.applyToPoint=function(C){var J=C.x*this.sx+C.y*this.shx+this.tx,_e=C.x*this.shy+C.y*this.sy+this.ty;return new Ys(J,_e)},kt.prototype.applyToRectangle=function(C){var J=this.applyToPoint(C),_e=this.applyToPoint(new Ys(C.x+C.w,C.y+C.h));return new So(J.x,J.y,_e.x-J.x,_e.y-J.y)},kt.prototype.clone=function(){var C=this.sx,J=this.shy,_e=this.shx,Ce=this.sy,Me=this.tx,st=this.ty;return new kt(C,J,_e,Ce,Me,st)},g.Matrix=kt;var rr=g.matrixMult=function(C,J){return J.multiply(C)},Vn=new kt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Vn;var nn=function(C,J){if(!mn[C]){var _e=(J instanceof af?"Sh":"P")+(Object.keys($t).length+1).toString(10);J.id=_e,mn[C]=_e,$t[_e]=J,qe.publish("addPattern",J)}};g.ShadingPattern=af,g.TilingPattern=R0,g.addShadingPattern=function(C,J){return P("addShadingPattern()"),nn(C,J),this},g.beginTilingPattern=function(C){P("beginTilingPattern()"),Vl(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},g.endTilingPattern=function(C,J){P("endTilingPattern()"),J.stream=je[F].join(`
`),nn(C,J),qe.publish("endTilingPattern",J),Wn.pop().restore()};var Sr,jn=g.__private__.newObject=function(){var C=ar();return ne(C,!0),C},ar=g.__private__.newObjectDeferred=function(){return te++,de[te]=function(){return se},te},ne=function(C,J){return J=typeof J=="boolean"&&J,de[C]=se,J&&xe(C+" 0 obj"),C},ye=g.__private__.newAdditionalObject=function(){var C={objId:ar(),content:""};return ve.push(C),C},fe=ar(),he=ar(),ge=g.__private__.decodeColorString=function(C){var J=C.split(" ");if(J.length!==2||J[1]!=="g"&&J[1]!=="G")J.length!==5||J[4]!=="k"&&J[4]!=="K"||(J=[(1-J[0])*(1-J[3]),(1-J[1])*(1-J[3]),(1-J[2])*(1-J[3]),"r"]);else{var _e=parseFloat(J[0]);J=[_e,_e,_e,"r"]}for(var Ce="#",Me=0;Me<3;Me++)Ce+=("0"+Math.floor(255*parseFloat(J[Me])).toString(16)).slice(-2);return Ce},be=g.__private__.encodeColorString=function(C){var J;typeof C=="string"&&(C={ch1:C});var _e=C.ch1,Ce=C.ch2,Me=C.ch3,st=C.ch4,dt=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Zt=new dA(_e);if(Zt.ok)_e=Zt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var an=parseInt(_e.substr(1),16);_e=an>>16&255,Ce=an>>8&255,Me=255&an}if(Ce===void 0||st===void 0&&_e===Ce&&Ce===Me)J=typeof _e=="string"?_e+" "+dt[0]:C.precision===2?O(_e/255)+" "+dt[0]:G(_e/255)+" "+dt[0];else if(st===void 0||Dr(st)==="object"){if(st&&!isNaN(st.a)&&st.a===0)return["1.","1.","1.",dt[1]].join(" ");J=typeof _e=="string"?[_e,Ce,Me,dt[1]].join(" "):C.precision===2?[O(_e/255),O(Ce/255),O(Me/255),dt[1]].join(" "):[G(_e/255),G(Ce/255),G(Me/255),dt[1]].join(" ")}else J=typeof _e=="string"?[_e,Ce,Me,st,dt[2]].join(" "):C.precision===2?[O(_e),O(Ce),O(Me),O(st),dt[2]].join(" "):[G(_e),G(Ce),G(Me),G(st),dt[2]].join(" ");return J},Pe=g.__private__.getFilters=function(){return l},Je=g.__private__.putStream=function(C){var J=(C=C||{}).data||"",_e=C.filters||Pe(),Ce=C.alreadyAppliedFilters||[],Me=C.addLength1||!1,st=J.length,dt=C.objectId,Zt=function(Fa){return Fa};if(m!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Zt=Gn.encryptor(dt,0));var an={};_e===!0&&(_e=["FlateEncode"]);var yn=C.additionalKeyValues||[],Cn=(an=on.API.processDataByFilters!==void 0?on.API.processDataByFilters(J,_e):{data:J,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(an.data.length!==0&&(yn.push({key:"Length",value:an.data.length}),Me===!0&&yn.push({key:"Length1",value:st})),Cn.length!=0)if(Cn.split("/").length-1==1)yn.push({key:"Filter",value:Cn});else{yn.push({key:"Filter",value:"["+Cn+"]"});for(var hr=0;hr<yn.length;hr+=1)if(yn[hr].key==="DecodeParms"){for(var $r=[],ca=0;ca<an.reverseChain.split("/").length-1;ca+=1)$r.push("null");$r.push(yn[hr].value),yn[hr].value="["+$r.join(" ")+"]"}}xe("<<");for(var Fr=0;Fr<yn.length;Fr++)xe("/"+yn[Fr].key+" "+yn[Fr].value);xe(">>"),an.data.length!==0&&(xe("stream"),xe(Zt(an.data)),xe("endstream"))},Ue=g.__private__.putPage=function(C){var J=C.number,_e=C.data,Ce=C.objId,Me=C.contentsObjId;ne(Ce,!0),xe("<</Type /Page"),xe("/Parent "+C.rootDictionaryObjId+" 0 R"),xe("/Resources "+C.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(Y(C.mediaBox.bottomLeftX))+" "+parseFloat(Y(C.mediaBox.bottomLeftY))+" "+Y(C.mediaBox.topRightX)+" "+Y(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&xe("/CropBox ["+Y(C.cropBox.bottomLeftX)+" "+Y(C.cropBox.bottomLeftY)+" "+Y(C.cropBox.topRightX)+" "+Y(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&xe("/BleedBox ["+Y(C.bleedBox.bottomLeftX)+" "+Y(C.bleedBox.bottomLeftY)+" "+Y(C.bleedBox.topRightX)+" "+Y(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&xe("/TrimBox ["+Y(C.trimBox.bottomLeftX)+" "+Y(C.trimBox.bottomLeftY)+" "+Y(C.trimBox.topRightX)+" "+Y(C.trimBox.topRightY)+"]"),C.artBox!==null&&xe("/ArtBox ["+Y(C.artBox.bottomLeftX)+" "+Y(C.artBox.bottomLeftY)+" "+Y(C.artBox.topRightX)+" "+Y(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&xe("/UserUnit "+C.userUnit),qe.publish("putPage",{objId:Ce,pageContext:Ut[J],pageNumber:J,page:_e}),xe("/Contents "+Me+" 0 R"),xe(">>"),xe("endobj");var st=_e.join(`
`);return R===j&&(st+=`
Q`),ne(Me,!0),Je({data:st,filters:Pe(),objectId:Me}),xe("endobj"),Ce},Re=g.__private__.putPages=function(){var C,J,_e=[];for(C=1;C<=_n;C++)Ut[C].objId=ar(),Ut[C].contentsObjId=ar();for(C=1;C<=_n;C++)_e.push(Ue({number:C,data:je[C],objId:Ut[C].objId,contentsObjId:Ut[C].contentsObjId,mediaBox:Ut[C].mediaBox,cropBox:Ut[C].cropBox,bleedBox:Ut[C].bleedBox,trimBox:Ut[C].trimBox,artBox:Ut[C].artBox,userUnit:Ut[C].userUnit,rootDictionaryObjId:fe,resourceDictionaryObjId:he}));ne(fe,!0),xe("<</Type /Pages");var Ce="/Kids [";for(J=0;J<_n;J++)Ce+=_e[J]+" 0 R ";xe(Ce+"]"),xe("/Count "+_n),xe(">>"),xe("endobj"),qe.publish("postPutPages")},He=function(C){qe.publish("putFont",{font:C,out:xe,newObject:jn,putStream:Je}),C.isAlreadyPutted!==!0&&(C.objectNumber=jn(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+A0(C.postScriptName)),xe("/Subtype /Type1"),typeof C.encoding=="string"&&xe("/Encoding /"+C.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},ht=function(C){C.objectNumber=jn();var J=[];J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Form"}),J.push({key:"BBox",value:"["+[Y(C.x),Y(C.y),Y(C.x+C.width),Y(C.y+C.height)].join(" ")+"]"}),J.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var _e=C.pages[1].join(`
`);Je({data:_e,additionalKeyValues:J,objectId:C.objectNumber}),xe("endobj")},yt=function(C,J){J||(J=21);var _e=jn(),Ce=(function(dt,Zt){var an,yn=[],Cn=1/(Zt-1);for(an=0;an<1;an+=Cn)yn.push(an);if(yn.push(1),dt[0].offset!=0){var hr={offset:0,color:dt[0].color};dt.unshift(hr)}if(dt[dt.length-1].offset!=1){var $r={offset:1,color:dt[dt.length-1].color};dt.push($r)}for(var ca="",Fr=0,Fa=0;Fa<yn.length;Fa++){for(an=yn[Fa];an>dt[Fr+1].offset;)Fr++;var ya=dt[Fr].offset,Ka=(an-ya)/(dt[Fr+1].offset-ya),rs=dt[Fr].color,Fi=dt[Fr+1].color;ca+=B(Math.round((1-Ka)*rs[0]+Ka*Fi[0]).toString(16))+B(Math.round((1-Ka)*rs[1]+Ka*Fi[1]).toString(16))+B(Math.round((1-Ka)*rs[2]+Ka*Fi[2]).toString(16))}return ca.trim()})(C.colors,J),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+J+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Je({data:Ce,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),xe("endobj"),C.objectNumber=jn(),xe("<< /ShadingType "+C.type),xe("/ColorSpace /DeviceRGB");var st="/Coords ["+Y(parseFloat(C.coords[0]))+" "+Y(parseFloat(C.coords[1]))+" ";C.type===2?st+=Y(parseFloat(C.coords[2]))+" "+Y(parseFloat(C.coords[3])):st+=Y(parseFloat(C.coords[2]))+" "+Y(parseFloat(C.coords[3]))+" "+Y(parseFloat(C.coords[4]))+" "+Y(parseFloat(C.coords[5])),xe(st+="]"),C.matrix&&xe("/Matrix ["+C.matrix.toString()+"]"),xe("/Function "+_e+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Tt=function(C,J){var _e=ar(),Ce=jn();J.push({resourcesOid:_e,objectOid:Ce}),C.objectNumber=Ce;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+C.boundingBox.map(Y).join(" ")+"]"}),Me.push({key:"XStep",value:Y(C.xStep)}),Me.push({key:"YStep",value:Y(C.yStep)}),Me.push({key:"Resources",value:_e+" 0 R"}),C.matrix&&Me.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),Je({data:C.stream,additionalKeyValues:Me,objectId:C.objectNumber}),xe("endobj")},xt=function(C){for(var J in C.objectNumber=jn(),xe("<<"),C)switch(J){case"opacity":xe("/ca "+O(C[J]));break;case"stroke-opacity":xe("/CA "+O(C[J]))}xe(">>"),xe("endobj")},Nt=function(C){ne(C.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var J in xe("/Font <<"),Dt)Dt.hasOwnProperty(J)&&(v===!1||v===!0&&y.hasOwnProperty(J))&&xe("/"+J+" "+Dt[J].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys($t).length>0){for(var J in xe("/Shading <<"),$t)$t.hasOwnProperty(J)&&$t[J]instanceof af&&$t[J].objectNumber>=0&&xe("/"+J+" "+$t[J].objectNumber+" 0 R");qe.publish("putShadingPatternDict"),xe(">>")}})(),(function(J){if(Object.keys($t).length>0){for(var _e in xe("/Pattern <<"),$t)$t.hasOwnProperty(_e)&&$t[_e]instanceof g.TilingPattern&&$t[_e].objectNumber>=0&&$t[_e].objectNumber<J&&xe("/"+_e+" "+$t[_e].objectNumber+" 0 R");qe.publish("putTilingPatternDict"),xe(">>")}})(C.objectOid),(function(){if(Object.keys(Bt).length>0){var J;for(J in xe("/ExtGState <<"),Bt)Bt.hasOwnProperty(J)&&Bt[J].objectNumber>=0&&xe("/"+J+" "+Bt[J].objectNumber+" 0 R");qe.publish("putGStateDict"),xe(">>")}})(),(function(){for(var J in xe("/XObject <<"),nt)nt.hasOwnProperty(J)&&nt[J].objectNumber>=0&&xe("/"+J+" "+nt[J].objectNumber+" 0 R");qe.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Mt=function(C){Pt[C.fontName]=Pt[C.fontName]||{},Pt[C.fontName][C.fontStyle]=C.id},Qn=function(C,J,_e,Ce,Me){var st={id:"F"+(Object.keys(Dt).length+1).toString(10),postScriptName:C,fontName:J,fontStyle:_e,encoding:Ce,isStandardFont:Me||!1,metadata:{}};return qe.publish("addFont",{font:st,instance:this}),Dt[st.id]=st,Mt(st),st.id},On=g.__private__.pdfEscape=g.pdfEscape=function(C,J){return(function(_e,Ce){var Me,st,dt,Zt,an,yn,Cn,hr,$r;if(dt=(Ce=Ce||{}).sourceEncoding||"Unicode",an=Ce.outputEncoding,(Ce.autoencode||an)&&Dt[It].metadata&&Dt[It].metadata[dt]&&Dt[It].metadata[dt].encoding&&(Zt=Dt[It].metadata[dt].encoding,!an&&Dt[It].encoding&&(an=Dt[It].encoding),!an&&Zt.codePages&&(an=Zt.codePages[0]),typeof an=="string"&&(an=Zt[an]),an)){for(Cn=!1,yn=[],Me=0,st=_e.length;Me<st;Me++)(hr=an[_e.charCodeAt(Me)])?yn.push(String.fromCharCode(hr)):yn.push(_e[Me]),yn[Me].charCodeAt(0)>>8&&(Cn=!0);_e=yn.join("")}for(Me=_e.length;Cn===void 0&&Me!==0;)_e.charCodeAt(Me-1)>>8&&(Cn=!0),Me--;if(!Cn)return _e;for(yn=Ce.noBOM?[]:[254,255],Me=0,st=_e.length;Me<st;Me++){if(($r=(hr=_e.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");yn.push($r),yn.push(hr-($r<<8))}return String.fromCharCode.apply(void 0,yn)})(C,J).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},er=g.__private__.beginPage=function(C){je[++_n]=[],Ut[_n]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},yi(_n),Te(je[F])},ga=function(C,J){var _e,Ce,Me;switch(n=J||n,typeof C=="string"&&(_e=E(C.toLowerCase()),Array.isArray(_e)&&(Ce=_e[0],Me=_e[1])),Array.isArray(C)&&(Ce=C[0]*tn,Me=C[1]*tn),isNaN(Ce)&&(Ce=a[0],Me=a[1]),(Ce>14400||Me>14400)&&(Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Me=Math.min(14400,Me)),a=[Ce,Me],n.substr(0,1)){case"l":Me>Ce&&(a=[Me,Ce]);break;case"p":Ce>Me&&(a=[Me,Ce])}er(a),il(Pl),xe(Wi),kc!==0&&xe(kc+" J"),Pa!==0&&xe(Pa+" j"),qe.publish("addPage",{pageNumber:_n})},$a=function(C){C>0&&C<=_n&&(je.splice(C,1),Ut.splice(C,1),_n--,F>_n&&(F=_n),this.setPage(F))},yi=function(C){C>0&&C<=_n&&(F=C)},ka=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return je.length-1},Li=function(C,J,_e){var Ce,Me=void 0;return _e=_e||{},C=C!==void 0?C:Dt[It].fontName,J=J!==void 0?J:Dt[It].fontStyle,Ce=C.toLowerCase(),Pt[Ce]!==void 0&&Pt[Ce][J]!==void 0?Me=Pt[Ce][J]:Pt[C]!==void 0&&Pt[C][J]!==void 0?Me=Pt[C][J]:_e.disableWarning===!1&&Gr.warn("Unable to look up font label for font '"+C+"', '"+J+"'. Refer to getFontList() for available fonts."),Me||_e.noFallback||(Me=Pt.times[J])==null&&(Me=Pt.times.normal),Me},Oe=g.__private__.putInfo=function(){var C=jn(),J=function(Ce){return Ce};for(var _e in m!==null&&(J=Gn.encryptor(C,0)),xe("<<"),xe("/Producer ("+On(J("jsPDF "+on.version))+")"),zt)zt.hasOwnProperty(_e)&&zt[_e]&&xe("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+On(J(zt[_e]))+")");xe("/CreationDate ("+On(J(H))+")"),xe(">>"),xe("endobj")},lt=g.__private__.putCatalog=function(C){var J=(C=C||{}).rootDictionaryObjId||fe;switch(jn(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+J+" 0 R"),Et||(Et="fullwidth"),Et){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Et;_e.substr(_e.length-1)==="%"&&(Et=parseInt(Et)/100),typeof Et=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+O(Et)+"]")}switch(rn||(rn="continuous"),rn){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}Lt&&xe("/PageMode /"+Lt),qe.publish("putCatalog"),xe(">>"),xe("endobj")},rt=g.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(te+1)),xe("/Root "+te+" 0 R"),xe("/Info "+(te-1)+" 0 R"),m!==null&&xe("/Encrypt "+Gn.oid+" 0 R"),xe("/ID [ <"+V+"> <"+V+"> ]"),xe(">>")},wn=g.__private__.putHeader=function(){xe("%PDF-"+T),xe("%")},$n=g.__private__.putXRef=function(){var C="0000000000";xe("xref"),xe("0 "+(te+1)),xe("0000000000 65535 f ");for(var J=1;J<=te;J++)typeof de[J]=="function"?xe((C+de[J]()).slice(-10)+" 00000 n "):de[J]!==void 0?xe((C+de[J]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},qr=g.__private__.buildDocument=function(){var C;te=0,se=0,Ne=[],de=[],ve=[],fe=ar(),he=ar(),Te(Ne),qe.publish("buildDocument"),wn(),Re(),(function(){qe.publish("putAdditionalObjects");for(var _e=0;_e<ve.length;_e++){var Ce=ve[_e];ne(Ce.objId,!0),xe(Ce.content),xe("endobj")}qe.publish("postPutAdditionalObjects")})(),C=[],(function(){for(var _e in Dt)Dt.hasOwnProperty(_e)&&(v===!1||v===!0&&y.hasOwnProperty(_e))&&He(Dt[_e])})(),(function(){var _e;for(_e in Bt)Bt.hasOwnProperty(_e)&&xt(Bt[_e])})(),(function(){for(var _e in nt)nt.hasOwnProperty(_e)&&ht(nt[_e])})(),(function(_e){var Ce;for(Ce in $t)$t.hasOwnProperty(Ce)&&($t[Ce]instanceof af?yt($t[Ce]):$t[Ce]instanceof R0&&Tt($t[Ce],_e))})(C),qe.publish("putResources"),C.forEach(Nt),Nt({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),qe.publish("postPutResources"),m!==null&&(Gn.oid=jn(),xe("<<"),xe("/Filter /Standard"),xe("/V "+Gn.v),xe("/R "+Gn.r),xe("/U <"+Gn.toHexString(Gn.U)+">"),xe("/O <"+Gn.toHexString(Gn.O)+">"),xe("/P "+Gn.P),xe(">>"),xe("endobj")),Oe(),lt();var J=se;return $n(),rt(),xe("startxref"),xe(""+J),xe("%%EOF"),Te(je[F]),Ne.join(`
`)},xa=g.__private__.getBlob=function(C){return new Blob([Xe(C)],{type:"application/pdf"})},va=g.output=g.__private__.output=(Sr=function(C,J){switch(typeof(J=J||{})=="string"?J={filename:J}:J.filename=J.filename||"generated.pdf",C){case void 0:return qr();case"save":g.save(J.filename);break;case"arraybuffer":return Xe(qr());case"blob":return xa(qr());case"bloburi":case"bloburl":if(En.URL!==void 0&&typeof En.URL.createObjectURL=="function")return En.URL&&En.URL.createObjectURL(xa(qr()))||void 0;Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ce=qr();try{_e=yS(Ce)}catch{_e=yS(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+J.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(En)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",st=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';J.pdfObjectUrl&&(Me=J.pdfObjectUrl,st="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+st+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(J)+");<\/script></body></html>",Zt=En.open();return Zt!==null&&Zt.document.write(dt),Zt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(En)==="[object Window]"){var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(J.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+J.filename+'" width="500px" height="400px" /></body></html>',yn=En.open();if(yn!==null){yn.document.write(an);var Cn=this;yn.document.documentElement.querySelector("#pdfViewer").onload=function(){yn.document.title=J.filename,yn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Cn.output("bloburl"))}}return yn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(En)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",J)+'"></iframe></body></html>',$r=En.open();if($r!==null&&($r.document.write(hr),$r.document.title=J.filename),$r||typeof safari>"u")return $r;break;case"datauri":case"dataurl":return En.document.location.href=this.output("datauristring",J);default:return null}},Sr.foo=function(){try{return Sr.apply(this,arguments)}catch(_e){var C=_e.stack||"";~C.indexOf(" at ")&&(C=C.split(" at ")[1]);var J="Error in function "+C.split(`
`)[0].split("<")[0]+": "+_e.message;if(!En.console)throw new Error(J);En.console.error(J,_e),En.alert&&alert(J)}},Sr.foo.bar=Sr,Sr.foo),oa=function(C){return Array.isArray(Ie)===!0&&Ie.indexOf(C)>-1};switch(r){case"pt":tn=1;break;case"mm":tn=72/25.4;break;case"cm":tn=72/2.54;break;case"in":tn=72;break;case"px":tn=oa("px_scaling")==1?.75:96/72;break;case"pc":case"em":tn=12;break;case"ex":tn=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);tn=r}var Gn=null;M(),ce();var Ae=g.__private__.getPageInfo=g.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[C].objId,pageNumber:C,pageContext:Ut[C]}},Ot=g.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var J in Ut)if(Ut[J].objId===C)break;return Ae(J)},vt=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ut[F].objId,pageNumber:F,pageContext:Ut[F]}};g.addPage=function(){return ga.apply(this,arguments),this},g.setPage=function(){return yi.apply(this,arguments),Te.call(this,je[F]),this},g.insertPage=function(C){return this.addPage(),this.movePage(F,C),this},g.movePage=function(C,J){var _e,Ce;if(C>J){_e=je[C],Ce=Ut[C];for(var Me=C;Me>J;Me--)je[Me]=je[Me-1],Ut[Me]=Ut[Me-1];je[J]=_e,Ut[J]=Ce,this.setPage(J)}else if(C<J){_e=je[C],Ce=Ut[C];for(var st=C;st<J;st++)je[st]=je[st+1],Ut[st]=Ut[st+1];je[J]=_e,Ut[J]=Ce,this.setPage(J)}return this},g.deletePage=function(){return $a.apply(this,arguments),this},g.__private__.text=g.text=function(C,J,_e,Ce,Me){var st,dt,Zt,an,yn,Cn,hr,$r,ca,Fr=(Ce=Ce||{}).scope||this;if(typeof C=="number"&&typeof J=="number"&&(typeof _e=="string"||Array.isArray(_e))){var Fa=_e;_e=J,J=C,C=Fa}if(arguments[3]instanceof kt==0?(Zt=arguments[4],an=arguments[5],Dr(hr=arguments[3])==="object"&&hr!==null||(typeof Zt=="string"&&(an=Zt,Zt=null),typeof hr=="string"&&(an=hr,hr=null),typeof hr=="number"&&(Zt=hr,hr=null),Ce={flags:hr,angle:Zt,align:an})):(P("The transform parameter of text() with a Matrix value"),ca=Me),isNaN(J)||isNaN(_e)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return Fr;var ya,Ka="",rs=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:bo,Fi=Fr.internal.scaleFactor;function Rf(dr){return dr=dr.split("	").join(Array(Ce.TabLen||9).join(" ")),On(dr,hr)}function Fc(dr){for(var ir,Or=dr.concat(),fa=[],ro=Or.length;ro--;)typeof(ir=Or.shift())=="string"?fa.push(ir):Array.isArray(dr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?fa.push(ir[0]):fa.push([ir[0],ir[1],ir[2]]);return fa}function ql(dr,ir){var Or;if(typeof dr=="string")Or=ir(dr)[0];else if(Array.isArray(dr)){for(var fa,ro,ks=dr.concat(),Yl=[],zu=ks.length;zu--;)typeof(fa=ks.shift())=="string"?Yl.push(ir(fa)[0]):Array.isArray(fa)&&typeof fa[0]=="string"&&(ro=ir(fa[0],fa[1],fa[2]),Yl.push([ro[0],ro[1],ro[2]]));Or=Yl}return Or}var Xs=!1,Cs=!0;if(typeof C=="string")Xs=!0;else if(Array.isArray(C)){var Wl=C.concat();dt=[];for(var ol,Xa=Wl.length;Xa--;)(typeof(ol=Wl.shift())!="string"||Array.isArray(ol)&&typeof ol[0]!="string")&&(Cs=!1);Xs=Cs}if(Xs===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var ll=Ze/Fr.internal.scaleFactor,cl=ll*(rs-1);switch(Ce.baseline){case"bottom":_e-=cl;break;case"top":_e+=ll-cl;break;case"hanging":_e+=ll-2*cl;break;case"middle":_e+=ll/2-cl}if((Cn=Ce.maxWidth||0)>0&&(typeof C=="string"?C=Fr.splitTextToSize(C,Cn):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(dr,ir){return dr.concat(Fr.splitTextToSize(ir,Cn))},[]))),st={text:C,x:J,y:_e,options:Ce,mutex:{pdfEscape:On,activeFontKey:It,fonts:Dt,activeFontSize:Ze}},qe.publish("preProcessText",st),C=st.text,Zt=(Ce=st.options).angle,ca instanceof kt==0&&Zt&&typeof Zt=="number"){Zt*=Math.PI/180,Ce.rotationDirection===0&&(Zt=-Zt),R===j&&(Zt=-Zt);var Oc=Math.cos(Zt),Zs=Math.sin(Zt);ca=new kt(Oc,Zs,-Zs,Oc,0,0)}else Zt&&Zt instanceof kt&&(ca=Zt);R!==j||ca||(ca=Vn),(yn=Ce.charSpace||wo)!==void 0&&(Ka+=Y(K(yn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),($r=Ce.horizontalScale)!==void 0&&(Ka+=Y(100*$r)+` Tz
`),Ce.lang;var ea=-1,Ao=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Rc=Fr.internal.getCurrentPageInfo().pageContext;switch(Ao){case 0:case!1:case"fill":ea=0;break;case 1:case!0:case"stroke":ea=1;break;case 2:case"fillThenStroke":ea=2;break;case 3:case"invisible":ea=3;break;case 4:case"fillAndAddForClipping":ea=4;break;case 5:case"strokeAndAddPathForClipping":ea=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ea=6;break;case 7:case"addToPathForClipping":ea=7}var Ru=Rc.usedRenderingMode!==void 0?Rc.usedRenderingMode:-1;ea!==-1?Ka+=ea+` Tr
`:Ru!==-1&&(Ka+=`0 Tr
`),ea!==-1&&(Rc.usedRenderingMode=ea),an=Ce.align||"left";var Yi,js=Ze*rs,Eo=Fr.internal.pageSize.getWidth(),Mu=Dt[It];yn=Ce.charSpace||wo,Cn=Ce.maxWidth||0,hr=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Ds=[],ul=function(dr){return Fr.getStringUnitWidth(dr,{font:Mu,charSpace:yn,fontSize:Ze,doKerning:!1})*Ze/Fi};if(Object.prototype.toString.call(C)==="[object Array]"){var Oi;dt=Fc(C),an!=="left"&&(Yi=dt.map(ul));var bi,Js=0;if(an==="right"){J-=Yi[0],C=[],Xa=dt.length;for(var Qs=0;Qs<Xa;Qs++)Qs===0?(bi=qi(J),Oi=Ya(_e)):(bi=K(Js-Yi[Qs]),Oi=-js),C.push([dt[Qs],bi,Oi]),Js=Yi[Qs]}else if(an==="center"){J-=Yi[0]/2,C=[],Xa=dt.length;for(var Co=0;Co<Xa;Co++)Co===0?(bi=qi(J),Oi=Ya(_e)):(bi=K((Js-Yi[Co])/2),Oi=-js),C.push([dt[Co],bi,Oi]),Js=Yi[Co]}else if(an==="left"){C=[],Xa=dt.length;for(var Mc=0;Mc<Xa;Mc++)C.push(dt[Mc])}else if(an==="justify"&&Mu.encoding==="Identity-H"){C=[],Xa=dt.length,Cn=Cn!==0?Cn:Eo;for(var zc=0,ua=0;ua<Xa;ua++)if(Oi=ua===0?Ya(_e):-js,bi=ua===0?qi(J):zc,ua<Xa-1){var Mf=K((Cn-Yi[ua])/(dt[ua].split(" ").length-1)),eo=dt[ua].split(" ");C.push([eo[0]+" ",bi,Oi]),zc=0;for(var to=1;to<eo.length;to++){var Za=(ul(eo[to-1]+" "+eo[to])-ul(eo[to]))*Fi+Mf;to==eo.length-1?C.push([eo[to],Za,0]):C.push([eo[to]+" ",Za,0]),zc-=Za}}else C.push([dt[ua],bi,Oi]);C.push(["",zc,0])}else{if(an!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Xa=dt.length,Cn=Cn!==0?Cn:Eo,ua=0;ua<Xa;ua++){Oi=ua===0?Ya(_e):-js,bi=ua===0?qi(J):0;var jo=dt[ua].split(" ").length-1,Ic=jo>0?(Cn-Yi[ua])/jo:0;ua<Xa-1?Ds.push(Y(K(Ic))):Ds.push(0),C.push([dt[ua],bi,Oi])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:Kt)===!0&&(C=ql(C,function(dr,ir,Or){return[dr.split("").reverse().join(""),ir,Or]})),st={text:C,x:J,y:_e,options:Ce,mutex:{pdfEscape:On,activeFontKey:It,fonts:Dt,activeFontSize:Ze}},qe.publish("postProcessText",st),C=st.text,ya=st.mutex.isHex||!1;var Pc=Dt[It].encoding;Pc!=="WinAnsiEncoding"&&Pc!=="StandardEncoding"||(C=ql(C,function(dr,ir,Or){return[Rf(dr),ir,Or]})),dt=Fc(C),C=[];for(var Do,ko,no,$l=Array.isArray(dt[0])?1:0,Ki="",Lo=function(dr,ir,Or){var fa="";return Or instanceof kt?(Or=typeof Ce.angle=="number"?rr(Or,new kt(1,0,0,1,dr,ir)):rr(new kt(1,0,0,1,dr,ir),Or),R===j&&(Or=rr(new kt(1,0,0,-1,0,0),Or)),fa=Or.join(" ")+` Tm
`):fa=Y(dr)+" "+Y(ir)+` Td
`,fa},oi=0;oi<dt.length;oi++){switch(Ki="",$l){case 1:no=(ya?"<":"(")+dt[oi][0]+(ya?">":")"),Do=parseFloat(dt[oi][1]),ko=parseFloat(dt[oi][2]);break;case 0:no=(ya?"<":"(")+dt[oi]+(ya?">":")"),Do=qi(J),ko=Ya(_e)}Ds!==void 0&&Ds[oi]!==void 0&&(Ki=Ds[oi]+` Tw
`),oi===0?C.push(Ki+Lo(Do,ko,ca)+no):$l===0?C.push(Ki+no):$l===1&&C.push(Ki+Lo(Do,ko,ca)+no)}C=$l===0?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var as=`BT
/`;return as+=It+" "+Ze+` Tf
`,as+=Y(Ze*rs)+` TL
`,as+=$s+`
`,as+=Ka,as+=C,xe(as+="ET"),y[It]=!0,Fr};var Yn=g.__private__.clip=g.clip=function(C){return xe(C==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Yn("evenodd")},g.__private__.discardPath=g.discardPath=function(){return xe("n"),this};var la=g.__private__.isValidStyle=function(C){var J=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(J=!0),J};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(C){return la(C)&&(h=C),this};var _s=g.__private__.getStyle=g.getStyle=function(C){var J=h;switch(C){case"D":case"S":J="S";break;case"F":J="f";break;case"FD":case"DF":J="B";break;case"f":case"f*":case"B":case"B*":J=C}return J},Ts=g.close=function(){return xe("h"),this};g.stroke=function(){return xe("S"),this},g.fill=function(C){return Kn("f",C),this},g.fillEvenOdd=function(C){return Kn("f*",C),this},g.fillStroke=function(C){return Kn("B",C),this},g.fillStrokeEvenOdd=function(C){return Kn("B*",C),this};var Kn=function(C,J){Dr(J)==="object"?Nr(J,C):xe(C)},si=function(C){C===null||R===j&&C===void 0||(C=_s(C),xe(C))};function La(C,J,_e,Ce,Me){var st=new R0(J||this.boundingBox,_e||this.xStep,Ce||this.yStep,this.gState,Me||this.matrix);st.stream=this.stream;var dt=C+"$$"+this.cloneIndex+++"$$";return nn(dt,st),st}var Nr=function(C,J){var _e=mn[C.key],Ce=$t[_e];if(Ce instanceof af)xe("q"),xe(Tn(J)),Ce.gState&&g.setGState(Ce.gState),xe(C.matrix.toString()+" cm"),xe("/"+_e+" sh"),xe("Q");else if(Ce instanceof R0){var Me=new kt(1,0,0,-1,0,To());C.matrix&&(Me=Me.multiply(C.matrix||Vn),_e=La.call(Ce,C.key,C.boundingBox,C.xStep,C.yStep,Me).id),xe("q"),xe("/Pattern cs"),xe("/"+_e+" scn"),Ce.gState&&g.setGState(Ce.gState),xe(J),xe("Q")}},Tn=function(C){switch(C){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},jc=g.moveTo=function(C,J){return xe(Y(K(C))+" "+Y(X(J))+" m"),this},yo=g.lineTo=function(C,J){return xe(Y(K(C))+" "+Y(X(J))+" l"),this},As=g.curveTo=function(C,J,_e,Ce,Me,st){return xe([Y(K(C)),Y(X(J)),Y(K(_e)),Y(X(Ce)),Y(K(Me)),Y(X(st)),"c"].join(" ")),this};g.__private__.line=g.line=function(C,J,_e,Ce,Me){if(isNaN(C)||isNaN(J)||isNaN(_e)||isNaN(Ce)||!la(Me))throw new Error("Invalid arguments passed to jsPDF.line");return R===D?this.lines([[_e-C,Ce-J]],C,J,[1,1],Me||"S"):this.lines([[_e-C,Ce-J]],C,J,[1,1]).stroke()},g.__private__.lines=g.lines=function(C,J,_e,Ce,Me,st){var dt,Zt,an,yn,Cn,hr,$r,ca,Fr,Fa,ya,Ka;if(typeof C=="number"&&(Ka=_e,_e=J,J=C,C=Ka),Ce=Ce||[1,1],st=st||!1,isNaN(J)||isNaN(_e)||!Array.isArray(C)||!Array.isArray(Ce)||!la(Me)||typeof st!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(jc(J,_e),dt=Ce[0],Zt=Ce[1],yn=C.length,Fa=J,ya=_e,an=0;an<yn;an++)(Cn=C[an]).length===2?(Fa=Cn[0]*dt+Fa,ya=Cn[1]*Zt+ya,yo(Fa,ya)):(hr=Cn[0]*dt+Fa,$r=Cn[1]*Zt+ya,ca=Cn[2]*dt+Fa,Fr=Cn[3]*Zt+ya,Fa=Cn[4]*dt+Fa,ya=Cn[5]*Zt+ya,As(hr,$r,ca,Fr,Fa,ya));return st&&Ts(),si(Me),this},g.path=function(C){for(var J=0;J<C.length;J++){var _e=C[J],Ce=_e.c;switch(_e.op){case"m":jc(Ce[0],Ce[1]);break;case"l":yo(Ce[0],Ce[1]);break;case"c":As.apply(this,Ce);break;case"h":Ts()}}return this},g.__private__.rect=g.rect=function(C,J,_e,Ce,Me){if(isNaN(C)||isNaN(J)||isNaN(_e)||isNaN(Ce)||!la(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return R===D&&(Ce=-Ce),xe([Y(K(C)),Y(X(J)),Y(K(_e)),Y(K(Ce)),"re"].join(" ")),si(Me),this},g.__private__.triangle=g.triangle=function(C,J,_e,Ce,Me,st,dt){if(isNaN(C)||isNaN(J)||isNaN(_e)||isNaN(Ce)||isNaN(Me)||isNaN(st)||!la(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-C,Ce-J],[Me-_e,st-Ce],[C-Me,J-st]],C,J,[1,1],dt,!0),this},g.__private__.roundedRect=g.roundedRect=function(C,J,_e,Ce,Me,st,dt){if(isNaN(C)||isNaN(J)||isNaN(_e)||isNaN(Ce)||isNaN(Me)||isNaN(st)||!la(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Zt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*_e),st=Math.min(st,.5*Ce),this.lines([[_e-2*Me,0],[Me*Zt,0,Me,st-st*Zt,Me,st],[0,Ce-2*st],[0,st*Zt,-Me*Zt,st,-Me,st],[2*Me-_e,0],[-Me*Zt,0,-Me,-st*Zt,-Me,-st],[0,2*st-Ce],[0,-st*Zt,Me*Zt,-st,Me,-st]],C+Me,J,[1,1],dt,!0),this},g.__private__.ellipse=g.ellipse=function(C,J,_e,Ce,Me){if(isNaN(C)||isNaN(J)||isNaN(_e)||isNaN(Ce)||!la(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var st=4/3*(Math.SQRT2-1)*_e,dt=4/3*(Math.SQRT2-1)*Ce;return jc(C+_e,J),As(C+_e,J-dt,C+st,J-Ce,C,J-Ce),As(C-st,J-Ce,C-_e,J-dt,C-_e,J),As(C-_e,J+dt,C-st,J+Ce,C,J+Ce),As(C+st,J+Ce,C+_e,J+dt,C+_e,J),si(Me),this},g.__private__.circle=g.circle=function(C,J,_e,Ce){if(isNaN(C)||isNaN(J)||isNaN(_e)||!la(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,J,_e,_e,Ce)},g.setFont=function(C,J,_e){return _e&&(J=I(J,_e)),It=Li(C,J,{disableWarning:!1}),this};var Es=g.__private__.getFont=g.getFont=function(){return Dt[Li.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var C,J,_e={};for(C in Pt)if(Pt.hasOwnProperty(C))for(J in _e[C]=[],Pt[C])Pt[C].hasOwnProperty(J)&&_e[C].push(J);return _e},g.addFont=function(C,J,_e,Ce,Me){var st=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&st.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&st.indexOf(arguments[3])==-1&&(_e=I(_e,Ce)),Qn.call(this,C,J,_e,Me=Me||"Identity-H")};var bo,Pl=e.lineWidth||.200025,pn=g.__private__.getLineWidth=g.getLineWidth=function(){return Pl},il=g.__private__.setLineWidth=g.setLineWidth=function(C){return Pl=C,xe(Y(K(C))+" w"),this};g.__private__.setLineDash=on.API.setLineDash=on.API.setLineDashPattern=function(C,J){if(C=C||[],J=J||0,isNaN(J)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(_e){return Y(K(_e))}).join(" "),J=Y(K(J)),xe("["+C+"] "+J+" d"),this};var Df=g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*bo};g.__private__.getLineHeight=g.getLineHeight=function(){return Ze*bo};var Fu=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(bo=C),this},kf=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return bo};Fu(e.lineHeight);var qi=g.__private__.getHorizontalCoordinate=function(C){return K(C)},Ya=g.__private__.getVerticalCoordinate=function(C){return R===j?C:Ut[F].mediaBox.topRightY-Ut[F].mediaBox.bottomLeftY-K(C)},Ou=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(C){return Y(qi(C))},Bl=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(C){return Y(Ya(C))},Wi=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return ge(Wi)},g.__private__.setStrokeColor=g.setDrawColor=function(C,J,_e,Ce){return Wi=be({ch1:C,ch2:J,ch3:_e,ch4:Ce,pdfColorType:"draw",precision:2}),xe(Wi),this};var Ul=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return ge(Ul)},g.__private__.setFillColor=g.setFillColor=function(C,J,_e,Ce){return Ul=be({ch1:C,ch2:J,ch3:_e,ch4:Ce,pdfColorType:"fill",precision:2}),xe(Ul),this};var $s=e.textColor||"0 g",Hl=g.__private__.getTextColor=g.getTextColor=function(){return ge($s)};g.__private__.setTextColor=g.setTextColor=function(C,J,_e,Ce){return $s=be({ch1:C,ch2:J,ch3:_e,ch4:Ce,pdfColorType:"text",precision:3}),this};var wo=e.charSpace,Dc=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(wo||0)};g.__private__.setCharSpace=g.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wo=C,this};var kc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(C){var J=g.CapJoinStyles[C];if(J===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kc=J,xe(J+" J"),this};var Pa=0;g.__private__.setLineJoin=g.setLineJoin=function(C){var J=g.CapJoinStyles[C];if(J===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=J,xe(J+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(Y(K(C))+" M"),this},g.GState=lp,g.setGState=function(C){(C=typeof C=="string"?Bt[Fn[C]]:$i(null,C)).equals(Hn)||(xe("/"+C.id+" gs"),Hn=C)};var $i=function(C,J){if(!C||!Fn[C]){var _e=!1;for(var Ce in Bt)if(Bt.hasOwnProperty(Ce)&&Bt[Ce].equals(J)){_e=!0;break}if(_e)J=Bt[Ce];else{var Me="GS"+(Object.keys(Bt).length+1).toString(10);Bt[Me]=J,J.id=Me}return C&&(Fn[C]=J.id),qe.publish("addGState",J),J}};g.addGState=function(C,J){return $i(C,J),this},g.saveGraphicsState=function(){return xe("q"),xn.push({key:It,size:Ze,color:$s}),this},g.restoreGraphicsState=function(){xe("Q");var C=xn.pop();return It=C.key,Ze=C.size,$s=C.color,Hn=null,this},g.setCurrentTransformationMatrix=function(C){return xe(C.toString()+" cm"),this},g.comment=function(C){return xe("#"+C),this};var Ys=function(C,J){var _e=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(st){isNaN(st)||(_e=parseFloat(st))}});var Ce=J||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(st){isNaN(st)||(Ce=parseFloat(st))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(st){Me=st.toString()}}),this},So=function(C,J,_e,Ce){Ys.call(this,C,J),this.type="rect";var Me=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(dt){isNaN(dt)||(Me=parseFloat(dt))}});var st=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return st},set:function(dt){isNaN(dt)||(st=parseFloat(dt))}}),this},Lc=function(){this.page=_n,this.currentPage=F,this.pages=je.slice(0),this.pagesContext=Ut.slice(0),this.x=Ft,this.y=Mn,this.matrix=Xt,this.width=sl(F),this.height=Ks(F),this.outputDestination=Ge,this.id="",this.objectNumber=-1};Lc.prototype.restore=function(){_n=this.page,F=this.currentPage,Ut=this.pagesContext,je=this.pages,Ft=this.x,Mn=this.y,Xt=this.matrix,Gl(F,this.width),_o(F,this.height),Ge=this.outputDestination};var Vl=function(C,J,_e,Ce,Me){Wn.push(new Lc),_n=F=0,je=[],Ft=C,Mn=J,Xt=Me,er([_e,Ce])};for(var No in g.beginFormObject=function(C,J,_e,Ce,Me){return Vl(C,J,_e,Ce,Me),this},g.endFormObject=function(C){return(function(J){if(ln[J])Wn.pop().restore();else{var _e=new Lc,Ce="Xo"+(Object.keys(nt).length+1).toString(10);_e.id=Ce,ln[J]=Ce,nt[Ce]=_e,qe.publish("addFormObject",_e),Wn.pop().restore()}})(C),this},g.doFormObject=function(C,J){var _e=nt[ln[C]];return xe("q"),xe(J.toString()+" cm"),xe("/"+_e.id+" Do"),xe("Q"),this},g.getFormObject=function(C){var J=nt[ln[C]];return{x:J.x,y:J.y,width:J.width,height:J.height,matrix:J.matrix}},g.save=function(C,J){return C=C||"generated.pdf",(J=J||{}).returnPromise=J.returnPromise||!1,J.returnPromise===!1?(rf(xa(qr()),C),typeof rf.unload=="function"&&En.setTimeout&&setTimeout(rf.unload,911),this):new Promise(function(_e,Ce){try{var Me=rf(xa(qr()),C);typeof rf.unload=="function"&&En.setTimeout&&setTimeout(rf.unload,911),_e(Me)}catch(st){Ce(st.message)}})},on.API)on.API.hasOwnProperty(No)&&(No==="events"&&on.API.events.length?(function(C,J){var _e,Ce,Me;for(Me=J.length-1;Me!==-1;Me--)_e=J[Me][0],Ce=J[Me][1],C.subscribe.apply(C,[_e].concat(typeof Ce=="function"?[Ce]:Ce))})(qe,on.API.events):g[No]=on.API[No]);function sl(C){return Ut[C].mediaBox.topRightX-Ut[C].mediaBox.bottomLeftX}function Gl(C,J){Ut[C].mediaBox.topRightX=J+Ut[C].mediaBox.bottomLeftX}function Ks(C){return Ut[C].mediaBox.topRightY-Ut[C].mediaBox.bottomLeftY}function _o(C,J){Ut[C].mediaBox.topRightY=J+Ut[C].mediaBox.bottomLeftY}var Lf=g.getPageWidth=function(C){return sl(C=C||F)/tn},Ff=g.setPageWidth=function(C,J){Gl(C,J*tn)},To=g.getPageHeight=function(C){return Ks(C=C||F)/tn},Of=g.setPageHeight=function(C,J){_o(C,J*tn)};return g.internal={pdfEscape:On,getStyle:_s,getFont:Es,getFontSize:St,getCharSpace:Dc,getTextColor:Hl,getLineHeight:Df,getLineHeightFactor:kf,getLineWidth:pn,write:gt,getHorizontalCoordinate:qi,getVerticalCoordinate:Ya,getCoordinateString:Ou,getVerticalCoordinateString:Bl,collections:{},newObject:jn,newAdditionalObject:ye,newObjectDeferred:ar,newObjectDeferredBegin:ne,getFilters:Pe,putStream:Je,events:qe,scaleFactor:tn,pageSize:{getWidth:function(){return Lf(F)},setWidth:function(C){Ff(F,C)},getHeight:function(){return To(F)},setHeight:function(C){Of(F,C)}},encryptionOptions:m,encryption:Gn,getEncryptor:function(C){return m!==null?Gn.encryptor(C,0):function(J){return J}},output:va,getNumberOfPages:ka,pages:je,out:xe,f2:O,f3:G,getPageInfo:Ae,getPageInfoByObjId:Ot,getCurrentPageInfo:vt,getPDFVersion:b,Point:Ys,Rectangle:So,Matrix:kt,hasHotfix:oa},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Lf(F)},set:function(C){Ff(F,C)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return To(F)},set:function(C){Of(F,C)},enumerable:!0,configurable:!0}),(function(C){for(var J=0,_e=wt.length;J<_e;J++){var Ce=Qn.call(this,C[J][0],C[J][1],C[J][2],wt[J][3],!0);v===!1&&(y[Ce]=!0);var Me=C[J][0].split("-");Mt({id:Ce,fontName:Me[0],fontStyle:Me[1]||""})}qe.publish("addFonts",{fonts:Dt,dictionary:Pt})}).call(g,wt),It="F1",ga(a,n),qe.publish("initialized"),g}T0.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},T0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},T0.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},T0.prototype.processOwnerPassword=function(e,t){return wv(bv(t).substr(0,5),e)},T0.prototype.encryptor=function(e,t){var n=bv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return wv(n,r)}},lp.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Dr(e)!==Dr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},on.API={events:[]},on.version="3.0.3";var Aa=on.API,L5=1,_f=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},v0=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ln=function(e){return e.toFixed(2)},uu=function(e){return e.toFixed(5)};Aa.__acroform__={};var Ns=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},NS=function(e){return e*L5},El=function(e){var t=new xA,n=en.internal.getHeight(e)||0,r=en.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ln(r)),Number(Ln(n))],t},QM=Aa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},ez=Aa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},tz=Aa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ma=Aa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tz(e,t-1)},za=Aa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return QM(e,t-1)},Ia=Aa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ez(e,t-1)},nz=Aa.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],s=e[1],l=e[2],c=e[3],d={};return d.lowerLeft_X=n(a)||0,d.lowerLeft_Y=r(s+c)||0,d.upperRight_X=n(a+l)||0,d.upperRight_Y=r(s)||0,[Number(Ln(d.lowerLeft_X)),Number(Ln(d.lowerLeft_Y)),Number(Ln(d.upperRight_X)),Number(Ln(d.upperRight_Y))]},rz=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Sv(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Ln(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=El(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Sv=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var s=n,l=en.internal.getHeight(e)||0;l=l<0?-l:l;var c=en.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(O,G,K){if(O+1<a.length){var X=G+" "+a[O+1][0];return wm(X,e,K).width<=c-4}return!1};s++;e:for(;s>0;){t="",s--;var h,m,v=wm("3",e,s).height,y=e.multiline?l-s:(l-v)/2,g=y+=2,T=0,b=0,A=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+wm(t,e,s=12).width+", FieldWidth:"+c+`
`;break}for(var E="",D=0,j=0;j<a.length;j++)if(a.hasOwnProperty(j)){var R=!1;if(a[j].length!==1&&A!==a[j].length-1){if((v+2)*(D+2)+2>l)continue e;E+=a[j][A],R=!0,b=j,j--}else{E=(E+=a[j][A]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var q=parseInt(j),Z=d(q,E,s),I=j>=a.length-1;if(Z&&!I){E+=" ",A=0;continue}if(Z||I){if(I)b=q;else if(e.multiline&&(v+2)*(D+2)+2>l)continue e}else{if(!e.multiline||(v+2)*(D+2)+2>l)continue e;b=q}}for(var Y="",P=T;P<=b;P++){var Q=a[P];if(e.multiline){if(P===b){Y+=Q[A]+" ",A=(A+1)%Q.length;continue}if(P===T){Y+=Q[Q.length-1]+" ";continue}}Y+=Q[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,m=wm(Y,e,s).width,e.textAlign){case"right":h=c-m-2;break;case"center":h=(c-m)/2;break;default:h=2}t+=Ln(h)+" "+Ln(g)+` Td
`,t+="("+_f(Y)+`) Tj
`,t+=-Ln(h)+` 0 Td
`,g=-(s+2),m=0,T=R?b:b+1,D++,E=""}break}return r.text=t,r.fontSize=s,r},wm=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},az={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iz=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},sz=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(rl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(az)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");L5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new vA,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];s.objId=void 0,s.hasAnnotation&&iz(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,a){var s=!r;for(var l in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var c=r[l],d=[],h=c.Rect;if(c.Rect&&(c.Rect=nz(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=en.createDefaultAppearanceStream(c),Dr(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var m=rz(c);d.push({key:"AP",value:"<</N "+m+">>"}),a.internal.acroformPlugin.xForms.push(m)}if(c.appearanceStreamContent){var v="";for(var y in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(y)){var g=c.appearanceStreamContent[y];if(v+="/"+y+" ",v+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var T=g[l];typeof T=="function"&&(T=T.call(a,c)),v+="/"+l+" "+T+" ",a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T)}}else typeof(T=g)=="function"&&(T=T.call(a,c)),v+="/"+l+" "+T,a.internal.acroformPlugin.xForms.indexOf(T)>=0||a.internal.acroformPlugin.xForms.push(T);v+=">>"}d.push({key:"AP",value:`<<
`+v+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}s&&(function(b,A){for(var E in b)if(b.hasOwnProperty(E)){var D=E,j=b[E];A.internal.newObjectDeferredBegin(j.objId,!0),Dr(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete b[D]}})(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},gA=Aa.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(l){return l};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),Dr(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),a+="("+_f(r(e[s].toString()))+")"):a+=e[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},mx=function(e,t,n){var r=function(a){return a};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+_f(r(e))+")"},Dl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dl.prototype.toString=function(){return this.objId+" 0 R"},Dl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Dl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:gA(a,this.objId,this.scope)}):a instanceof Dl?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:r,value:a}))}return e};var xA=function(){Dl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ns(xA,Dl);var vA=function(){Dl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+_f(n(e))+")"}},set:function(n){e=n}})};Ns(vA,Dl);var rl=function e(){Dl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ma(t,3)},set:function(E){E?this.F=za(t,3):this.F=Ia(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof cp)return;s="FieldObject"+e.FieldNum++}var E=function(D){return D};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+_f(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(E){l=E}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/L5:h},set:function(E){h=E}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(E){m=E}});var v="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!v||this instanceof cp||this instanceof df))return mx(v,this.objId,this.scope)},set:function(E){E=E.toString(),v=E}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof pi==0?mx(y,this.objId,this.scope):y},set:function(E){E=E.toString(),y=this instanceof pi==0?E.substr(0,1)==="("?v0(E.substr(1,E.length-2)):v0(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?v0(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof pi==1?"/"+E:E}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof pi==0?mx(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof pi==0?E.substr(0,1)==="("?v0(E.substr(1,E.length-2)):v0(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof pi==1?v0(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof pi==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(E){E=!!E,b=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(E){T=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,1)},set:function(E){E?this.Ff=za(this.Ff,1):this.Ff=Ia(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,2)},set:function(E){E?this.Ff=za(this.Ff,2):this.Ff=Ia(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,3)},set:function(E){E?this.Ff=za(this.Ff,3):this.Ff=Ia(this.Ff,3)}});var A=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(A!==null)return A},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');A=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(A){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:A=2;break;case"center":case 1:A=1;break;default:A=0}}})};Ns(rl,Dl);var H0=function(){rl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return gA(t,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=(function(s,l,c){c||(c=1);for(var d,h=[];d=l.exec(s);)h.push(d[c]);return h})(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,18)},set:function(n){n?this.Ff=za(this.Ff,18):this.Ff=Ia(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=za(this.Ff,19):this.Ff=Ia(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,20)},set:function(n){n?(this.Ff=za(this.Ff,20),t.sort()):this.Ff=Ia(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,22)},set:function(n){n?this.Ff=za(this.Ff,22):this.Ff=Ia(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,23)},set:function(n){n?this.Ff=za(this.Ff,23):this.Ff=Ia(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,27)},set:function(n){n?this.Ff=za(this.Ff,27):this.Ff=Ia(this.Ff,27)}}),this.hasAppearanceStream=!1};Ns(H0,rl);var V0=function(){H0.call(this),this.fontName="helvetica",this.combo=!1};Ns(V0,H0);var G0=function(){V0.call(this),this.combo=!0};Ns(G0,V0);var Pm=function(){G0.call(this),this.edit=!0};Ns(Pm,G0);var pi=function(){rl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,15)},set:function(n){n?this.Ff=za(this.Ff,15):this.Ff=Ia(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,16)},set:function(n){n?this.Ff=za(this.Ff,16):this.Ff=Ia(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,17)},set:function(n){n?this.Ff=za(this.Ff,17):this.Ff=Ia(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,26)},set:function(n){n?this.Ff=za(this.Ff,26):this.Ff=Ia(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+_f(n(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){Dr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ns(pi,rl);var Bm=function(){pi.call(this),this.pushButton=!0};Ns(Bm,pi);var q0=function(){pi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ns(q0,pi);var cp=function(){var e,t;rl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+_f(a(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Dr(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=en.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ns(cp,rl),q0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},q0.prototype.createOption=function(e){var t=new cp;return t.Parent=this,t.optionName=e,this.Kids.push(t),oz.call(this.scope,t),t};var Um=function(){pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=en.CheckBox.createAppearanceStream()};Ns(Um,pi);var df=function(){rl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,13)},set:function(t){t?this.Ff=za(this.Ff,13):this.Ff=Ia(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,21)},set:function(t){t?this.Ff=za(this.Ff,21):this.Ff=Ia(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,23)},set:function(t){t?this.Ff=za(this.Ff,23):this.Ff=Ia(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,24)},set:function(t){t?this.Ff=za(this.Ff,24):this.Ff=Ia(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,25)},set:function(t){t?this.Ff=za(this.Ff,25):this.Ff=Ia(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,26)},set:function(t){t?this.Ff=za(this.Ff,26):this.Ff=Ia(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ns(df,rl);var Hm=function(){df.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ma(this.Ff,14)},set:function(e){e?this.Ff=za(this.Ff,14):this.Ff=Ia(this.Ff,14)}}),this.password=!0};Ns(Hm,df);var en={CheckBox:{createAppearanceStream:function(){return{N:{On:en.CheckBox.YesNormal},D:{On:en.CheckBox.YesPushDown,Off:en.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=El(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Sv(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Ln(en.internal.getWidth(e))+" "+Ln(en.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Ln(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=El(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],s=en.internal.getHeight(e),l=en.internal.getWidth(e),c=Sv(e,e.caption);return a.push("1 g"),a.push("0 0 "+Ln(l)+" "+Ln(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ln(l-1)+" "+Ln(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+Ln(c.fontSize)+" Tf "+r),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=El(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(en.internal.getWidth(e))+" "+Ln(en.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:en.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=en.RadioButton.Circle.YesNormal,t.D[e]=en.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=El(e);t.scope=e.scope;var n=[],r=en.internal.getWidth(e)<=en.internal.getHeight(e)?en.internal.getWidth(e)/4:en.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=en.internal.Bezier_C,s=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+uu(en.internal.getWidth(e)/2)+" "+uu(en.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=El(e);t.scope=e.scope;var n=[],r=en.internal.getWidth(e)<=en.internal.getHeight(e)?en.internal.getWidth(e)/4:en.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*en.internal.Bezier_C).toFixed(5)),l=Number((r*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+uu(en.internal.getWidth(e)/2)+" "+uu(en.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+uu(en.internal.getWidth(e)/2)+" "+uu(en.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),n.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),n.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),n.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=El(e);t.scope=e.scope;var n=[],r=en.internal.getWidth(e)<=en.internal.getHeight(e)?en.internal.getWidth(e)/4:en.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+uu(en.internal.getWidth(e)/2)+" "+uu(en.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:en.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=en.RadioButton.Cross.YesNormal,t.D[e]=en.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=El(e);t.scope=e.scope;var n=[],r=en.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Ln(en.internal.getWidth(e)-2)+" "+Ln(en.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ln(r.x1.x)+" "+Ln(r.x1.y)+" m"),n.push(Ln(r.x2.x)+" "+Ln(r.x2.y)+" l"),n.push(Ln(r.x4.x)+" "+Ln(r.x4.y)+" m"),n.push(Ln(r.x3.x)+" "+Ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=El(e);t.scope=e.scope;var n=en.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(en.internal.getWidth(e))+" "+Ln(en.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Ln(en.internal.getWidth(e)-2)+" "+Ln(en.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ln(n.x1.x)+" "+Ln(n.x1.y)+" m"),r.push(Ln(n.x2.x)+" "+Ln(n.x2.y)+" l"),r.push(Ln(n.x4.x)+" "+Ln(n.x4.y)+" m"),r.push(Ln(n.x3.x)+" "+Ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=El(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(en.internal.getWidth(e))+" "+Ln(en.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};en.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=en.internal.getWidth(e),n=en.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},en.internal.getWidth=function(e){var t=0;return Dr(e)==="object"&&(t=NS(e.Rect[2])),t},en.internal.getHeight=function(e){var t=0;return Dr(e)==="object"&&(t=NS(e.Rect[3])),t};var oz=Aa.addField=function(e){if(sz(this,e),!(e instanceof rl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Aa.AcroFormChoiceField=H0,Aa.AcroFormListBox=V0,Aa.AcroFormComboBox=G0,Aa.AcroFormEditBox=Pm,Aa.AcroFormButton=pi,Aa.AcroFormPushButton=Bm,Aa.AcroFormRadioButton=q0,Aa.AcroFormCheckBox=Um,Aa.AcroFormTextField=df,Aa.AcroFormPasswordField=Hm,Aa.AcroFormAppearance=en,Aa.AcroForm={ChoiceField:H0,ListBox:V0,ComboBox:G0,EditBox:Pm,Button:pi,PushButton:Bm,RadioButton:q0,CheckBox:Um,TextField:df,PasswordField:Hm,Appearance:en},on.AcroForm={ChoiceField:H0,ListBox:V0,ComboBox:G0,EditBox:Pm,Button:pi,PushButton:Bm,RadioButton:q0,CheckBox:Um,TextField:df,PasswordField:Hm,Appearance:en};on.AcroForm;function yA(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(O,G){var K,X,H,V,ae,ce=n;if((G=G||n)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(Z(O))for(ae in r)for(H=r[ae],K=0;K<H.length;K+=1){for(V=!0,X=0;X<H[K].length;X+=1)if(H[K][X]!==void 0&&H[K][X]!==O[X]){V=!1;break}if(V===!0){ce=ae;break}}else for(ae in r)for(H=r[ae],K=0;K<H.length;K+=1){for(V=!0,X=0;X<H[K].length;X+=1)if(H[K][X]!==void 0&&H[K][X]!==O.charCodeAt(X)){V=!1;break}if(V===!0){ce=ae;break}}return ce===n&&G!==n&&(ce=G),ce},s=function O(G){for(var K=this.internal.write,X=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);G.objectId=this.internal.newObject();var V=[];if(V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Image"}),V.push({key:"Width",value:G.width}),V.push({key:"Height",value:G.height}),G.colorSpace===E.INDEXED?V.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(G.palette.length/3-1)+" "+("sMask"in G&&G.sMask!==void 0?G.objectId+2:G.objectId+1)+" 0 R]"}):(V.push({key:"ColorSpace",value:"/"+G.colorSpace}),G.colorSpace===E.DEVICE_CMYK&&V.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),V.push({key:"BitsPerComponent",value:G.bitsPerComponent}),"decodeParameters"in G&&G.decodeParameters!==void 0&&V.push({key:"DecodeParms",value:"<<"+G.decodeParameters+">>"}),"transparency"in G&&Array.isArray(G.transparency)&&G.transparency.length>0){for(var ae="",ce=0,le=G.transparency.length;ce<le;ce++)ae+=G.transparency[ce]+" "+G.transparency[ce]+" ";V.push({key:"Mask",value:"["+ae+"]"})}G.sMask!==void 0&&V.push({key:"SMask",value:G.objectId+1+" 0 R"});var me=G.filter!==void 0?["/"+G.filter]:void 0;if(X({data:G.data,additionalKeyValues:V,alreadyAppliedFilters:me,objectId:G.objectId}),K("endobj"),"sMask"in G&&G.sMask!==void 0){var M,N=(M=G.sMaskBitsPerComponent)!==null&&M!==void 0?M:G.bitsPerComponent,F={width:G.width,height:G.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:G.sMask};"filter"in G&&(F.decodeParameters="/Predictor ".concat(G.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(G.width),F.filter=G.filter),O.call(this,F)}if(G.colorSpace===E.INDEXED){var L=this.internal.newObject();X({data:Y(new Uint8Array(G.palette)),objectId:L}),K("endobj")}},l=function(){var O=this.internal.collections[t+"images"];for(var G in O)s.call(this,O[G])},c=function(){var O,G=this.internal.collections[t+"images"],K=this.internal.write;for(var X in G)K("/I"+(O=G[X]).index,O.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var O=this.internal.collections[t+"images"];return d.call(this),O},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},v=function(O){return typeof e["process"+O.toUpperCase()]=="function"},y=function(O){return Dr(O)==="object"&&O.nodeType===1},g=function(O,G){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var K=""+O.getAttribute("src");if(K.indexOf("data:image/")===0)return Im(unescape(K).split("base64,").pop());var X=e.loadFile(K,!0);if(X!==void 0)return X}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var H;switch(G){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return Im(O.toDataURL(H,1).split("base64,").pop())}},T=function(O){var G=this.internal.collections[t+"images"];if(G){for(var K in G)if(O===G[K].alias)return G[K]}},b=function(O,G,K){return O||G||(O=-96,G=-96),O<0&&(O=-1*K.width*72/O/this.internal.scaleFactor),G<0&&(G=-1*K.height*72/G/this.internal.scaleFactor),O===0&&(O=G*K.width/K.height),G===0&&(G=O*K.height/K.width),[O,G]},A=function(O,G,K,X,H,V){var ae=b.call(this,K,X,H),ce=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,me=h.call(this);if(K=ae[0],X=ae[1],me[H.index]=H,V){V*=Math.PI/180;var M=Math.cos(V),N=Math.sin(V),F=function(B){return B.toFixed(4)},L=[F(M),F(N),F(-1*N),F(M),0,0,"cm"]}this.internal.write("q"),V?(this.internal.write([1,"0","0",1,ce(O),le(G+X),"cm"].join(" ")),this.internal.write(L.join(" ")),this.internal.write([ce(K),"0","0",ce(X),"0","0","cm"].join(" "))):this.internal.write([ce(K),"0","0",ce(X),ce(O),le(G+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},E=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(O){var G,K,X=0;if(typeof O=="string")for(K=O.length,G=0;G<K;G++)X=(X<<5)-X+O.charCodeAt(G),X|=0;else if(Z(O))for(K=O.byteLength/2,G=0;G<K;G++)X=(X<<5)-X+O[G],X|=0;return X},R=e.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var G=!0;return O.length===0&&(G=!1),O.length%4!=0&&(G=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(G=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(G=!1),G},q=e.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var G=O.indexOf(",");return G<0?null:O.substring(0,G).trim().endsWith("base64")?O.substring(G+1):null};e.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var Z=e.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},I=e.__addimage__.binaryStringToUint8Array=function(O){for(var G=O.length,K=new Uint8Array(G),X=0;X<G;X++)K[X]=O.charCodeAt(X);return K},Y=e.__addimage__.arrayBufferToBinaryString=function(O){for(var G="",K=Z(O)?O:new Uint8Array(O),X=0;X<K.length;X+=8192)G+=String.fromCharCode.apply(null,K.subarray(X,X+8192));return G};e.addImage=function(){var O,G,K,X,H,V,ae,ce,le;if(typeof arguments[1]=="number"?(G=n,K=arguments[1],X=arguments[2],H=arguments[3],V=arguments[4],ae=arguments[5],ce=arguments[6],le=arguments[7]):(G=arguments[1],K=arguments[2],X=arguments[3],H=arguments[4],V=arguments[5],ae=arguments[6],ce=arguments[7],le=arguments[8]),Dr(O=arguments[0])==="object"&&!y(O)&&"imageData"in O){var me=O;O=me.imageData,G=me.format||G||n,K=me.x||K||0,X=me.y||X||0,H=me.w||me.width||H,V=me.h||me.height||V,ae=me.alias||ae,ce=me.compression||ce,le=me.rotation||me.angle||le}var M=this.internal.getFilters();if(ce===void 0&&M.indexOf("FlateEncode")!==-1&&(ce="SLOW"),isNaN(K)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var N=P.call(this,O,G,ae,ce);return A.call(this,K,X,H,V,N,le),this};var P=function(O,G,K,X){var H,V,ae;if(typeof O=="string"&&a(O)===n){O=unescape(O);var ce=Q(O,!1);(ce!==""||(ce=e.loadFile(O,!0))!==void 0)&&(O=ce)}if(y(O)&&(O=g(O,G)),G=a(O,G),!v(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(((ae=K)==null||ae.length===0)&&(K=(function(le){return typeof le=="string"||Z(le)?j(le):Z(le.data)?j(le.data):null})(O)),(H=T.call(this,K))||(O instanceof Uint8Array||G==="RGBA"||(V=O,O=I(O)),H=this["process"+G.toUpperCase()](O,m.call(this),K,(function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in e.image_compression?le:D.NONE})(X),V)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},Q=e.__addimage__.convertBase64ToBinaryString=function(O,G){G=typeof G!="boolean"||G;var K,X="";if(typeof O=="string"){var H;K=(H=q(O))!==null&&H!==void 0?H:O;try{X=Im(K)}catch(V){if(G)throw R(K)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+V.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};e.getImageProperties=function(O){var G,K,X="";if(y(O)&&(O=g(O)),typeof O=="string"&&a(O)===n&&((X=Q(O,!1))===""&&(X=e.loadFile(O)||""),O=X),K=a(O),!v(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(O instanceof Uint8Array||(O=I(O)),!(G=this["process"+K.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return G.fileType=K,G}})(on.API),(function(e){var t=function(n){if(n!==void 0&&n!="")return!0};on.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,a,s,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,m=!1,v=0;v<h.length&&!m;v++)switch((r=h[v]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var y=0;y<h.length;y++){r=h[y];var g=this.internal.pdfEscape,T=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),A=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(b.objId),D=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+g(E(r.contents))+")",s+=" /Popup "+A.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+g(E(D))+") >>",b.content=s;var j=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",A.content=s,this.internal.write(b.objId,"0 R",A.objId,"0 R");break;case"freetext":a="/Rect ["+l(r.bounds.x)+" "+c(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(T(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var Z=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,a,s,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(n),y:h(r),w:d(n+a),h:h(r+s)},options:l,type:"link"})},e.textWithLink=function(n,r,a,s){var l,c,d=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var m=this.splitTextToSize(n,c).length;l=Math.ceil(h*m)}else c=d,l=h;return this.text(n,r,a,s),a+=.2*h,s.align==="center"&&(r-=d/2),s.align==="right"&&(r-=d),this.link(r,a-h,c,l,s),d},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(on.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},c=e.__arabicParser__.isArabicEndLetter=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(b){return l(b)&&a.indexOf(b.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(b){return l(b)&&s(b)&&t[b.charCodeAt(0)].length==4},v=e.__arabicParser__.resolveLigatures=function(b){var A=0,E=n,D="",j=0;for(A=0;A<b.length;A+=1)E[b.charCodeAt(A)]!==void 0?(j++,typeof(E=E[b.charCodeAt(A)])=="number"&&(D+=String.fromCharCode(E),E=n,j=0),A===b.length-1&&(E=n,D+=b.charAt(A-(j-1)),A-=j-1,j=0)):(E=n,D+=b.charAt(A-j),A-=j,j=0);return D};e.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(b,A,E){return l(b)?s(b)===!1?-1:!h(b)||!l(A)&&!l(E)||!l(E)&&c(A)||c(b)&&!l(A)||c(b)&&d(A)||c(b)&&c(A)?0:m(b)&&l(A)&&!c(A)&&l(E)&&h(E)?3:c(b)||!l(E)?1:2:-1},g=function(b){var A=0,E=0,D=0,j="",R="",q="",Z=(b=b||"").split("\\s+"),I=[];for(A=0;A<Z.length;A+=1){for(I.push(""),E=0;E<Z[A].length;E+=1)j=Z[A][E],R=Z[A][E-1],q=Z[A][E+1],l(j)?(D=y(j,R,q),I[A]+=D!==-1?String.fromCharCode(t[j.charCodeAt(0)][D]):j):I[A]+=j;I[A]=v(I[A])}return I.join(" ")},T=e.__arabicParser__.processArabic=e.processArabic=function(){var b,A=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(A)){var D=0;for(E=[],D=0;D<A.length;D+=1)Array.isArray(A[D])?E.push([g(A[D][0]),A[D][1],A[D][2]]):E.push([g(A[D])]);b=E}else b=g(A);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};e.events.push(["preProcessText",T])})(on.API),on.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(on.API),(function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var v=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return v},set:function(b){v=b}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(b){y=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(b){T=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,h){r.call(this);var m=(h=h||{}).fontSize||this.getFontSize(),v=h.font||this.getFont(),y=h.scaleFactor||this.internal.scaleFactor,g=0,T=0,b=0,A=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var E=h.maxWidth;E>0?typeof d=="string"?d=this.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(j,R){return j.concat(A.splitTextToSize(R,E))},[])):d=Array.isArray(d)?d:[d];for(var D=0;D<d.length;D++)g<(b=this.getStringUnitWidth(d[D],{font:v})*m)&&(g=b);return g!==0&&(T=d.length),{w:g/=y,h:Math.max((T*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,v=this.internal.__cell__.margins||t,y=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+v.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=v.top,g&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-m,d.y+m,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+m,{align:"center",baseline:"top",maxWidth:d.width-m-m}):this.text(d.text,d.x+m,d.y+m,{align:"left",baseline:"top",maxWidth:d.width-m-m})),this.internal.__cell__.lastCell=d,this};e.table=function(d,h,m,v,y){if(r.call(this),!m)throw new Error("No data for PDF table.");var g,T,b,A,E=[],D=[],j=[],R={},q={},Z=[],I=[],Y=(y=y||{}).autoSize||!1,P=y.printHeaders!==!1,Q=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,O=y.margins||Object.assign({width:this.getPageWidth()},t),G=typeof y.padding=="number"?y.padding:3,K=y.headerBackgroundColor||"#c8c8c8",X=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=Q,this.internal.__cell__.padding=G,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=X,this.setFontSize(Q),v==null)D=E=Object.keys(m[0]),j=E.map(function(){return"left"});else if(Array.isArray(v)&&Dr(v[0])==="object")for(E=v.map(function(me){return me.name}),D=v.map(function(me){return me.prompt||me.name||""}),j=v.map(function(me){return me.align||"left"}),g=0;g<v.length;g+=1)q[v[g].name]=.7499990551181103*v[g].width;else Array.isArray(v)&&typeof v[0]=="string"&&(D=E=v,j=E.map(function(){return"left"}));if(Y||Array.isArray(v)&&typeof v[0]=="string")for(g=0;g<E.length;g+=1){for(R[A=E[g]]=m.map(function(me){return me[A]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(D[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=R[A],this.setFont(void 0,"normal"),b=0;b<T.length;b+=1)Z.push(this.getTextDimensions(T[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[A]=Math.max.apply(null,Z)+G+G,Z=[]}if(P){var H={};for(g=0;g<E.length;g+=1)H[E[g]]={},H[E[g]].text=D[g],H[E[g]].align=j[g];var V=c.call(this,H,q);I=E.map(function(me){return new s(d,h,q[me],V,H[me].text,void 0,H[me].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ae=v.reduce(function(me,M){return me[M.name]=M.align,me},{});for(g=0;g<m.length;g+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:g,data:m[g]},this);var ce=c.call(this,m[g],q);for(b=0;b<E.length;b+=1){var le=m[g][E[b]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:g,col:b,data:le},this),l.call(this,new s(d,h,q[E[b]],ce,le,g+2,ae[E[b]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var c=function(d,h){var m=this.internal.__cell__.padding,v=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(g){var T=d[g];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,h[g]-m-m)},this).map(function(g){return this.getLineHeightFactor()*g.length*v/y+m+m},this).reduce(function(g,T){return Math.max(g,T)},0)};e.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var v=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(v[0],v[1],v[2],v[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){m=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(m.y=this.internal.__cell__.margins.top||0,y.push(m)),m.lineNumber=d;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,m),this.setTextColor(T)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}})(on.API);var bA={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},wA=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nv=yA(wA),SA=[100,200,300,400,500,600,700,800,900],lz=yA(SA);function px(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=(function(s){return bA[s=s||"normal"]?s:"normal"})(e.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(e.weight),a=(function(s){return typeof Nv[s=s||"normal"]=="number"?s:"normal"})(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function _S(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var cz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},TS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function AS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ES(e){return e.trimLeft()}function uz(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function fz(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Sm,CS,jS,y0,Nm,DS,kS,LS,gx=["times"];function FS(e,t,n,r,a){var s=4,l=RS;switch(a){case on.API.image_compression.FAST:s=1,l=OS;break;case on.API.image_compression.MEDIUM:s=6,l=MS;break;case on.API.image_compression.SLOW:s=9,l=zS}e=(function(d,h,m,v){for(var y,g=d.length/h,T=new Uint8Array(d.length+g),b=[hz,OS,RS,MS,zS],A=0;A<g;A+=1){var E=A*h,D=d.subarray(E,E+h);if(v)T.set(v(D,m,y),E+A);else{for(var j=b.length,R=[],q=0;q<j;q+=1)R[q]=b[q](D,m,y);var Z=mz(R.concat());T.set(R[Z],E+A)}y=D}return T})(e,t,Math.ceil(n*r/8),l);var c=gv(e,{level:s});return on.API.__addimage__.arrayBufferToBinaryString(c)}function hz(e){var t=Array.apply([],e);return t.unshift(0),t}function OS(e,t){var n=e.length,r=[];r[0]=1;for(var a=0;a<n;a+=1){var s=e[a-t]||0;r[a+1]=e[a]-s+256&255}return r}function RS(e,t,n){var r=e.length,a=[];a[0]=2;for(var s=0;s<r;s+=1){var l=n&&n[s]||0;a[s+1]=e[s]-l+256&255}return a}function MS(e,t,n){var r=e.length,a=[];a[0]=3;for(var s=0;s<r;s+=1){var l=e[s-t]||0,c=n&&n[s]||0;a[s+1]=e[s]+256-(l+c>>>1)&255}return a}function zS(e,t,n){var r=e.length,a=[];a[0]=4;for(var s=0;s<r;s+=1){var l=dz(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);a[s+1]=e[s]-l+256&255}return a}function dz(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),a=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=a&&r<=s?e:a<=s?t:n}function mz(e){var t=e.map(function(n){return n.reduce(function(r,a){return r+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function xx(e,t,n){var r=t*n,a=Math.floor(r/8),s=16-(r-8*a+n),l=(1<<n)-1;return NA(e,a)>>s&l}function IS(e,t,n,r){var a=n*r,s=Math.floor(a/8),l=16-(a-8*s+r),c=(1<<r)-1,d=(t&c)<<l;(function(h,m,v){if(m+1<h.byteLength)h.setUint16(m,v,!1);else{var y=v>>8&255;h.setUint8(m,y)}})(e,s,NA(e,s)&~(c<<l)&65535|d)}function NA(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function pz(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,l=1<<1+(7&a);e[t++],e[t++];var c=null,d=null;s&&(c=t,d=l,t+=3*l);var h=!0,m=[],v=0,y=null,g=0,T=null;for(this.width=n,this.height=r;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,T=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=e[t++];v=e[t++]|e[t++]<<8,y=e[t++],1&b||(y=null),g=b>>2&7,t++;break;case 254:for(;;){if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var A=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,D=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,R=e[t++],q=R>>6&1,Z=1<<1+(7&R),I=c,Y=d,P=!1;R>>7&&(P=!0,I=t,Y=Z,t+=3*Z);var Q=t;for(t++;;){var O;if(!((O=e[t++])>=0))throw Error("Invalid block size");if(O===0)break;t+=O}m.push({x:A,y:E,width:D,height:j,has_local_palette:P,palette_offset:I,palette_size:Y,data_offset:Q,data_length:t-Q,transparent_index:y,interlaced:!!q,delay:v,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return T},this.frameInfo=function(G){if(G<0||G>=m.length)throw new Error("Frame index out of range.");return m[G]},this.decodeAndBlitFrameBGRA=function(G,K){var X=this.frameInfo(G),H=X.width*X.height,V=new Uint8Array(H);PS(e,X.data_offset,V,H);var ae=X.palette_offset,ce=X.transparent_index;ce===null&&(ce=256);var le=X.width,me=n-le,M=le,N=4*(X.y*n+X.x),F=4*((X.y+X.height)*n+X.x),L=N,B=4*me;X.interlaced===!0&&(B+=4*n*7);for(var te=8,de=0,Ne=V.length;de<Ne;++de){var se=V[de];if(M===0&&(M=le,(L+=B)>=F&&(B=4*me+4*n*(te-1),L=N+(le+me)*(te<<1),te>>=1)),se===ce)L+=4;else{var ve=e[ae+3*se],je=e[ae+3*se+1],ke=e[ae+3*se+2];K[L++]=ke,K[L++]=je,K[L++]=ve,K[L++]=255}--M}},this.decodeAndBlitFrameRGBA=function(G,K){var X=this.frameInfo(G),H=X.width*X.height,V=new Uint8Array(H);PS(e,X.data_offset,V,H);var ae=X.palette_offset,ce=X.transparent_index;ce===null&&(ce=256);var le=X.width,me=n-le,M=le,N=4*(X.y*n+X.x),F=4*((X.y+X.height)*n+X.x),L=N,B=4*me;X.interlaced===!0&&(B+=4*n*7);for(var te=8,de=0,Ne=V.length;de<Ne;++de){var se=V[de];if(M===0&&(M=le,(L+=B)>=F&&(B=4*me+4*n*(te-1),L=N+(le+me)*(te<<1),te>>=1)),se===ce)L+=4;else{var ve=e[ae+3*se],je=e[ae+3*se+1],ke=e[ae+3*se+2];K[L++]=ve,K[L++]=je,K[L++]=ke,K[L++]=255}--M}}}function PS(e,t,n,r){for(var a=e[t++],s=1<<a,l=s+1,c=l+1,d=a+1,h=(1<<d)-1,m=0,v=0,y=0,g=e[t++],T=new Int32Array(4096),b=null;;){for(;m<16&&g!==0;)v|=e[t++]<<m,m+=8,g===1?g=e[t++]:--g;if(m<d)break;var A=v&h;if(v>>=d,m-=d,A!==s){if(A===l)break;for(var E=A<c?A:b,D=0,j=E;j>s;)j=T[j]>>8,++D;var R=j;if(y+D+(E!==A?1:0)>r)return void Gr.log("Warning, gif stream longer than expected.");n[y++]=R;var q=y+=D;for(E!==A&&(n[y++]=R),j=E;D--;)j=T[j],n[--q]=255&j,j>>=8;b!==null&&c<4096&&(T[c++]=b<<8|R,c>=h+1&&d<12&&(++d,h=h<<1|1)),b=A}else c=l+1,h=(1<<(d=a+1))-1,b=null}return y!==r&&Gr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vx(e){var t,n,r,a,s,l=Math.floor,c=new Array(64),d=new Array(64),h=new Array(64),m=new Array(64),v=new Array(65535),y=new Array(65535),g=new Array(64),T=new Array(64),b=[],A=0,E=7,D=new Array(64),j=new Array(64),R=new Array(64),q=new Array(256),Z=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],G=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function V(N,F){for(var L=0,B=0,te=new Array,de=1;de<=16;de++){for(var Ne=1;Ne<=N[de];Ne++)te[F[B]]=[],te[F[B]][0]=L,te[F[B]][1]=de,B++,L++;L*=2}return te}function ae(N){for(var F=N[0],L=N[1]-1;L>=0;)F&1<<L&&(A|=1<<E),L--,--E<0&&(A==255?(ce(255),ce(0)):ce(A),E=7,A=0)}function ce(N){b.push(N)}function le(N){ce(N>>8&255),ce(255&N)}function me(N,F,L,B,te){for(var de,Ne=te[0],se=te[240],ve=(function(Ze,Et){var St,Kt,Lt,qt,rn,Wt,cn,zt,It,tn,Ft=0;for(It=0;It<8;++It){St=Ze[Ft],Kt=Ze[Ft+1],Lt=Ze[Ft+2],qt=Ze[Ft+3],rn=Ze[Ft+4],Wt=Ze[Ft+5],cn=Ze[Ft+6];var Mn=St+(zt=Ze[Ft+7]),Xt=St-zt,Dt=Kt+cn,Pt=Kt-cn,xn=Lt+Wt,$t=Lt-Wt,mn=qt+rn,Bt=qt-rn,Fn=Mn+mn,Hn=Mn-mn,_n=Dt+xn,Ut=Dt-xn;Ze[Ft]=Fn+_n,Ze[Ft+4]=Fn-_n;var qe=.707106781*(Ut+Hn);Ze[Ft+2]=Hn+qe,Ze[Ft+6]=Hn-qe;var Ie=.382683433*((Fn=Bt+$t)-(Ut=Pt+Xt)),nt=.5411961*Fn+Ie,ln=1.306562965*Ut+Ie,Wn=.707106781*(_n=$t+Pt),kt=Xt+Wn,rr=Xt-Wn;Ze[Ft+5]=rr+nt,Ze[Ft+3]=rr-nt,Ze[Ft+1]=kt+ln,Ze[Ft+7]=kt-ln,Ft+=8}for(Ft=0,It=0;It<8;++It){St=Ze[Ft],Kt=Ze[Ft+8],Lt=Ze[Ft+16],qt=Ze[Ft+24],rn=Ze[Ft+32],Wt=Ze[Ft+40],cn=Ze[Ft+48];var Vn=St+(zt=Ze[Ft+56]),nn=St-zt,Sr=Kt+cn,jn=Kt-cn,ar=Lt+Wt,ne=Lt-Wt,ye=qt+rn,fe=qt-rn,he=Vn+ye,ge=Vn-ye,be=Sr+ar,Pe=Sr-ar;Ze[Ft]=he+be,Ze[Ft+32]=he-be;var Je=.707106781*(Pe+ge);Ze[Ft+16]=ge+Je,Ze[Ft+48]=ge-Je;var Ue=.382683433*((he=fe+ne)-(Pe=jn+nn)),Re=.5411961*he+Ue,He=1.306562965*Pe+Ue,ht=.707106781*(be=ne+jn),yt=nn+ht,Tt=nn-ht;Ze[Ft+40]=Tt+Re,Ze[Ft+24]=Tt-Re,Ze[Ft+8]=yt+He,Ze[Ft+56]=yt-He,Ft++}for(It=0;It<64;++It)tn=Ze[It]*Et[It],g[It]=tn>0?tn+.5|0:tn-.5|0;return g})(N,F),je=0;je<64;++je)T[I[je]]=ve[je];var ke=T[0]-L;L=T[0],ke==0?ae(B[0]):(ae(B[y[de=32767+ke]]),ae(v[de]));for(var Ge=63;Ge>0&&T[Ge]==0;)Ge--;if(Ge==0)return ae(Ne),L;for(var Te,xe=1;xe<=Ge;){for(var gt=xe;T[xe]==0&&xe<=Ge;)++xe;var Xe=xe-gt;if(Xe>=16){Te=Xe>>4;for(var wt=1;wt<=Te;++wt)ae(se);Xe&=15}de=32767+T[xe],ae(te[(Xe<<4)+y[de]]),ae(v[de]),xe++}return Ge!=63&&ae(Ne),L}function M(N){N=Math.min(Math.max(N,1),100),s!=N&&((function(F){for(var L=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var te=l((L[B]*F+50)/100);te=Math.min(Math.max(te,1),255),c[I[B]]=te}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var se=l((de[Ne]*F+50)/100);se=Math.min(Math.max(se,1),255),d[I[Ne]]=se}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,ke=0;ke<8;ke++)for(var Ge=0;Ge<8;Ge++)h[je]=1/(c[I[je]]*ve[ke]*ve[Ge]*8),m[je]=1/(d[I[je]]*ve[ke]*ve[Ge]*8),je++})(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,F){F&&M(F),b=new Array,A=0,E=7,le(65496),le(65504),le(16),ce(74),ce(70),ce(73),ce(70),ce(0),ce(1),ce(1),ce(0),le(1),le(1),ce(0),ce(0),(function(){le(65499),le(132),ce(0);for(var Kt=0;Kt<64;Kt++)ce(c[Kt]);ce(1);for(var Lt=0;Lt<64;Lt++)ce(d[Lt])})(),(function(Kt,Lt){le(65472),le(17),ce(8),le(Lt),le(Kt),ce(3),ce(1),ce(17),ce(0),ce(2),ce(17),ce(1),ce(3),ce(17),ce(1)})(N.width,N.height),(function(){le(65476),le(418),ce(0);for(var Kt=0;Kt<16;Kt++)ce(Y[Kt+1]);for(var Lt=0;Lt<=11;Lt++)ce(P[Lt]);ce(16);for(var qt=0;qt<16;qt++)ce(Q[qt+1]);for(var rn=0;rn<=161;rn++)ce(O[rn]);ce(1);for(var Wt=0;Wt<16;Wt++)ce(G[Wt+1]);for(var cn=0;cn<=11;cn++)ce(K[cn]);ce(17);for(var zt=0;zt<16;zt++)ce(X[zt+1]);for(var It=0;It<=161;It++)ce(H[It])})(),le(65498),le(12),ce(3),ce(1),ce(0),ce(2),ce(17),ce(3),ce(17),ce(0),ce(63),ce(0);var L=0,B=0,te=0;A=0,E=7,this.encode.displayName="_encode_";for(var de,Ne,se,ve,je,ke,Ge,Te,xe,gt=N.data,Xe=N.width,wt=N.height,Ze=4*Xe,Et=0;Et<wt;){for(de=0;de<Ze;){for(je=Ze*Et+de,Ge=-1,Te=0,xe=0;xe<64;xe++)ke=je+(Te=xe>>3)*Ze+(Ge=4*(7&xe)),Et+Te>=wt&&(ke-=Ze*(Et+1+Te-wt)),de+Ge>=Ze&&(ke-=de+Ge-Ze+4),Ne=gt[ke++],se=gt[ke++],ve=gt[ke++],D[xe]=(Z[Ne]+Z[se+256|0]+Z[ve+512|0]>>16)-128,j[xe]=(Z[Ne+768|0]+Z[se+1024|0]+Z[ve+1280|0]>>16)-128,R[xe]=(Z[Ne+1280|0]+Z[se+1536|0]+Z[ve+1792|0]>>16)-128;L=me(D,h,L,t,r),B=me(j,m,B,n,a),te=me(R,m,te,n,a),de+=32}Et+=8}if(E>=0){var St=[];St[1]=E+1,St[0]=(1<<E+1)-1,ae(St)}return le(65497),new Uint8Array(b)},e=e||50,(function(){for(var N=String.fromCharCode,F=0;F<256;F++)q[F]=N(F)})(),t=V(Y,P),n=V(G,K),r=V(Q,O),a=V(X,H),(function(){for(var N=1,F=2,L=1;L<=15;L++){for(var B=N;B<F;B++)y[32767+B]=L,v[32767+B]=[],v[32767+B][1]=L,v[32767+B][0]=B;for(var te=-(F-1);te<=-N;te++)y[32767+te]=L,v[32767+te]=[],v[32767+te][1]=L,v[32767+te][0]=F-1+te;N<<=1,F<<=1}})(),(function(){for(var N=0;N<256;N++)Z[N]=19595*N,Z[N+256|0]=38470*N,Z[N+512|0]=7471*N+32768,Z[N+768|0]=-11059*N,Z[N+1024|0]=-21709*N,Z[N+1280|0]=32768*N+8421375,Z[N+1536|0]=-27439*N,Z[N+1792|0]=-5329*N})(),M(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ho(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BS(e){function t(P){if(!P)throw Error("assert :P")}function n(P,Q,O){for(var G=0;4>G;G++)if(P[Q+G]!=O.charCodeAt(G))return!0;return!1}function r(P,Q,O,G,K){for(var X=0;X<K;X++)P[Q+X]=O[G+X]}function a(P,Q,O,G){for(var K=0;K<G;K++)P[Q+K]=O}function s(P){return new Int32Array(P)}function l(P,Q){for(var O=[],G=0;G<P;G++)O.push(new Q);return O}function c(P,Q){var O=[];return(function G(K,X,H){for(var V=H[X],ae=0;ae<V&&(K.push(H.length>X+1?[]:new Q),!(H.length<X+1));ae++)G(K[ae],X+1,H)})(O,0,P),O}var d=function(){var P=this;function Q(x,S){for(var k=1<<S-1>>>0;x&k;)k>>>=1;return k?(x&k-1)+k:x}function O(x,S,k,z,ee){t(!(z%k));do x[S+(z-=k)]=ee;while(0<z)}function G(x,S,k,z,ee){if(t(2328>=ee),512>=ee)var re=s(512);else if((re=s(ee))==null)return 0;return(function(ie,ue,pe,Se,De,We){var we,Fe,Be=ue,tt=1<<pe,Ve=s(16),et=s(16);for(t(De!=0),t(Se!=null),t(ie!=null),t(0<pe),Fe=0;Fe<De;++Fe){if(15<Se[Fe])return 0;++Ve[Se[Fe]]}if(Ve[0]==De)return 0;for(et[1]=0,we=1;15>we;++we){if(Ve[we]>1<<we)return 0;et[we+1]=et[we]+Ve[we]}for(Fe=0;Fe<De;++Fe)we=Se[Fe],0<Se[Fe]&&(We[et[we]++]=Fe);if(et[15]==1)return(Se=new K).g=0,Se.value=We[0],O(ie,Be,1,tt,Se),tt;var ot,bt=-1,ft=tt-1,Qt=0,Ht=1,An=1,Yt=1<<pe;for(Fe=0,we=1,De=2;we<=pe;++we,De<<=1){if(Ht+=An<<=1,0>(An-=Ve[we]))return 0;for(;0<Ve[we];--Ve[we])(Se=new K).g=we,Se.value=We[Fe++],O(ie,Be+Qt,De,Yt,Se),Qt=Q(Qt,we)}for(we=pe+1,De=2;15>=we;++we,De<<=1){if(Ht+=An<<=1,0>(An-=Ve[we]))return 0;for(;0<Ve[we];--Ve[we]){if(Se=new K,(Qt&ft)!=bt){for(Be+=Yt,ot=1<<(bt=we)-pe;15>bt&&!(0>=(ot-=Ve[bt]));)++bt,ot<<=1;tt+=Yt=1<<(ot=bt-pe),ie[ue+(bt=Qt&ft)].g=ot+pe,ie[ue+bt].value=Be-ue-bt}Se.g=we-pe,Se.value=We[Fe++],O(ie,Be+(Qt>>pe),De,Yt,Se),Qt=Q(Qt,we)}}return Ht!=2*et[15]-1?0:tt})(x,S,k,z,ee,re)}function K(){this.value=this.g=0}function X(){this.value=this.g=0}function H(){this.G=l(5,K),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ul,X)}function V(x,S,k,z){t(x!=null),t(S!=null),t(2147483648>z),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=S,x.pa=k,x.Jd=S,x.Yc=k+z,x.Zc=4<=z?k+z-4+1:k,Ne(x)}function ae(x,S){for(var k=0;0<S--;)k|=ve(x,128)<<S;return k}function ce(x,S){var k=ae(x,S);return se(x)?-k:k}function le(x,S,k,z){var ee,re=0;for(t(x!=null),t(S!=null),t(4294967288>z),x.Sb=z,x.Ra=0,x.u=0,x.h=0,4<z&&(z=4),ee=0;ee<z;++ee)re+=S[k+ee]<<8*ee;x.Ra=re,x.bb=z,x.oa=S,x.pa=k}function me(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Js-8>>>0,++x.bb,x.u-=8;B(x)&&(x.h=1,x.u=0)}function M(x,S){if(t(0<=S),!x.h&&S<=bi){var k=L(x)&Oi[S];return x.u+=S,me(x),k}return x.h=1,x.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L(x){return x.Ra>>>(x.u&Js-1)>>>0}function B(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Js}function te(x,S){x.u=S,x.h=B(x)}function de(x){x.u>=Qs&&(t(x.u>=Qs),me(x))}function Ne(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function se(x){return ae(x,1)}function ve(x,S){var k=x.Ca;0>x.b&&Ne(x);var z=x.b,ee=k*S>>>8,re=(x.I>>>z>ee)+0;for(re?(k-=ee,x.I-=ee+1<<z>>>0):k=ee+1,z=k,ee=0;256<=z;)ee+=8,z>>=8;return z=7^ee+Co[z],x.b-=z,x.Ca=(k<<z)-1,re}function je(x,S,k){x[S+0]=k>>24&255,x[S+1]=k>>16&255,x[S+2]=k>>8&255,x[S+3]=255&k}function ke(x,S){return x[S+0]|x[S+1]<<8}function Ge(x,S){return ke(x,S)|x[S+2]<<16}function Te(x,S){return ke(x,S)|ke(x,S+2)<<16}function xe(x,S){var k=1<<S;return t(x!=null),t(0<S),x.X=s(k),x.X==null?0:(x.Mb=32-S,x.Xa=S,1)}function gt(x,S){t(x!=null),t(S!=null),t(x.Xa==S.Xa),r(S.X,0,x.X,0,1<<S.Xa)}function Xe(){this.X=[],this.Xa=this.Mb=0}function wt(x,S,k,z){t(k!=null),t(z!=null);var ee=k[0],re=z[0];return ee==0&&(ee=(x*re+S/2)/S),re==0&&(re=(S*ee+x/2)/x),0>=ee||0>=re?0:(k[0]=ee,z[0]=re,1)}function Ze(x,S){return x+(1<<S)-1>>>S}function Et(x,S){return((4278255360&x)+(4278255360&S)>>>0&4278255360)+((16711935&x)+(16711935&S)>>>0&16711935)>>>0}function St(x,S){P[S]=function(k,z,ee,re,ie,ue,pe){var Se;for(Se=0;Se<ie;++Se){var De=P[x](ue[pe+Se-1],ee,re+Se);ue[pe+Se]=Et(k[z+Se],De)}}}function Kt(){this.ud=this.hd=this.jd=0}function Lt(x,S){return((4278124286&(x^S))>>>1)+(x&S)>>>0}function qt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function rn(x,S){return qt(x+(x-S+.5>>1))}function Wt(x,S,k){return Math.abs(S-k)-Math.abs(x-k)}function cn(x,S,k,z,ee,re,ie){for(z=re[ie-1],k=0;k<ee;++k)re[ie+k]=z=Et(x[S+k],z)}function zt(x,S,k,z,ee){var re;for(re=0;re<k;++re){var ie=x[S+re],ue=ie>>8&255,pe=16711935&(pe=(pe=16711935&ie)+((ue<<16)+ue));z[ee+re]=(4278255360&ie)+pe>>>0}}function It(x,S){S.jd=255&x,S.hd=x>>8&255,S.ud=x>>16&255}function tn(x,S,k,z,ee,re){var ie;for(ie=0;ie<z;++ie){var ue=S[k+ie],pe=ue>>>8,Se=ue,De=255&(De=(De=ue>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));Se=255&(Se=(Se+=(x.hd<<24>>24)*(pe<<24>>24)>>>5)+((x.ud<<24>>24)*(De<<24>>24)>>>5)),ee[re+ie]=(4278255360&ue)+(De<<16)+Se}}function Ft(x,S,k,z,ee){P[S]=function(re,ie,ue,pe,Se,De,We,we,Fe){for(pe=We;pe<we;++pe)for(We=0;We<Fe;++We)Se[De++]=ee(ue[z(re[ie++])])},P[x]=function(re,ie,ue,pe,Se,De,We){var we=8>>re.b,Fe=re.Ea,Be=re.K[0],tt=re.w;if(8>we)for(re=(1<<re.b)-1,tt=(1<<we)-1;ie<ue;++ie){var Ve,et=0;for(Ve=0;Ve<Fe;++Ve)Ve&re||(et=z(pe[Se++])),De[We++]=ee(Be[et&tt]),et>>=we}else P["VP8LMapColor"+k](pe,Se,Be,tt,De,We,ie,ue,Fe)}}function Mn(x,S,k,z,ee){for(k=S+k;S<k;){var re=x[S++];z[ee++]=re>>16&255,z[ee++]=re>>8&255,z[ee++]=255&re}}function Xt(x,S,k,z,ee){for(k=S+k;S<k;){var re=x[S++];z[ee++]=re>>16&255,z[ee++]=re>>8&255,z[ee++]=255&re,z[ee++]=re>>24&255}}function Dt(x,S,k,z,ee){for(k=S+k;S<k;){var re=(ie=x[S++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;z[ee++]=re,z[ee++]=ie}}function Pt(x,S,k,z,ee){for(k=S+k;S<k;){var re=(ie=x[S++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;z[ee++]=re,z[ee++]=ie}}function xn(x,S,k,z,ee){for(k=S+k;S<k;){var re=x[S++];z[ee++]=255&re,z[ee++]=re>>8&255,z[ee++]=re>>16&255}}function $t(x,S,k,z,ee,re){if(re==0)for(k=S+k;S<k;)je(z,((re=x[S++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),ee+=32;else r(z,ee,x,S,k)}function mn(x,S){P[S][0]=P[x+"0"],P[S][1]=P[x+"1"],P[S][2]=P[x+"2"],P[S][3]=P[x+"3"],P[S][4]=P[x+"4"],P[S][5]=P[x+"5"],P[S][6]=P[x+"6"],P[S][7]=P[x+"7"],P[S][8]=P[x+"8"],P[S][9]=P[x+"9"],P[S][10]=P[x+"10"],P[S][11]=P[x+"11"],P[S][12]=P[x+"12"],P[S][13]=P[x+"13"],P[S][14]=P[x+"0"],P[S][15]=P[x+"0"]}function Bt(x){return x==Vu||x==Uf||x==Uc||x==Hf}function Fn(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function _n(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Fn,this.f.kb=new Hn,this.sd=null}function Ut(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ie(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function nt(x,S){var k=x.T,z=S.ba.f.RGBA,ee=z.eb,re=z.fb+x.ka*z.A,ie=ei[S.ba.S],ue=x.y,pe=x.O,Se=x.f,De=x.N,We=x.ea,we=x.W,Fe=S.cc,Be=S.dc,tt=S.Mc,Ve=S.Nc,et=x.ka,ot=x.ka+x.T,bt=x.U,ft=bt+1>>1;for(et==0?ie(ue,pe,null,null,Se,De,We,we,Se,De,We,we,ee,re,null,null,bt):(ie(S.ec,S.fc,ue,pe,Fe,Be,tt,Ve,Se,De,We,we,ee,re-z.A,ee,re,bt),++k);et+2<ot;et+=2)Fe=Se,Be=De,tt=We,Ve=we,De+=x.Rc,we+=x.Rc,re+=2*z.A,ie(ue,(pe+=2*x.fa)-x.fa,ue,pe,Fe,Be,tt,Ve,Se,De,We,we,ee,re-z.A,ee,re,bt);return pe+=x.fa,x.j+ot<x.o?(r(S.ec,S.fc,ue,pe,bt),r(S.cc,S.dc,Se,De,ft),r(S.Mc,S.Nc,We,we,ft),k--):1&ot||ie(ue,pe,null,null,Se,De,We,we,Se,De,We,we,ee,re+z.A,null,null,bt),k}function ln(x,S,k){var z=x.F,ee=[x.J];if(z!=null){var re=x.U,ie=S.ba.S,ue=ie==Hu||ie==Uc;S=S.ba.f.RGBA;var pe=[0],Se=x.ka;pe[0]=x.T,x.Kb&&(Se==0?--pe[0]:(--Se,ee[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-Se));var De=S.eb;Se=S.fb+Se*S.A,x=Iu(z,ee[0],x.width,re,pe,De,Se+(ue?0:3),S.A),t(k==pe),x&&Bt(ie)&&Kl(De,Se,ue,re,pe,S.A)}return 0}function Wn(x){var S=x.ma,k=S.ba.S,z=11>k,ee=k==ci||k==ss||k==Hu||k==Bc||k==12||Bt(k);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!Eo(S.Oa,x,ee?11:12))return 0;if(ee&&Bt(k)&&Rf(),x.da)alert("todo:use_scaling");else{if(z){if(S.Ib=Ie,x.Kb){if(k=x.U+1>>1,S.memory=s(x.U+2*k),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+x.U,S.Mc=S.cc,S.Nc=S.dc+k,S.Ib=nt,Rf()}}else alert("todo:EmitYUV");ee&&(S.Jb=ln,z&&rs())}if(z&&!xl){for(x=0;256>x;++x)ti[x]=89858*(x-128)+Gc>>hs,$p[x]=-22014*(x-128)+Gc,w1[x]=-45773*(x-128),$f[x]=113618*(x-128)+Gc>>hs;for(x=Ql;x<gl;++x)S=76283*(x-16)+Gc>>hs,Yp[x-Ql]=ea(S,255),Kp[x-Ql]=ea(S+8>>4,15);xl=1}return 1}function kt(x){var S=x.ma,k=x.U,z=x.T;return t(!(1&x.ka)),0>=k||0>=z?0:(k=S.Ib(x,S),S.Jb!=null&&S.Jb(x,S,k),S.Dc+=k,1)}function rr(x){x.ma.memory=null}function Vn(x,S,k,z){return M(x,8)!=47?0:(S[0]=M(x,14)+1,k[0]=M(x,14)+1,z[0]=M(x,1),M(x,3)!=0?0:!x.h)}function nn(x,S){if(4>x)return x+1;var k=x-2>>1;return(2+(1&x)<<k)+M(S,k)+1}function Sr(x,S){return 120<S?S-120:1<=(k=((k=ls[S-1])>>4)*x+(8-(15&k)))?k:1;var k}function jn(x,S,k){var z=L(k),ee=x[S+=255&z].g-8;return 0<ee&&(te(k,k.u+8),z=L(k),S+=x[S].value,S+=z&(1<<ee)-1),te(k,k.u+x[S].g),x[S].value}function ar(x,S,k){return k.g+=x.g,k.value+=x.value<<S>>>0,t(8>=k.g),x.g}function ne(x,S,k){var z=x.xc;return t((S=z==0?0:x.vc[x.md*(k>>z)+(S>>z)])<x.Wb),x.Ya[S]}function ye(x,S,k,z){var ee=x.ab,re=x.c*S,ie=x.C;S=ie+S;var ue=k,pe=z;for(z=x.Ta,k=x.Ua;0<ee--;){var Se=x.gc[ee],De=ie,We=S,we=ue,Fe=pe,Be=(pe=z,ue=k,Se.Ea);switch(t(De<We),t(We<=Se.nc),Se.hc){case 2:ua(we,Fe,(We-De)*Be,pe,ue);break;case 0:var tt=De,Ve=We,et=pe,ot=ue,bt=(Yt=Se).Ea;tt==0&&(Mc(we,Fe,null,null,1,et,ot),cn(we,Fe+1,0,0,bt-1,et,ot+1),Fe+=bt,ot+=bt,++tt);for(var ft=1<<Yt.b,Qt=ft-1,Ht=Ze(bt,Yt.b),An=Yt.K,Yt=Yt.w+(tt>>Yt.b)*Ht;tt<Ve;){var qn=An,Hr=Yt,Dn=1;for(zc(we,Fe,et,ot-bt,1,et,ot);Dn<bt;){var Vt=(Dn&~Qt)+ft;Vt>bt&&(Vt=bt),(0,jo[qn[Hr++]>>8&15])(we,Fe+ +Dn,et,ot+Dn-bt,Vt-Dn,et,ot+Dn),Dn=Vt}Fe+=bt,ot+=bt,++tt&Qt||(Yt+=Ht)}We!=Se.nc&&r(pe,ue-Be,pe,ue+(We-De-1)*Be,Be);break;case 1:for(Be=we,Ve=Fe,bt=(we=Se.Ea)-(ot=we&~(et=(Fe=1<<Se.b)-1)),tt=Ze(we,Se.b),ft=Se.K,Se=Se.w+(De>>Se.b)*tt;De<We;){for(Qt=ft,Ht=Se,An=new Kt,Yt=Ve+ot,qn=Ve+we;Ve<Yt;)It(Qt[Ht++],An),Ic(An,Be,Ve,Fe,pe,ue),Ve+=Fe,ue+=Fe;Ve<qn&&(It(Qt[Ht++],An),Ic(An,Be,Ve,bt,pe,ue),Ve+=bt,ue+=bt),++De&et||(Se+=tt)}break;case 3:if(we==pe&&Fe==ue&&0<Se.b){for(Ve=pe,we=Be=ue+(We-De)*Be-(ot=(We-De)*Ze(Se.Ea,Se.b)),Fe=pe,et=ue,tt=[],ot=(bt=ot)-1;0<=ot;--ot)tt[ot]=Fe[et+ot];for(ot=bt-1;0<=ot;--ot)Ve[we+ot]=tt[ot];Mf(Se,De,We,pe,Be,pe,ue)}else Mf(Se,De,We,we,Fe,pe,ue)}ue=z,pe=k}pe!=k&&r(z,k,ue,pe,re)}function fe(x,S){var k=x.V,z=x.Ba+x.c*x.C,ee=S-x.C;if(t(S<=x.l.o),t(16>=ee),0<ee){var re=x.l,ie=x.Ta,ue=x.Ua,pe=re.width;if(ye(x,ee,k,z),ee=ue=[ue],t((k=x.C)<(z=S)),t(re.v<re.va),z>re.o&&(z=re.o),k<re.j){var Se=re.j-k;k=re.j,ee[0]+=Se*pe}if(k>=z?k=0:(ee[0]+=4*re.v,re.ka=k-re.j,re.U=re.va-re.v,re.T=z-k,k=1),k){if(ue=ue[0],11>(k=x.ca).S){var De=k.f.RGBA,We=(z=k.S,ee=re.U,re=re.T,Se=De.eb,De.A),we=re;for(De=De.fb+x.Ma*De.A;0<we--;){var Fe=ie,Be=ue,tt=ee,Ve=Se,et=De;switch(z){case Pf:Pc(Fe,Be,tt,Ve,et);break;case ci:Do(Fe,Be,tt,Ve,et);break;case Vu:Do(Fe,Be,tt,Ve,et),Kl(Ve,et,0,tt,1,0);break;case Bf:$l(Fe,Be,tt,Ve,et);break;case ss:$t(Fe,Be,tt,Ve,et,1);break;case Uf:$t(Fe,Be,tt,Ve,et,1),Kl(Ve,et,0,tt,1,0);break;case Hu:$t(Fe,Be,tt,Ve,et,0);break;case Uc:$t(Fe,Be,tt,Ve,et,0),Kl(Ve,et,1,tt,1,0);break;case Bc:ko(Fe,Be,tt,Ve,et);break;case Hf:ko(Fe,Be,tt,Ve,et),is(Ve,et,tt,1,0);break;case fl:no(Fe,Be,tt,Ve,et);break;default:t(0)}ue+=pe,De+=We}x.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=k.height)}}x.C=S,t(x.C<=x.i)}function he(x){var S;if(0<x.ua)return 0;for(S=0;S<x.Wb;++S){var k=x.Ya[S].G,z=x.Ya[S].H;if(0<k[1][z[1]+0].g||0<k[2][z[2]+0].g||0<k[3][z[3]+0].g)return 0}return 1}function ge(x,S,k,z,ee,re){if(x.Z!=0){var ie=x.qd,ue=x.rd;for(t(Oo[x.Z]!=null);S<k;++S)Oo[x.Z](ie,ue,z,ee,z,ee,re),ie=z,ue=ee,ee+=re;x.qd=ie,x.rd=ue}}function be(x,S){var k=x.l.ma,z=k.Z==0||k.Z==1?x.l.j:x.C;if(z=x.C<z?z:x.C,t(S<=x.l.o),S>z){var ee=x.l.width,re=k.ca,ie=k.tb+ee*z,ue=x.V,pe=x.Ba+x.c*z,Se=x.gc;t(x.ab==1),t(Se[0].hc==3),to(Se[0],z,S,ue,pe,re,ie),ge(k,z,S,re,ie,ee)}x.C=x.Ma=S}function Pe(x,S,k,z,ee,re,ie){var ue=x.$/z,pe=x.$%z,Se=x.m,De=x.s,We=k+x.$,we=We;ee=k+z*ee;var Fe=k+z*re,Be=280+De.ua,tt=x.Pb?ue:16777216,Ve=0<De.ua?De.Wa:null,et=De.wc,ot=We<Fe?ne(De,pe,ue):null;t(x.C<re),t(Fe<=ee);var bt=!1;e:for(;;){for(;bt||We<Fe;){var ft=0;if(ue>=tt){var Qt=We-k;t((tt=x).Pb),tt.wd=tt.m,tt.xd=Qt,0<tt.s.ua&&gt(tt.s.Wa,tt.s.vb),tt=ue+hl}if(pe&et||(ot=ne(De,pe,ue)),t(ot!=null),ot.Qb&&(S[We]=ot.qb,bt=!0),!bt)if(de(Se),ot.jc){ft=Se,Qt=S;var Ht=We,An=ot.pd[L(ft)&ul-1];t(ot.jc),256>An.g?(te(ft,ft.u+An.g),Qt[Ht]=An.value,ft=0):(te(ft,ft.u+An.g-256),t(256<=An.value),ft=An.value),ft==0&&(bt=!0)}else ft=jn(ot.G[0],ot.H[0],Se);if(Se.h)break;if(bt||256>ft){if(!bt)if(ot.nd)S[We]=(ot.qb|ft<<8)>>>0;else{if(de(Se),bt=jn(ot.G[1],ot.H[1],Se),de(Se),Qt=jn(ot.G[2],ot.H[2],Se),Ht=jn(ot.G[3],ot.H[3],Se),Se.h)break;S[We]=(Ht<<24|bt<<16|ft<<8|Qt)>>>0}if(bt=!1,++We,++pe>=z&&(pe=0,++ue,ie!=null&&ue<=re&&!(ue%16)&&ie(x,ue),Ve!=null))for(;we<We;)ft=S[we++],Ve.X[(506832829*ft&4294967295)>>>Ve.Mb]=ft}else if(280>ft){if(ft=nn(ft-256,Se),Qt=jn(ot.G[4],ot.H[4],Se),de(Se),Qt=Sr(z,Qt=nn(Qt,Se)),Se.h)break;if(We-k<Qt||ee-We<ft)break e;for(Ht=0;Ht<ft;++Ht)S[We+Ht]=S[We+Ht-Qt];for(We+=ft,pe+=ft;pe>=z;)pe-=z,++ue,ie!=null&&ue<=re&&!(ue%16)&&ie(x,ue);if(t(We<=ee),pe&et&&(ot=ne(De,pe,ue)),Ve!=null)for(;we<We;)ft=S[we++],Ve.X[(506832829*ft&4294967295)>>>Ve.Mb]=ft}else{if(!(ft<Be))break e;for(bt=ft-280,t(Ve!=null);we<We;)ft=S[we++],Ve.X[(506832829*ft&4294967295)>>>Ve.Mb]=ft;ft=We,t(!(bt>>>(Qt=Ve).Xa)),S[ft]=Qt.X[bt],bt=!0}bt||t(Se.h==B(Se))}if(x.Pb&&Se.h&&We<ee)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&gt(x.s.vb,x.s.Wa);else{if(Se.h)break e;ie!=null&&ie(x,ue>re?re:ue),x.a=0,x.$=We-k}return 1}return x.a=3,0}function Je(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var S=x.Wa;S!=null&&(S.X=null),x.vb=null,t(x!=null)}function Ue(){var x=new an;return x==null?null:(x.a=0,x.xb=vh,mn("Predictor","VP8LPredictors"),mn("Predictor","VP8LPredictors_C"),mn("PredictorAdd","VP8LPredictorsAdd"),mn("PredictorAdd","VP8LPredictorsAdd_C"),ua=zt,Ic=tn,Pc=Mn,Do=Xt,ko=Dt,no=Pt,$l=xn,P.VP8LMapColor32b=eo,P.VP8LMapColor8b=Za,x)}function Re(x,S,k,z,ee){var re=1,ie=[x],ue=[S],pe=z.m,Se=z.s,De=null,We=0;e:for(;;){if(k)for(;re&&M(pe,1);){var we=ie,Fe=ue,Be=z,tt=1,Ve=Be.m,et=Be.gc[Be.ab],ot=M(Ve,2);if(Be.Oc&1<<ot)re=0;else{switch(Be.Oc|=1<<ot,et.hc=ot,et.Ea=we[0],et.nc=Fe[0],et.K=[null],++Be.ab,t(4>=Be.ab),ot){case 0:case 1:et.b=M(Ve,3)+2,tt=Re(Ze(et.Ea,et.b),Ze(et.nc,et.b),0,Be,et.K),et.K=et.K[0];break;case 3:var bt,ft=M(Ve,8)+1,Qt=16<ft?0:4<ft?1:2<ft?2:3;if(we[0]=Ze(et.Ea,Qt),et.b=Qt,bt=tt=Re(ft,1,0,Be,et.K)){var Ht,An=ft,Yt=et,qn=1<<(8>>Yt.b),Hr=s(qn);if(Hr==null)bt=0;else{var Dn=Yt.K[0],Vt=Yt.w;for(Hr[0]=Yt.K[0][0],Ht=1;Ht<1*An;++Ht)Hr[Ht]=Et(Dn[Vt+Ht],Hr[Ht-1]);for(;Ht<4*qn;++Ht)Hr[Ht]=0;Yt.K[0]=null,Yt.K[0]=Hr,bt=1}}tt=bt;break;case 2:break;default:t(0)}re=tt}}if(ie=ie[0],ue=ue[0],re&&M(pe,1)&&!(re=1<=(We=M(pe,4))&&11>=We)){z.a=3;break e}var jt;if(jt=re)t:{var Yr,gn,Rn,vr=z,Oa=ie,ni=ue,Rr=We,ba=k,ui=vr.m,wa=vr.s,Pn=[null],or=1,Kr=0,mr=cs[Rr];n:for(;;){if(ba&&M(ui,1)){var Ra=M(ui,3)+2,Xr=Ze(Oa,Ra),lr=Ze(ni,Ra),da=Xr*lr;if(!Re(Xr,lr,0,vr,Pn))break n;for(Pn=Pn[0],wa.xc=Ra,Yr=0;Yr<da;++Yr){var yr=Pn[Yr]>>8&65535;Pn[Yr]=yr,yr>=or&&(or=yr+1)}}if(ui.h)break n;for(gn=0;5>gn;++gn){var Sa=Zl[gn];!gn&&0<Rr&&(Sa+=1<<Rr),Kr<Sa&&(Kr=Sa)}var Na=l(or*mr,K),_r=or,sr=l(_r,H);if(sr==null)var fi=null;else t(65536>=_r),fi=sr;var na=s(Kr);if(fi==null||na==null||Na==null){vr.a=1;break n}var fn=Na;for(Yr=Rn=0;Yr<or;++Yr){var hn=fi[Yr],cr=hn.G,Ri=hn.H,ds=0,Si=1,_a=0;for(gn=0;5>gn;++gn){Sa=Zl[gn],cr[gn]=fn,Ri[gn]=Rn,!gn&&0<Rr&&(Sa+=1<<Rr);a:{var vl,yl=Sa,Kf=vr,Mr=na,bh=fn,wh=Rn,Xf=0,Ro=Kf.m,Xp=M(Ro,1);if(a(Mr,0,0,yl),Xp){var Sh=M(Ro,1)+1,Nh=M(Ro,1),Zf=M(Ro,Nh==0?1:8);Mr[Zf]=1,Sh==2&&(Mr[Zf=M(Ro,8)]=1);var Ba=1}else{var ra=s(19),$u=M(Ro,4)+4;if(19<$u){Kf.a=3;var bl=0;break a}for(vl=0;vl<$u;++vl)ra[Gu[vl]]=M(Ro,3);var Wc=void 0,ec=void 0,io=Kf,Jf=ra,$c=yl,Qf=Mr,e0=0,Mo=io.m,_h=8,Th=l(128,K);r:for(;G(Th,0,7,Jf,19);){if(M(Mo,1)){var S1=2+2*M(Mo,3);if((Wc=2+M(Mo,S1))>$c)break r}else Wc=$c;for(ec=0;ec<$c&&Wc--;){de(Mo);var Ah=Th[0+(127&L(Mo))];te(Mo,Mo.u+Ah.g);var wl=Ah.value;if(16>wl)Qf[ec++]=wl,wl!=0&&(_h=wl);else{var N1=wl==16,_1=wl-16,T1=Hc[_1],Eh=M(Mo,os[_1])+T1;if(ec+Eh>$c)break r;for(var A1=N1?_h:0;0<Eh--;)Qf[ec++]=A1}}e0=1;break r}e0||(io.a=3),Ba=e0}(Ba=Ba&&!Ro.h)&&(Xf=G(bh,wh,8,Mr,yl)),Ba&&Xf!=0?bl=Xf:(Kf.a=3,bl=0)}if(bl==0)break n;if(Si&&Vf[gn]==1&&(Si=fn[Rn].g==0),ds+=fn[Rn].g,Rn+=bl,3>=gn){var tc,t0=na[0];for(tc=1;tc<Sa;++tc)na[tc]>t0&&(t0=na[tc]);_a+=t0}}if(hn.nd=Si,hn.Qb=0,Si&&(hn.qb=(cr[3][Ri[3]+0].value<<24|cr[1][Ri[1]+0].value<<16|cr[2][Ri[2]+0].value)>>>0,ds==0&&256>cr[0][Ri[0]+0].value&&(hn.Qb=1,hn.qb+=cr[0][Ri[0]+0].value<<8)),hn.jc=!hn.Qb&&6>_a,hn.jc){var Yu,so=hn;for(Yu=0;Yu<ul;++Yu){var zo=Yu,Io=so.pd[zo],n0=so.G[0][so.H[0]+zo];256<=n0.value?(Io.g=n0.g+256,Io.value=n0.value):(Io.g=0,Io.value=0,zo>>=ar(n0,8,Io),zo>>=ar(so.G[1][so.H[1]+zo],16,Io),zo>>=ar(so.G[2][so.H[2]+zo],0,Io),ar(so.G[3][so.H[3]+zo],24,Io))}}}wa.vc=Pn,wa.Wb=or,wa.Ya=fi,wa.yc=Na,jt=1;break t}jt=0}if(!(re=jt)){z.a=3;break e}if(0<We){if(Se.ua=1<<We,!xe(Se.Wa,We)){z.a=1,re=0;break e}}else Se.ua=0;var r0=z,nc=ie,E1=ue,Yc=r0.s,Kc=Yc.xc;if(r0.c=nc,r0.i=E1,Yc.md=Ze(nc,Kc),Yc.wc=Kc==0?-1:(1<<Kc)-1,k){z.xb=dl;break e}if((De=s(ie*ue))==null){z.a=1,re=0;break e}re=(re=Pe(z,De,0,ie,ue,ue,null))&&!pe.h;break e}return re?(ee!=null?ee[0]=De:(t(De==null),t(k)),z.$=0,k||Je(Se)):Je(Se),re}function He(x,S){var k=x.c*x.i,z=k+S+16*S;return t(x.c<=S),x.V=s(z),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+k+S,1)}function ht(x,S){var k=x.C,z=S-k,ee=x.V,re=x.Ba+x.c*k;for(t(S<=x.l.o);0<z;){var ie=16<z?16:z,ue=x.l.ma,pe=x.l.width,Se=pe*ie,De=ue.ca,We=ue.tb+pe*k,we=x.Ta,Fe=x.Ua;ye(x,ie,ee,re),Xi(we,Fe,De,We,Se),ge(ue,k,k+ie,De,We,pe),z-=ie,ee+=ie*x.c,k+=ie}t(k==S),x.C=x.Ma=S}function yt(){this.ub=this.yd=this.td=this.Rb=0}function Tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Nt(){this.Yb=(function(){var x=[];return(function S(k,z,ee){for(var re=ee[z],ie=0;ie<re&&(k.push(ee.length>z+1?[]:0),!(ee.length<z+1));ie++)S(k[ie],z+1,ee)})(x,0,[3,11]),x})()}function Mt(){this.jb=s(3),this.Wc=c([4,8],Nt),this.Xc=c([4,17],Nt)}function Qn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function On(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function ga(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $a(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function yi(){this.uc=this.M=this.Nb=0,this.wa=Array(new On),this.Y=0,this.ya=Array(new $a),this.aa=0,this.l=new Oe}function ka(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Li(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new yt,this.Kc=new Tt,this.ed=new Qn,this.Qa=new xt,this.Ic=this.$c=this.Aa=0,this.D=new yi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,N),this.ia=0,this.pb=l(4,ga),this.Pa=new Mt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ka),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new On),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $a),this.L=this.aa=0,this.gd=c([4,2],On),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oe(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lt(){var x=new Li;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,Zi||(Zi=qr)),x}function rt(x,S,k){return x.a==0&&(x.a=S,x.sc=k,x.cb=0),0}function wn(x,S,k){return 3<=k&&x[S+0]==157&&x[S+1]==1&&x[S+2]==42}function $n(x,S){if(x==null)return 0;if(x.a=0,x.sc="OK",S==null)return rt(x,2,"null VP8Io passed to VP8GetHeaders()");var k=S.data,z=S.w,ee=S.ha;if(4>ee)return rt(x,7,"Truncated header.");var re=k[z+0]|k[z+1]<<8|k[z+2]<<16,ie=x.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return rt(x,3,"Incorrect keyframe parameters.");if(!ie.yd)return rt(x,4,"Frame not displayable.");z+=3,ee-=3;var ue=x.Kc;if(ie.Rb){if(7>ee)return rt(x,7,"cannot parse picture header");if(!wn(k,z,ee))return rt(x,3,"Bad code word");ue.c=16383&(k[z+4]<<8|k[z+3]),ue.Td=k[z+4]>>6,ue.i=16383&(k[z+6]<<8|k[z+5]),ue.Ud=k[z+6]>>6,z+=7,ee-=7,x.za=ue.c+15>>4,x.Ub=ue.i+15>>4,S.width=ue.c,S.height=ue.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,a((re=x.Pa).jb,0,255,re.jb.length),t((re=x.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,a(re.Zb,0,0,re.Zb.length),a(re.Lb,0,0,re.Lb)}if(ie.ub>ee)return rt(x,7,"bad partition length");V(re=x.m,k,z,ie.ub),z+=ie.ub,ee-=ie.ub,ie.Rb&&(ue.Ld=se(re),ue.Kd=se(re)),ue=x.Qa;var pe,Se=x.Pa;if(t(re!=null),t(ue!=null),ue.Cb=se(re),ue.Cb){if(ue.Bb=se(re),se(re)){for(ue.Fb=se(re),pe=0;4>pe;++pe)ue.Zb[pe]=se(re)?ce(re,7):0;for(pe=0;4>pe;++pe)ue.Lb[pe]=se(re)?ce(re,6):0}if(ue.Bb)for(pe=0;3>pe;++pe)Se.jb[pe]=se(re)?ae(re,8):255}else ue.Bb=0;if(re.Ka)return rt(x,3,"cannot parse segment header");if((ue=x.ed).zd=se(re),ue.Tb=ae(re,6),ue.wb=ae(re,3),ue.Pc=se(re),ue.Pc&&se(re)){for(Se=0;4>Se;++Se)se(re)&&(ue.vd[Se]=ce(re,6));for(Se=0;4>Se;++Se)se(re)&&(ue.od[Se]=ce(re,6))}if(x.L=ue.Tb==0?0:ue.zd?1:2,re.Ka)return rt(x,3,"cannot parse filter header");var De=ee;if(ee=pe=z,z=pe+De,ue=De,x.Xb=(1<<ae(x.m,2))-1,De<3*(Se=x.Xb))k=7;else{for(pe+=3*Se,ue-=3*Se,De=0;De<Se;++De){var We=k[ee+0]|k[ee+1]<<8|k[ee+2]<<16;We>ue&&(We=ue),V(x.Jc[+De],k,pe,We),pe+=We,ue-=We,ee+=3}V(x.Jc[+Se],k,pe,ue),k=pe<z?0:5}if(k!=0)return rt(x,k,"cannot parse partitions");for(k=ae(pe=x.m,7),ee=se(pe)?ce(pe,4):0,z=se(pe)?ce(pe,4):0,ue=se(pe)?ce(pe,4):0,Se=se(pe)?ce(pe,4):0,pe=se(pe)?ce(pe,4):0,De=x.Qa,We=0;4>We;++We){if(De.Cb){var we=De.Zb[We];De.Fb||(we+=k)}else{if(0<We){x.pb[We]=x.pb[0];continue}we=k}var Fe=x.pb[We];Fe.Sc[0]=us[ea(we+ee,127)],Fe.Sc[1]=fs[ea(we+0,127)],Fe.Eb[0]=2*us[ea(we+z,127)],Fe.Eb[1]=101581*fs[ea(we+ue,127)]>>16,8>Fe.Eb[1]&&(Fe.Eb[1]=8),Fe.Qc[0]=us[ea(we+Se,117)],Fe.Qc[1]=fs[ea(we+pe,127)],Fe.lc=we+pe}if(!ie.Rb)return rt(x,4,"Not a key frame.");for(se(re),ie=x.Pa,k=0;4>k;++k){for(ee=0;8>ee;++ee)for(z=0;3>z;++z)for(ue=0;11>ue;++ue)Se=ve(re,Ur[k][ee][z][ue])?ae(re,8):b1[k][ee][z][ue],ie.Wc[k][ee].Yb[z][ue]=Se;for(ee=0;17>ee;++ee)ie.Xc[k][ee]=ie.Wc[k][Xn[ee]]}return x.kc=se(re),x.kc&&(x.Bd=ae(re,8)),x.cb=1}function qr(x,S,k,z,ee,re,ie){var ue=S[ee].Yb[k];for(k=0;16>ee;++ee){if(!ve(x,ue[k+0]))return ee;for(;!ve(x,ue[k+1]);)if(ue=S[++ee].Yb[0],k=0,ee==16)return 16;var pe=S[ee+1].Yb;if(ve(x,ue[k+2])){var Se=x,De=0;if(ve(Se,(we=ue)[(We=k)+3]))if(ve(Se,we[We+6])){for(ue=0,We=2*(De=ve(Se,we[We+8]))+(we=ve(Se,we[We+9+De])),De=0,we=y1[We];we[ue];++ue)De+=De+ve(Se,we[ue]);De+=3+(8<<We)}else ve(Se,we[We+7])?(De=7+2*ve(Se,165),De+=ve(Se,145)):De=5+ve(Se,159);else De=ve(Se,we[We+4])?3+ve(Se,we[We+5]):2;ue=pe[2]}else De=1,ue=pe[1];pe=ie+xh[ee],0>(Se=x).b&&Ne(Se);var We,we=Se.b,Fe=(We=Se.Ca>>1)-(Se.I>>we)>>31;--Se.b,Se.Ca+=Fe,Se.Ca|=1,Se.I-=(We+1&Fe)<<we,re[pe]=((De^Fe)-Fe)*z[(0<ee)+0]}return 16}function xa(x){var S=x.rb[x.sb-1];S.la=0,S.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function va(x,S,k,z,ee){ee=x[S+k+32*z]+(ee>>3),x[S+k+32*z]=-256&ee?0>ee?0:255:ee}function oa(x,S,k,z,ee,re){va(x,S,0,k,z+ee),va(x,S,1,k,z+re),va(x,S,2,k,z-re),va(x,S,3,k,z-ee)}function Gn(x){return(20091*x>>16)+x}function Ae(x,S,k,z){var ee,re=0,ie=s(16);for(ee=0;4>ee;++ee){var ue=x[S+0]+x[S+8],pe=x[S+0]-x[S+8],Se=(35468*x[S+4]>>16)-Gn(x[S+12]),De=Gn(x[S+4])+(35468*x[S+12]>>16);ie[re+0]=ue+De,ie[re+1]=pe+Se,ie[re+2]=pe-Se,ie[re+3]=ue-De,re+=4,S++}for(ee=re=0;4>ee;++ee)ue=(x=ie[re+0]+4)+ie[re+8],pe=x-ie[re+8],Se=(35468*ie[re+4]>>16)-Gn(ie[re+12]),va(k,z,0,0,ue+(De=Gn(ie[re+4])+(35468*ie[re+12]>>16))),va(k,z,1,0,pe+Se),va(k,z,2,0,pe-Se),va(k,z,3,0,ue-De),re++,z+=32}function Ot(x,S,k,z){var ee=x[S+0]+4,re=35468*x[S+4]>>16,ie=Gn(x[S+4]),ue=35468*x[S+1]>>16;oa(k,z,0,ee+ie,x=Gn(x[S+1]),ue),oa(k,z,1,ee+re,x,ue),oa(k,z,2,ee-re,x,ue),oa(k,z,3,ee-ie,x,ue)}function vt(x,S,k,z,ee){Ae(x,S,k,z),ee&&Ae(x,S+16,k,z+4)}function Yn(x,S,k,z){Lo(x,S+0,k,z,1),Lo(x,S+32,k,z+128,1)}function la(x,S,k,z){var ee;for(x=x[S+0]+4,ee=0;4>ee;++ee)for(S=0;4>S;++S)va(k,z,S,ee,x)}function _s(x,S,k,z){x[S+0]&&dr(x,S+0,k,z),x[S+16]&&dr(x,S+16,k,z+4),x[S+32]&&dr(x,S+32,k,z+128),x[S+48]&&dr(x,S+48,k,z+128+4)}function Ts(x,S,k,z){var ee,re=s(16);for(ee=0;4>ee;++ee){var ie=x[S+0+ee]+x[S+12+ee],ue=x[S+4+ee]+x[S+8+ee],pe=x[S+4+ee]-x[S+8+ee],Se=x[S+0+ee]-x[S+12+ee];re[0+ee]=ie+ue,re[8+ee]=ie-ue,re[4+ee]=Se+pe,re[12+ee]=Se-pe}for(ee=0;4>ee;++ee)ie=(x=re[0+4*ee]+3)+re[3+4*ee],ue=re[1+4*ee]+re[2+4*ee],pe=re[1+4*ee]-re[2+4*ee],Se=x-re[3+4*ee],k[z+0]=ie+ue>>3,k[z+16]=Se+pe>>3,k[z+32]=ie-ue>>3,k[z+48]=Se-pe>>3,z+=64}function Kn(x,S,k){var z,ee=S-32,re=li,ie=255-x[ee-1];for(z=0;z<k;++z){var ue,pe=re,Se=ie+x[S-1];for(ue=0;ue<k;++ue)x[S+ue]=pe[Se+x[ee+ue]];S+=32}}function si(x,S){Kn(x,S,4)}function La(x,S){Kn(x,S,8)}function Nr(x,S){Kn(x,S,16)}function Tn(x,S){var k;for(k=0;16>k;++k)r(x,S+32*k,x,S-32,16)}function jc(x,S){var k;for(k=16;0<k;--k)a(x,S,x[S-1],16),S+=32}function yo(x,S,k){var z;for(z=0;16>z;++z)a(S,k+32*z,x,16)}function As(x,S){var k,z=16;for(k=0;16>k;++k)z+=x[S-1+32*k]+x[S+k-32];yo(z>>5,x,S)}function Es(x,S){var k,z=8;for(k=0;16>k;++k)z+=x[S-1+32*k];yo(z>>4,x,S)}function bo(x,S){var k,z=8;for(k=0;16>k;++k)z+=x[S+k-32];yo(z>>4,x,S)}function Pl(x,S){yo(128,x,S)}function pn(x,S,k){return x+2*S+k+2>>2}function il(x,S){var k,z=S-32;for(z=new Uint8Array([pn(x[z-1],x[z+0],x[z+1]),pn(x[z+0],x[z+1],x[z+2]),pn(x[z+1],x[z+2],x[z+3]),pn(x[z+2],x[z+3],x[z+4])]),k=0;4>k;++k)r(x,S+32*k,z,0,z.length)}function Df(x,S){var k=x[S-1],z=x[S-1+32],ee=x[S-1+64],re=x[S-1+96];je(x,S+0,16843009*pn(x[S-1-32],k,z)),je(x,S+32,16843009*pn(k,z,ee)),je(x,S+64,16843009*pn(z,ee,re)),je(x,S+96,16843009*pn(ee,re,re))}function Fu(x,S){var k,z=4;for(k=0;4>k;++k)z+=x[S+k-32]+x[S-1+32*k];for(z>>=3,k=0;4>k;++k)a(x,S+32*k,z,4)}function kf(x,S){var k=x[S-1+0],z=x[S-1+32],ee=x[S-1+64],re=x[S-1-32],ie=x[S+0-32],ue=x[S+1-32],pe=x[S+2-32],Se=x[S+3-32];x[S+0+96]=pn(z,ee,x[S-1+96]),x[S+1+96]=x[S+0+64]=pn(k,z,ee),x[S+2+96]=x[S+1+64]=x[S+0+32]=pn(re,k,z),x[S+3+96]=x[S+2+64]=x[S+1+32]=x[S+0+0]=pn(ie,re,k),x[S+3+64]=x[S+2+32]=x[S+1+0]=pn(ue,ie,re),x[S+3+32]=x[S+2+0]=pn(pe,ue,ie),x[S+3+0]=pn(Se,pe,ue)}function qi(x,S){var k=x[S+1-32],z=x[S+2-32],ee=x[S+3-32],re=x[S+4-32],ie=x[S+5-32],ue=x[S+6-32],pe=x[S+7-32];x[S+0+0]=pn(x[S+0-32],k,z),x[S+1+0]=x[S+0+32]=pn(k,z,ee),x[S+2+0]=x[S+1+32]=x[S+0+64]=pn(z,ee,re),x[S+3+0]=x[S+2+32]=x[S+1+64]=x[S+0+96]=pn(ee,re,ie),x[S+3+32]=x[S+2+64]=x[S+1+96]=pn(re,ie,ue),x[S+3+64]=x[S+2+96]=pn(ie,ue,pe),x[S+3+96]=pn(ue,pe,pe)}function Ya(x,S){var k=x[S-1+0],z=x[S-1+32],ee=x[S-1+64],re=x[S-1-32],ie=x[S+0-32],ue=x[S+1-32],pe=x[S+2-32],Se=x[S+3-32];x[S+0+0]=x[S+1+64]=re+ie+1>>1,x[S+1+0]=x[S+2+64]=ie+ue+1>>1,x[S+2+0]=x[S+3+64]=ue+pe+1>>1,x[S+3+0]=pe+Se+1>>1,x[S+0+96]=pn(ee,z,k),x[S+0+64]=pn(z,k,re),x[S+0+32]=x[S+1+96]=pn(k,re,ie),x[S+1+32]=x[S+2+96]=pn(re,ie,ue),x[S+2+32]=x[S+3+96]=pn(ie,ue,pe),x[S+3+32]=pn(ue,pe,Se)}function Ou(x,S){var k=x[S+0-32],z=x[S+1-32],ee=x[S+2-32],re=x[S+3-32],ie=x[S+4-32],ue=x[S+5-32],pe=x[S+6-32],Se=x[S+7-32];x[S+0+0]=k+z+1>>1,x[S+1+0]=x[S+0+64]=z+ee+1>>1,x[S+2+0]=x[S+1+64]=ee+re+1>>1,x[S+3+0]=x[S+2+64]=re+ie+1>>1,x[S+0+32]=pn(k,z,ee),x[S+1+32]=x[S+0+96]=pn(z,ee,re),x[S+2+32]=x[S+1+96]=pn(ee,re,ie),x[S+3+32]=x[S+2+96]=pn(re,ie,ue),x[S+3+64]=pn(ie,ue,pe),x[S+3+96]=pn(ue,pe,Se)}function Bl(x,S){var k=x[S-1+0],z=x[S-1+32],ee=x[S-1+64],re=x[S-1+96];x[S+0+0]=k+z+1>>1,x[S+2+0]=x[S+0+32]=z+ee+1>>1,x[S+2+32]=x[S+0+64]=ee+re+1>>1,x[S+1+0]=pn(k,z,ee),x[S+3+0]=x[S+1+32]=pn(z,ee,re),x[S+3+32]=x[S+1+64]=pn(ee,re,re),x[S+3+64]=x[S+2+64]=x[S+0+96]=x[S+1+96]=x[S+2+96]=x[S+3+96]=re}function Wi(x,S){var k=x[S-1+0],z=x[S-1+32],ee=x[S-1+64],re=x[S-1+96],ie=x[S-1-32],ue=x[S+0-32],pe=x[S+1-32],Se=x[S+2-32];x[S+0+0]=x[S+2+32]=k+ie+1>>1,x[S+0+32]=x[S+2+64]=z+k+1>>1,x[S+0+64]=x[S+2+96]=ee+z+1>>1,x[S+0+96]=re+ee+1>>1,x[S+3+0]=pn(ue,pe,Se),x[S+2+0]=pn(ie,ue,pe),x[S+1+0]=x[S+3+32]=pn(k,ie,ue),x[S+1+32]=x[S+3+64]=pn(z,k,ie),x[S+1+64]=x[S+3+96]=pn(ee,z,k),x[S+1+96]=pn(re,ee,z)}function Ul(x,S){var k;for(k=0;8>k;++k)r(x,S+32*k,x,S-32,8)}function $s(x,S){var k;for(k=0;8>k;++k)a(x,S,x[S-1],8),S+=32}function Hl(x,S,k){var z;for(z=0;8>z;++z)a(S,k+32*z,x,8)}function wo(x,S){var k,z=8;for(k=0;8>k;++k)z+=x[S+k-32]+x[S-1+32*k];Hl(z>>4,x,S)}function Dc(x,S){var k,z=4;for(k=0;8>k;++k)z+=x[S+k-32];Hl(z>>3,x,S)}function kc(x,S){var k,z=4;for(k=0;8>k;++k)z+=x[S-1+32*k];Hl(z>>3,x,S)}function Pa(x,S){Hl(128,x,S)}function $i(x,S,k){var z=x[S-k],ee=x[S+0],re=3*(ee-z)+Fo[1020+x[S-2*k]-x[S+k]],ie=Uu[112+(re+4>>3)];x[S-k]=li[255+z+Uu[112+(re+3>>3)]],x[S+0]=li[255+ee-ie]}function Ys(x,S,k,z){var ee=x[S+0],re=x[S+k];return Ja[255+x[S-2*k]-x[S-k]]>z||Ja[255+re-ee]>z}function So(x,S,k,z){return 4*Ja[255+x[S-k]-x[S+0]]+Ja[255+x[S-2*k]-x[S+k]]<=z}function Lc(x,S,k,z,ee){var re=x[S-3*k],ie=x[S-2*k],ue=x[S-k],pe=x[S+0],Se=x[S+k],De=x[S+2*k],We=x[S+3*k];return 4*Ja[255+ue-pe]+Ja[255+ie-Se]>z?0:Ja[255+x[S-4*k]-re]<=ee&&Ja[255+re-ie]<=ee&&Ja[255+ie-ue]<=ee&&Ja[255+We-De]<=ee&&Ja[255+De-Se]<=ee&&Ja[255+Se-pe]<=ee}function Vl(x,S,k,z){var ee=2*z+1;for(z=0;16>z;++z)So(x,S+z,k,ee)&&$i(x,S+z,k)}function No(x,S,k,z){var ee=2*z+1;for(z=0;16>z;++z)So(x,S+z*k,1,ee)&&$i(x,S+z*k,1)}function sl(x,S,k,z){var ee;for(ee=3;0<ee;--ee)Vl(x,S+=4*k,k,z)}function Gl(x,S,k,z){var ee;for(ee=3;0<ee;--ee)No(x,S+=4,k,z)}function Ks(x,S,k,z,ee,re,ie,ue){for(re=2*re+1;0<ee--;){if(Lc(x,S,k,re,ie))if(Ys(x,S,k,ue))$i(x,S,k);else{var pe=x,Se=S,De=k,We=pe[Se-2*De],we=pe[Se-De],Fe=pe[Se+0],Be=pe[Se+De],tt=pe[Se+2*De],Ve=27*(ot=Fo[1020+3*(Fe-we)+Fo[1020+We-Be]])+63>>7,et=18*ot+63>>7,ot=9*ot+63>>7;pe[Se-3*De]=li[255+pe[Se-3*De]+ot],pe[Se-2*De]=li[255+We+et],pe[Se-De]=li[255+we+Ve],pe[Se+0]=li[255+Fe-Ve],pe[Se+De]=li[255+Be-et],pe[Se+2*De]=li[255+tt-ot]}S+=z}}function _o(x,S,k,z,ee,re,ie,ue){for(re=2*re+1;0<ee--;){if(Lc(x,S,k,re,ie))if(Ys(x,S,k,ue))$i(x,S,k);else{var pe=x,Se=S,De=k,We=pe[Se-De],we=pe[Se+0],Fe=pe[Se+De],Be=Uu[112+(4+(tt=3*(we-We))>>3)],tt=Uu[112+(tt+3>>3)],Ve=Be+1>>1;pe[Se-2*De]=li[255+pe[Se-2*De]+Ve],pe[Se-De]=li[255+We+tt],pe[Se+0]=li[255+we-Be],pe[Se+De]=li[255+Fe-Ve]}S+=z}}function Lf(x,S,k,z,ee,re){Ks(x,S,k,1,16,z,ee,re)}function Ff(x,S,k,z,ee,re){Ks(x,S,1,k,16,z,ee,re)}function To(x,S,k,z,ee,re){var ie;for(ie=3;0<ie;--ie)_o(x,S+=4*k,k,1,16,z,ee,re)}function Of(x,S,k,z,ee,re){var ie;for(ie=3;0<ie;--ie)_o(x,S+=4,1,k,16,z,ee,re)}function C(x,S,k,z,ee,re,ie,ue){Ks(x,S,ee,1,8,re,ie,ue),Ks(k,z,ee,1,8,re,ie,ue)}function J(x,S,k,z,ee,re,ie,ue){Ks(x,S,1,ee,8,re,ie,ue),Ks(k,z,1,ee,8,re,ie,ue)}function _e(x,S,k,z,ee,re,ie,ue){_o(x,S+4*ee,ee,1,8,re,ie,ue),_o(k,z+4*ee,ee,1,8,re,ie,ue)}function Ce(x,S,k,z,ee,re,ie,ue){_o(x,S+4,1,ee,8,re,ie,ue),_o(k,z+4,1,ee,8,re,ie,ue)}function Me(){this.ba=new _n,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function dt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Zt(){this.ua=0,this.Wa=new Xe,this.vb=new Xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new K}function an(){this.xb=this.a=0,this.l=new Oe,this.ca=new _n,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Zt,this.ab=0,this.gc=l(4,dt),this.Oc=0}function yn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oe,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cn(x,S,k,z,ee,re,ie){for(x=x==null?0:x[S+0],S=0;S<ie;++S)ee[re+S]=x+k[z+S]&255,x=ee[re+S]}function hr(x,S,k,z,ee,re,ie){var ue;if(x==null)Cn(null,null,k,z,ee,re,ie);else for(ue=0;ue<ie;++ue)ee[re+ue]=x[S+ue]+k[z+ue]&255}function $r(x,S,k,z,ee,re,ie){if(x==null)Cn(null,null,k,z,ee,re,ie);else{var ue,pe=x[S+0],Se=pe,De=pe;for(ue=0;ue<ie;++ue)Se=De+(pe=x[S+ue])-Se,De=k[z+ue]+(-256&Se?0>Se?0:255:Se)&255,Se=pe,ee[re+ue]=De}}function ca(x,S,k,z){var ee=S.width,re=S.o;if(t(x!=null&&S!=null),0>k||0>=z||k+z>re)return null;if(!x.Cc){if(x.ga==null){var ie;if(x.ga=new yn,(ie=x.ga==null)||(ie=S.width*S.o,t(x.Gb.length==0),x.Gb=s(ie),x.Uc=0,x.Gb==null?ie=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ie=1),ie=!ie),!ie){ie=x.ga;var ue=x.Fa,pe=x.P,Se=x.qc,De=x.mb,We=x.nb,we=pe+1,Fe=Se-1,Be=ie.l;if(t(ue!=null&&De!=null&&S!=null),Oo[0]=null,Oo[1]=Cn,Oo[2]=hr,Oo[3]=$r,ie.ca=De,ie.tb=We,ie.c=S.width,ie.i=S.height,t(0<ie.c&&0<ie.i),1>=Se)S=0;else if(ie.$a=3&ue[pe+0],ie.Z=ue[pe+0]>>2&3,ie.Lc=ue[pe+0]>>4&3,pe=ue[pe+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||pe)S=0;else if(Be.put=kt,Be.ac=Wn,Be.bc=rr,Be.ma=ie,Be.width=S.width,Be.height=S.height,Be.Da=S.Da,Be.v=S.v,Be.va=S.va,Be.j=S.j,Be.o=S.o,ie.$a)e:{t(ie.$a==1),S=Ue();t:for(;;){if(S==null){S=0;break e}if(t(ie!=null),ie.mc=S,S.c=ie.c,S.i=ie.i,S.l=ie.l,S.l.ma=ie,S.l.width=ie.c,S.l.height=ie.i,S.a=0,le(S.m,ue,we,Fe),!Re(ie.c,ie.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&he(S.s)?(ie.ic=1,ue=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(ue),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(ie.ic=0,S=He(S,ie.c)),!S))break t;S=1;break e}ie.mc=null,S=0}else S=Fe>=ie.c*ie.i;ie=!S}if(ie)return null;x.ga.Lc!=1?x.Ga=0:z=re-k}t(x.ga!=null),t(k+z<=re);e:{if(S=(ue=x.ga).c,re=ue.l.o,ue.$a==0){if(we=x.rc,Fe=x.Vc,Be=x.Fa,pe=x.P+1+k*S,Se=x.mb,De=x.nb+k*S,t(pe<=x.P+x.qc),ue.Z!=0)for(t(Oo[ue.Z]!=null),ie=0;ie<z;++ie)Oo[ue.Z](we,Fe,Be,pe,Se,De,S),we=Se,Fe=De,De+=S,pe+=S;else for(ie=0;ie<z;++ie)r(Se,De,Be,pe,S),we=Se,Fe=De,De+=S,pe+=S;x.rc=we,x.Vc=Fe}else{if(t(ue.mc!=null),S=k+z,t((ie=ue.mc)!=null),t(S<=ie.i),ie.C>=S)S=1;else if(ue.ic||rs(),ue.ic){ue=ie.V,we=ie.Ba,Fe=ie.c;var tt=ie.i,Ve=(Be=1,pe=ie.$/Fe,Se=ie.$%Fe,De=ie.m,We=ie.s,ie.$),et=Fe*tt,ot=Fe*S,bt=We.wc,ft=Ve<ot?ne(We,Se,pe):null;t(Ve<=et),t(S<=tt),t(he(We));t:for(;;){for(;!De.h&&Ve<ot;){if(Se&bt||(ft=ne(We,Se,pe)),t(ft!=null),de(De),256>(tt=jn(ft.G[0],ft.H[0],De)))ue[we+Ve]=tt,++Ve,++Se>=Fe&&(Se=0,++pe<=S&&!(pe%16)&&be(ie,pe));else{if(!(280>tt)){Be=0;break t}tt=nn(tt-256,De);var Qt,Ht=jn(ft.G[4],ft.H[4],De);if(de(De),!(Ve>=(Ht=Sr(Fe,Ht=nn(Ht,De)))&&et-Ve>=tt)){Be=0;break t}for(Qt=0;Qt<tt;++Qt)ue[we+Ve+Qt]=ue[we+Ve+Qt-Ht];for(Ve+=tt,Se+=tt;Se>=Fe;)Se-=Fe,++pe<=S&&!(pe%16)&&be(ie,pe);Ve<ot&&Se&bt&&(ft=ne(We,Se,pe))}t(De.h==B(De))}be(ie,pe>S?S:pe);break t}!Be||De.h&&Ve<et?(Be=0,ie.a=De.h?5:3):ie.$=Ve,S=Be}else S=Pe(ie,ie.V,ie.Ba,ie.c,ie.i,S,ht);if(!S){z=0;break e}}k+z>=re&&(x.Cc=1),z=1}if(!z)return null;if(x.Cc&&((z=x.ga)!=null&&(z.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+k*ee}function Fr(x,S,k,z,ee,re){for(;0<ee--;){var ie,ue=x,pe=S+(k?1:0),Se=x,De=S+(k?0:3);for(ie=0;ie<z;++ie){var We=Se[De+4*ie];We!=255&&(We*=32897,ue[pe+4*ie+0]=ue[pe+4*ie+0]*We>>23,ue[pe+4*ie+1]=ue[pe+4*ie+1]*We>>23,ue[pe+4*ie+2]=ue[pe+4*ie+2]*We>>23)}S+=re}}function Fa(x,S,k,z,ee){for(;0<z--;){var re;for(re=0;re<k;++re){var ie=x[S+2*re+0],ue=15&(Se=x[S+2*re+1]),pe=4369*ue,Se=(240&Se|Se>>4)*pe>>16;x[S+2*re+0]=(240&ie|ie>>4)*pe>>16&240|(15&ie|ie<<4)*pe>>16>>4&15,x[S+2*re+1]=240&Se|ue}S+=ee}}function ya(x,S,k,z,ee,re,ie,ue){var pe,Se,De=255;for(Se=0;Se<ee;++Se){for(pe=0;pe<z;++pe){var We=x[S+pe];re[ie+4*pe]=We,De&=We}S+=k,ie+=ue}return De!=255}function Ka(x,S,k,z,ee){var re;for(re=0;re<ee;++re)k[z+re]=x[S+re]>>8}function rs(){Kl=Fr,is=Fa,Iu=ya,Xi=Ka}function Fi(x,S,k){P[x]=function(z,ee,re,ie,ue,pe,Se,De,We,we,Fe,Be,tt,Ve,et,ot,bt){var ft,Qt=bt-1>>1,Ht=ue[pe+0]|Se[De+0]<<16,An=We[we+0]|Fe[Be+0]<<16;t(z!=null);var Yt=3*Ht+An+131074>>2;for(S(z[ee+0],255&Yt,Yt>>16,tt,Ve),re!=null&&(Yt=3*An+Ht+131074>>2,S(re[ie+0],255&Yt,Yt>>16,et,ot)),ft=1;ft<=Qt;++ft){var qn=ue[pe+ft]|Se[De+ft]<<16,Hr=We[we+ft]|Fe[Be+ft]<<16,Dn=Ht+qn+An+Hr+524296,Vt=Dn+2*(qn+An)>>3;Yt=Vt+Ht>>1,Ht=(Dn=Dn+2*(Ht+Hr)>>3)+qn>>1,S(z[ee+2*ft-1],255&Yt,Yt>>16,tt,Ve+(2*ft-1)*k),S(z[ee+2*ft-0],255&Ht,Ht>>16,tt,Ve+(2*ft-0)*k),re!=null&&(Yt=Dn+An>>1,Ht=Vt+Hr>>1,S(re[ie+2*ft-1],255&Yt,Yt>>16,et,ot+(2*ft-1)*k),S(re[ie+2*ft+0],255&Ht,Ht>>16,et,ot+(2*ft+0)*k)),Ht=qn,An=Hr}1&bt||(Yt=3*Ht+An+131074>>2,S(z[ee+bt-1],255&Yt,Yt>>16,tt,Ve+(bt-1)*k),re!=null&&(Yt=3*An+Ht+131074>>2,S(re[ie+bt-1],255&Yt,Yt>>16,et,ot+(bt-1)*k)))}}function Rf(){ei[Pf]=Jl,ei[ci]=Vc,ei[Bf]=yh,ei[ss]=qf,ei[Hu]=ml,ei[Bc]=ao,ei[fl]=pl,ei[Vu]=Vc,ei[Uf]=qf,ei[Uc]=ml,ei[Hf]=ao}function Fc(x){return x&-16384?0>x?0:255:x>>Wf}function ql(x,S){return Fc((19077*x>>8)+(26149*S>>8)-14234)}function Xs(x,S,k){return Fc((19077*x>>8)-(6419*S>>8)-(13320*k>>8)+8708)}function Cs(x,S){return Fc((19077*x>>8)+(33050*S>>8)-17685)}function Wl(x,S,k,z,ee){z[ee+0]=ql(x,k),z[ee+1]=Xs(x,S,k),z[ee+2]=Cs(x,S)}function ol(x,S,k,z,ee){z[ee+0]=Cs(x,S),z[ee+1]=Xs(x,S,k),z[ee+2]=ql(x,k)}function Xa(x,S,k,z,ee){var re=Xs(x,S,k);S=re<<3&224|Cs(x,S)>>3,z[ee+0]=248&ql(x,k)|re>>5,z[ee+1]=S}function ll(x,S,k,z,ee){var re=240&Cs(x,S)|15;z[ee+0]=240&ql(x,k)|Xs(x,S,k)>>4,z[ee+1]=re}function cl(x,S,k,z,ee){z[ee+0]=255,Wl(x,S,k,z,ee+1)}function Oc(x,S,k,z,ee){ol(x,S,k,z,ee),z[ee+3]=255}function Zs(x,S,k,z,ee){Wl(x,S,k,z,ee),z[ee+3]=255}function ea(x,S){return 0>x?0:x>S?S:x}function Ao(x,S,k){P[x]=function(z,ee,re,ie,ue,pe,Se,De,We){for(var we=De+(-2&We)*k;De!=we;)S(z[ee+0],re[ie+0],ue[pe+0],Se,De),S(z[ee+1],re[ie+0],ue[pe+0],Se,De+k),ee+=2,++ie,++pe,De+=2*k;1&We&&S(z[ee+0],re[ie+0],ue[pe+0],Se,De)}}function Rc(x,S,k){return k==0?x==0?S==0?6:5:S==0?4:0:k}function Ru(x,S,k,z,ee){switch(x>>>30){case 3:Lo(S,k,z,ee,0);break;case 2:oi(S,k,z,ee);break;case 1:dr(S,k,z,ee)}}function Yi(x,S){var k,z,ee=S.M,re=S.Nb,ie=x.oc,ue=x.pc+40,pe=x.oc,Se=x.pc+584,De=x.oc,We=x.pc+600;for(k=0;16>k;++k)ie[ue+32*k-1]=129;for(k=0;8>k;++k)pe[Se+32*k-1]=129,De[We+32*k-1]=129;for(0<ee?ie[ue-1-32]=pe[Se-1-32]=De[We-1-32]=129:(a(ie,ue-32-1,127,21),a(pe,Se-32-1,127,9),a(De,We-32-1,127,9)),z=0;z<x.za;++z){var we=S.ya[S.aa+z];if(0<z){for(k=-1;16>k;++k)r(ie,ue+32*k-4,ie,ue+32*k+12,4);for(k=-1;8>k;++k)r(pe,Se+32*k-4,pe,Se+32*k+4,4),r(De,We+32*k-4,De,We+32*k+4,4)}var Fe=x.Gd,Be=x.Hd+z,tt=we.ad,Ve=we.Hc;if(0<ee&&(r(ie,ue-32,Fe[Be].y,0,16),r(pe,Se-32,Fe[Be].f,0,8),r(De,We-32,Fe[Be].ea,0,8)),we.Za){var et=ie,ot=ue-32+16;for(0<ee&&(z>=x.za-1?a(et,ot,Fe[Be].y[15],4):r(et,ot,Fe[Be+1].y,0,4)),k=0;4>k;k++)et[ot+128+k]=et[ot+256+k]=et[ot+384+k]=et[ot+0+k];for(k=0;16>k;++k,Ve<<=2)et=ie,ot=ue+ha[k],ta[we.Ob[k]](et,ot),Ru(Ve,tt,16*+k,et,ot)}else if(et=Rc(z,ee,we.Ob[0]),wi[et](ie,ue),Ve!=0)for(k=0;16>k;++k,Ve<<=2)Ru(Ve,tt,16*+k,ie,ue+ha[k]);for(k=we.Gc,et=Rc(z,ee,we.Dd),Ls[et](pe,Se),Ls[et](De,We),Ve=tt,et=pe,ot=Se,255&(we=0|k)&&(170&we?as(Ve,256,et,ot):ir(Ve,256,et,ot)),we=De,Ve=We,255&(k>>=8)&&(170&k?as(tt,320,we,Ve):ir(tt,320,we,Ve)),ee<x.Ub-1&&(r(Fe[Be].y,0,ie,ue+480,16),r(Fe[Be].f,0,pe,Se+224,8),r(Fe[Be].ea,0,De,We+224,8)),k=8*re*x.B,Fe=x.sa,Be=x.ta+16*z+16*re*x.R,tt=x.qa,we=x.ra+8*z+k,Ve=x.Ha,et=x.Ia+8*z+k,k=0;16>k;++k)r(Fe,Be+k*x.R,ie,ue+32*k,16);for(k=0;8>k;++k)r(tt,we+k*x.B,pe,Se+32*k,8),r(Ve,et+k*x.B,De,We+32*k,8)}}function js(x,S,k,z,ee,re,ie,ue,pe){var Se=[0],De=[0],We=0,we=pe!=null?pe.kd:0,Fe=pe??new st;if(x==null||12>k)return 7;Fe.data=x,Fe.w=S,Fe.ha=k,S=[S],k=[k],Fe.gb=[Fe.gb];e:{var Be=S,tt=k,Ve=Fe.gb;if(t(x!=null),t(tt!=null),t(Ve!=null),Ve[0]=0,12<=tt[0]&&!n(x,Be[0],"RIFF")){if(n(x,Be[0]+8,"WEBP")){Ve=3;break e}var et=Te(x,Be[0]+4);if(12>et||4294967286<et){Ve=3;break e}if(we&&et>tt[0]-8){Ve=7;break e}Ve[0]=et,Be[0]+=12,tt[0]-=12}Ve=0}if(Ve!=0)return Ve;for(et=0<Fe.gb[0],k=k[0];;){e:{var ot=x;tt=S,Ve=k;var bt=Se,ft=De,Qt=Be=[0];if((Yt=We=[We])[0]=0,8>Ve[0])Ve=7;else{if(!n(ot,tt[0],"VP8X")){if(Te(ot,tt[0]+4)!=10){Ve=3;break e}if(18>Ve[0]){Ve=7;break e}var Ht=Te(ot,tt[0]+8),An=1+Ge(ot,tt[0]+12);if(2147483648<=An*(ot=1+Ge(ot,tt[0]+15))){Ve=3;break e}Qt!=null&&(Qt[0]=Ht),bt!=null&&(bt[0]=An),ft!=null&&(ft[0]=ot),tt[0]+=18,Ve[0]-=18,Yt[0]=1}Ve=0}}if(We=We[0],Be=Be[0],Ve!=0)return Ve;if(tt=!!(2&Be),!et&&We)return 3;if(re!=null&&(re[0]=!!(16&Be)),ie!=null&&(ie[0]=tt),ue!=null&&(ue[0]=0),ie=Se[0],Be=De[0],We&&tt&&pe==null){Ve=0;break}if(4>k){Ve=7;break}if(et&&We||!et&&!We&&!n(x,S[0],"ALPH")){k=[k],Fe.na=[Fe.na],Fe.P=[Fe.P],Fe.Sa=[Fe.Sa];e:{Ht=x,Ve=S,et=k;var Yt=Fe.gb;bt=Fe.na,ft=Fe.P,Qt=Fe.Sa,An=22,t(Ht!=null),t(et!=null),ot=Ve[0];var qn=et[0];for(t(bt!=null),t(Qt!=null),bt[0]=null,ft[0]=null,Qt[0]=0;;){if(Ve[0]=ot,et[0]=qn,8>qn){Ve=7;break e}var Hr=Te(Ht,ot+4);if(4294967286<Hr){Ve=3;break e}var Dn=8+Hr+1&-2;if(An+=Dn,0<Yt&&An>Yt){Ve=3;break e}if(!n(Ht,ot,"VP8 ")||!n(Ht,ot,"VP8L")){Ve=0;break e}if(qn[0]<Dn){Ve=7;break e}n(Ht,ot,"ALPH")||(bt[0]=Ht,ft[0]=ot+8,Qt[0]=Hr),ot+=Dn,qn-=Dn}}if(k=k[0],Fe.na=Fe.na[0],Fe.P=Fe.P[0],Fe.Sa=Fe.Sa[0],Ve!=0)break}k=[k],Fe.Ja=[Fe.Ja],Fe.xa=[Fe.xa];e:if(Yt=x,Ve=S,et=k,bt=Fe.gb[0],ft=Fe.Ja,Qt=Fe.xa,Ht=Ve[0],ot=!n(Yt,Ht,"VP8 "),An=!n(Yt,Ht,"VP8L"),t(Yt!=null),t(et!=null),t(ft!=null),t(Qt!=null),8>et[0])Ve=7;else{if(ot||An){if(Yt=Te(Yt,Ht+4),12<=bt&&Yt>bt-12){Ve=3;break e}if(we&&Yt>et[0]-8){Ve=7;break e}ft[0]=Yt,Ve[0]+=8,et[0]-=8,Qt[0]=An}else Qt[0]=5<=et[0]&&Yt[Ht+0]==47&&!(Yt[Ht+4]>>5),ft[0]=et[0];Ve=0}if(k=k[0],Fe.Ja=Fe.Ja[0],Fe.xa=Fe.xa[0],S=S[0],Ve!=0)break;if(4294967286<Fe.Ja)return 3;if(ue==null||tt||(ue[0]=Fe.xa?2:1),ie=[ie],Be=[Be],Fe.xa){if(5>k){Ve=7;break}ue=ie,we=Be,tt=re,x==null||5>k?x=0:5<=k&&x[S+0]==47&&!(x[S+4]>>5)?(et=[0],Yt=[0],bt=[0],le(ft=new F,x,S,k),Vn(ft,et,Yt,bt)?(ue!=null&&(ue[0]=et[0]),we!=null&&(we[0]=Yt[0]),tt!=null&&(tt[0]=bt[0]),x=1):x=0):x=0}else{if(10>k){Ve=7;break}ue=Be,x==null||10>k||!wn(x,S+3,k-3)?x=0:(we=x[S+0]|x[S+1]<<8|x[S+2]<<16,tt=16383&(x[S+7]<<8|x[S+6]),x=16383&(x[S+9]<<8|x[S+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Fe.Ja||!tt||!x?x=0:(ie&&(ie[0]=tt),ue&&(ue[0]=x),x=1))}if(!x||(ie=ie[0],Be=Be[0],We&&(Se[0]!=ie||De[0]!=Be)))return 3;pe!=null&&(pe[0]=Fe,pe.offset=S-pe.w,t(4294967286>S-pe.w),t(pe.offset==pe.ha-k));break}return Ve==0||Ve==7&&We&&pe==null?(re!=null&&(re[0]|=Fe.na!=null&&0<Fe.na.length),z!=null&&(z[0]=ie),ee!=null&&(ee[0]=Be),0):Ve}function Eo(x,S,k){var z=S.width,ee=S.height,re=0,ie=0,ue=z,pe=ee;if(S.Da=x!=null&&0<x.Da,S.Da&&(ue=x.cd,pe=x.bd,re=x.v,ie=x.j,11>k||(re&=-2,ie&=-2),0>re||0>ie||0>=ue||0>=pe||re+ue>z||ie+pe>ee))return 0;if(S.v=re,S.j=ie,S.va=re+ue,S.o=ie+pe,S.U=ue,S.T=pe,S.da=x!=null&&0<x.da,S.da){if(!wt(ue,pe,k=[x.ib],re=[x.hb]))return 0;S.ib=k[0],S.hb=re[0]}return S.ob=x!=null&&x.ob,S.Kb=x==null||!x.Sd,S.da&&(S.ob=S.ib<3*z/4&&S.hb<3*ee/4,S.Kb=0),1}function Mu(x){if(x==null)return 2;if(11>x.S){var S=x.f.RGBA;S.fb+=(x.height-1)*S.A,S.A=-S.A}else S=x.f.kb,x=x.height,S.O+=(x-1)*S.fa,S.fa=-S.fa,S.N+=(x-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(x-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(x-1)*S.lb,S.lb=-S.lb);return 0}function Ds(x,S,k,z){if(z==null||0>=x||0>=S)return 2;if(k!=null){if(k.Da){var ee=k.cd,re=k.bd,ie=-2&k.v,ue=-2&k.j;if(0>ie||0>ue||0>=ee||0>=re||ie+ee>x||ue+re>S)return 2;x=ee,S=re}if(k.da){if(!wt(x,S,ee=[k.ib],re=[k.hb]))return 2;x=ee[0],S=re[0]}}z.width=x,z.height=S;e:{var pe=z.width,Se=z.height;if(x=z.S,0>=pe||0>=Se||!(x>=Pf&&13>x))x=2;else{if(0>=z.Rd&&z.sd==null){ie=re=ee=S=0;var De=(ue=pe*Yf[x])*Se;if(11>x||(re=(Se+1)/2*(S=(pe+1)/2),x==12&&(ie=(ee=pe)*Se)),(Se=s(De+2*re+ie))==null){x=1;break e}z.sd=Se,11>x?((pe=z.f.RGBA).eb=Se,pe.fb=0,pe.A=ue,pe.size=De):((pe=z.f.kb).y=Se,pe.O=0,pe.fa=ue,pe.Fd=De,pe.f=Se,pe.N=0+De,pe.Ab=S,pe.Cd=re,pe.ea=Se,pe.W=0+De+re,pe.Db=S,pe.Ed=re,x==12&&(pe.F=Se,pe.J=0+De+2*re),pe.Tc=ie,pe.lb=ee)}if(S=1,ee=z.S,re=z.width,ie=z.height,ee>=Pf&&13>ee)if(11>ee)x=z.f.RGBA,S&=(ue=Math.abs(x.A))*(ie-1)+re<=x.size,S&=ue>=re*Yf[ee],S&=x.eb!=null;else{x=z.f.kb,ue=(re+1)/2,De=(ie+1)/2,pe=Math.abs(x.fa),Se=Math.abs(x.Ab);var We=Math.abs(x.Db),we=Math.abs(x.lb),Fe=we*(ie-1)+re;S&=pe*(ie-1)+re<=x.Fd,S&=Se*(De-1)+ue<=x.Cd,S=(S&=We*(De-1)+ue<=x.Ed)&pe>=re&Se>=ue&We>=ue,S&=x.y!=null,S&=x.f!=null,S&=x.ea!=null,ee==12&&(S&=we>=re,S&=Fe<=x.Tc,S&=x.F!=null)}else S=0;x=S?0:2}}return x!=0||k!=null&&k.fd&&(x=Mu(z)),x}var ul=64,Oi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],bi=24,Js=32,Qs=8,Co=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];St("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(x){return x},P.Predictor2=function(x,S,k){return S[k+0]},P.Predictor3=function(x,S,k){return S[k+1]},P.Predictor4=function(x,S,k){return S[k-1]},P.Predictor5=function(x,S,k){return Lt(Lt(x,S[k+1]),S[k+0])},P.Predictor6=function(x,S,k){return Lt(x,S[k-1])},P.Predictor7=function(x,S,k){return Lt(x,S[k+0])},P.Predictor8=function(x,S,k){return Lt(S[k-1],S[k+0])},P.Predictor9=function(x,S,k){return Lt(S[k+0],S[k+1])},P.Predictor10=function(x,S,k){return Lt(Lt(x,S[k-1]),Lt(S[k+0],S[k+1]))},P.Predictor11=function(x,S,k){var z=S[k+0];return 0>=Wt(z>>24&255,x>>24&255,(S=S[k-1])>>24&255)+Wt(z>>16&255,x>>16&255,S>>16&255)+Wt(z>>8&255,x>>8&255,S>>8&255)+Wt(255&z,255&x,255&S)?z:x},P.Predictor12=function(x,S,k){var z=S[k+0];return(qt((x>>24&255)+(z>>24&255)-((S=S[k-1])>>24&255))<<24|qt((x>>16&255)+(z>>16&255)-(S>>16&255))<<16|qt((x>>8&255)+(z>>8&255)-(S>>8&255))<<8|qt((255&x)+(255&z)-(255&S)))>>>0},P.Predictor13=function(x,S,k){var z=S[k-1];return(rn((x=Lt(x,S[k+0]))>>24&255,z>>24&255)<<24|rn(x>>16&255,z>>16&255)<<16|rn(x>>8&255,z>>8&255)<<8|rn(255&x,255&z))>>>0};var Mc=P.PredictorAdd0;P.PredictorAdd1=cn,St("Predictor2","PredictorAdd2"),St("Predictor3","PredictorAdd3"),St("Predictor4","PredictorAdd4"),St("Predictor5","PredictorAdd5"),St("Predictor6","PredictorAdd6"),St("Predictor7","PredictorAdd7"),St("Predictor8","PredictorAdd8"),St("Predictor9","PredictorAdd9"),St("Predictor10","PredictorAdd10"),St("Predictor11","PredictorAdd11"),St("Predictor12","PredictorAdd12"),St("Predictor13","PredictorAdd13");var zc=P.PredictorAdd2;Ft("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ua,Mf=P.ColorIndexInverseTransform,eo=P.MapARGB,to=P.VP8LColorIndexInverseTransformAlpha,Za=P.MapAlpha,jo=P.VP8LPredictorsAdd=[];jo.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Ic,Pc,Do,ko,no,$l,Ki,Lo,oi,as,dr,ir,Or,fa,ro,ks,Yl,zu,mh,g1,x1,v1,ph,gh,Kl,is,Iu,Xi,Xl=s(511),zf=s(2041),Pu=s(225),Bu=s(767),If=0,Fo=zf,Uu=Pu,li=Bu,Ja=Xl,Pf=0,ci=1,Bf=2,ss=3,Hu=4,Bc=5,fl=6,Vu=7,Uf=8,Uc=9,Hf=10,os=[2,3,7],Hc=[3,3,11],Zl=[280,256,256,256,40],Vf=[0,1,1,1,0],Gu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ls=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],cs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hl=8,us=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],fs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Zi=null,y1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],xh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],b1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Qa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Ur=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Xn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wi=[],ta=[],Ls=[],dl=1,vh=2,Oo=[],ei=[];Fi("UpsampleRgbLinePair",Wl,3),Fi("UpsampleBgrLinePair",ol,3),Fi("UpsampleRgbaLinePair",Zs,4),Fi("UpsampleBgraLinePair",Oc,4),Fi("UpsampleArgbLinePair",cl,4),Fi("UpsampleRgba4444LinePair",ll,2),Fi("UpsampleRgb565LinePair",Xa,2);var Jl=P.UpsampleRgbLinePair,yh=P.UpsampleBgrLinePair,Vc=P.UpsampleRgbaLinePair,qf=P.UpsampleBgraLinePair,ml=P.UpsampleArgbLinePair,ao=P.UpsampleRgba4444LinePair,pl=P.UpsampleRgb565LinePair,hs=16,Gc=1<<hs-1,Ql=-227,gl=482,Wf=6,xl=0,ti=s(256),$f=s(256),w1=s(256),$p=s(256),Yp=s(gl-Ql),Kp=s(gl-Ql);Ao("YuvToRgbRow",Wl,3),Ao("YuvToBgrRow",ol,3),Ao("YuvToRgbaRow",Zs,4),Ao("YuvToBgraRow",Oc,4),Ao("YuvToArgbRow",cl,4),Ao("YuvToRgba4444Row",ll,2),Ao("YuvToRgb565Row",Xa,2);var ha=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qc=[0,2,8],qu=[8,7,6,4,4,2,2,2,1,1,1,1],Wu=1;this.WebPDecodeRGBA=function(x,S,k,z,ee){var re=ci,ie=new Me,ue=new _n;ie.ba=ue,ue.S=re,ue.width=[ue.width],ue.height=[ue.height];var pe=ue.width,Se=ue.height,De=new Ut;if(De==null||x==null)var We=2;else t(De!=null),We=js(x,S,k,De.width,De.height,De.Pd,De.Qd,De.format,null);if(We!=0?pe=0:(pe!=null&&(pe[0]=De.width[0]),Se!=null&&(Se[0]=De.height[0]),pe=1),pe){ue.width=ue.width[0],ue.height=ue.height[0],z!=null&&(z[0]=ue.width),ee!=null&&(ee[0]=ue.height);e:{if(z=new Oe,(ee=new st).data=x,ee.w=S,ee.ha=k,ee.kd=1,S=[0],t(ee!=null),((x=js(ee.data,ee.w,ee.ha,null,null,null,S,null,ee))==0||x==7)&&S[0]&&(x=4),(S=x)==0){if(t(ie!=null),z.data=ee.data,z.w=ee.w+ee.offset,z.ha=ee.ha-ee.offset,z.put=kt,z.ac=Wn,z.bc=rr,z.ma=ie,ee.xa){if((x=Ue())==null){ie=1;break e}if((function(we,Fe){var Be=[0],tt=[0],Ve=[0];t:for(;;){if(we==null)return 0;if(Fe==null)return we.a=2,0;if(we.l=Fe,we.a=0,le(we.m,Fe.data,Fe.w,Fe.ha),!Vn(we.m,Be,tt,Ve)){we.a=3;break t}if(we.xb=vh,Fe.width=Be[0],Fe.height=tt[0],!Re(Be[0],tt[0],1,we,null))break t;return 1}return t(we.a!=0),0})(x,z)){if(z=(S=Ds(z.width,z.height,ie.Oa,ie.ba))==0){t:{z=x;n:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((k=z.l)!=null),t((ee=k.ma)!=null),z.xb!=0){if(z.ca=ee.ba,z.tb=ee.tb,t(z.ca!=null),!Eo(ee.Oa,k,ss)){z.a=2;break n}if(!He(z,k.width)||k.da)break n;if((k.da||Bt(z.ca.S))&&rs(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&rs()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!xe(z.s.vb,z.s.Wa.Xa)){z.a=1;break n}z.xb=0}if(!Pe(z,z.V,z.Ba,z.c,z.i,k.o,fe))break n;ee.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(S=x.a)}else S=x.a}else{if((x=new lt)==null){ie=1;break e}if(x.Fa=ee.na,x.P=ee.P,x.qc=ee.Sa,$n(x,z)){if((S=Ds(z.width,z.height,ie.Oa,ie.ba))==0){if(x.Aa=0,k=ie.Oa,t((ee=x)!=null),k!=null){if(0<(pe=0>(pe=k.Md)?0:100<pe?255:255*pe/100)){for(Se=De=0;4>Se;++Se)12>(We=ee.pb[Se]).lc&&(We.ia=pe*qu[0>We.lc?0:We.lc]>>3),De|=We.ia;De&&(alert("todo:VP8InitRandom"),ee.ia=1)}ee.Ga=k.Id,100<ee.Ga?ee.Ga=100:0>ee.Ga&&(ee.Ga=0)}(function(we,Fe){if(we==null)return 0;if(Fe==null)return rt(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!$n(we,Fe))return 0;if(t(we.cb),Fe.ac==null||Fe.ac(Fe)){Fe.ob&&(we.L=0);var Be=qc[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Fe.v-Be>>4,we.zb=Fe.j-Be>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Fe.o+15+Be>>4,we.Hb=Fe.va+15+Be>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var tt=we.ed;for(Be=0;4>Be;++Be){var Ve;if(we.Qa.Cb){var et=we.Qa.Lb[Be];we.Qa.Fb||(et+=tt.Tb)}else et=tt.Tb;for(Ve=0;1>=Ve;++Ve){var ot=we.gd[Be][Ve],bt=et;if(tt.Pc&&(bt+=tt.vd[0],Ve&&(bt+=tt.od[0])),0<(bt=0>bt?0:63<bt?63:bt)){var ft=bt;0<tt.wb&&(ft=4<tt.wb?ft>>2:ft>>1)>9-tt.wb&&(ft=9-tt.wb),1>ft&&(ft=1),ot.dd=ft,ot.tc=2*bt+ft,ot.ld=40<=bt?2:15<=bt?1:0}else ot.tc=0;ot.La=Ve}}}Be=0}else rt(we,6,"Frame setup failed"),Be=we.a;if(Be=Be==0){if(Be){we.$c=0,0<we.Aa||(we.Ic=Wu);t:{Be=we.Ic,tt=4*(ft=we.za);var Qt=32*ft,Ht=ft+1,An=0<we.L?ft*(0<we.Aa?2:1):0,Yt=(we.Aa==2?2:1)*ft;if((ot=tt+832+(Ve=3*(16*Be+qc[we.L])/2*Qt)+(et=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=ot)Be=0;else{if(ot>we.Vb){if(we.Vb=0,we.Ec=s(ot),we.Fc=0,we.Ec==null){Be=rt(we,1,"no memory during frame initialization.");break t}we.Vb=ot}ot=we.Ec,bt=we.Fc,we.Ac=ot,we.Bc=bt,bt+=tt,we.Gd=l(Qt,ka),we.Hd=0,we.rb=l(Ht+1,er),we.sb=1,we.wa=An?l(An,On):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=ft),t(!0),we.oc=ot,we.pc=bt,bt+=832,we.ya=l(Yt,$a),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=ft),we.R=16*ft,we.B=8*ft,ft=(Qt=qc[we.L])*we.R,Qt=Qt/2*we.B,we.sa=ot,we.ta=bt+ft,we.qa=we.sa,we.ra=we.ta+16*Be*we.R+Qt,we.Ha=we.qa,we.Ia=we.ra+8*Be*we.B+Qt,we.$c=0,bt+=Ve,we.mb=et?ot:null,we.nb=et?bt:null,t(bt+et<=we.Fc+we.Vb),xa(we),a(we.Ac,we.Bc,0,tt),Be=1}}if(Be){if(Fe.ka=0,Fe.y=we.sa,Fe.O=we.ta,Fe.f=we.qa,Fe.N=we.ra,Fe.ea=we.Ha,Fe.Vd=we.Ia,Fe.fa=we.R,Fe.Rc=we.B,Fe.F=null,Fe.J=0,!If){for(Be=-255;255>=Be;++Be)Xl[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)zf[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)Pu[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)Bu[255+Be]=0>Be?0:255<Be?255:Be;If=1}Ki=Ts,Lo=vt,as=Yn,dr=la,ir=_s,oi=Ot,Or=Lf,fa=Ff,ro=C,ks=J,Yl=To,zu=Of,mh=_e,g1=Ce,x1=Vl,v1=No,ph=sl,gh=Gl,ta[0]=Fu,ta[1]=si,ta[2]=il,ta[3]=Df,ta[4]=kf,ta[5]=Ya,ta[6]=qi,ta[7]=Ou,ta[8]=Wi,ta[9]=Bl,wi[0]=As,wi[1]=Nr,wi[2]=Tn,wi[3]=jc,wi[4]=Es,wi[5]=bo,wi[6]=Pl,Ls[0]=wo,Ls[1]=La,Ls[2]=Ul,Ls[3]=$s,Ls[4]=kc,Ls[5]=Dc,Ls[6]=Pa,Be=1}else Be=0}Be&&(Be=(function(qn,Hr){for(qn.M=0;qn.M<qn.Va;++qn.M){var Dn,Vt=qn.Jc[qn.M&qn.Xb],jt=qn.m,Yr=qn;for(Dn=0;Dn<Yr.za;++Dn){var gn=jt,Rn=Yr,vr=Rn.Ac,Oa=Rn.Bc+4*Dn,ni=Rn.zc,Rr=Rn.ya[Rn.aa+Dn];if(Rn.Qa.Bb?Rr.$b=ve(gn,Rn.Pa.jb[0])?2+ve(gn,Rn.Pa.jb[2]):ve(gn,Rn.Pa.jb[1]):Rr.$b=0,Rn.kc&&(Rr.Ad=ve(gn,Rn.Bd)),Rr.Za=!ve(gn,145)+0,Rr.Za){var ba=Rr.Ob,ui=0;for(Rn=0;4>Rn;++Rn){var wa,Pn=ni[0+Rn];for(wa=0;4>wa;++wa){Pn=Qa[vr[Oa+wa]][Pn];for(var or=Gf[ve(gn,Pn[0])];0<or;)or=Gf[2*or+ve(gn,Pn[or])];Pn=-or,vr[Oa+wa]=Pn}r(ba,ui,vr,Oa,4),ui+=4,ni[0+Rn]=Pn}}else Pn=ve(gn,156)?ve(gn,128)?1:3:ve(gn,163)?2:0,Rr.Ob[0]=Pn,a(vr,Oa,Pn,4),a(ni,0,Pn,4);Rr.Dd=ve(gn,142)?ve(gn,114)?ve(gn,183)?1:3:2:0}if(Yr.m.Ka)return rt(qn,7,"Premature end-of-partition0 encountered.");for(;qn.ja<qn.za;++qn.ja){if(Yr=Vt,gn=(jt=qn).rb[jt.sb-1],vr=jt.rb[jt.sb+jt.ja],Dn=jt.ya[jt.aa+jt.ja],Oa=jt.kc?Dn.Ad:0)gn.la=vr.la=0,Dn.Za||(gn.Na=vr.Na=0),Dn.Hc=0,Dn.Gc=0,Dn.ia=0;else{var Kr,mr;if(gn=vr,vr=Yr,Oa=jt.Pa.Xc,ni=jt.ya[jt.aa+jt.ja],Rr=jt.pb[ni.$b],Rn=ni.ad,ba=0,ui=jt.rb[jt.sb-1],Pn=wa=0,a(Rn,ba,0,384),ni.Za)var Ra=0,Xr=Oa[3];else{or=s(16);var lr=gn.Na+ui.Na;if(lr=Zi(vr,Oa[1],lr,Rr.Eb,0,or,0),gn.Na=ui.Na=(0<lr)+0,1<lr)Ki(or,0,Rn,ba);else{var da=or[0]+3>>3;for(or=0;256>or;or+=16)Rn[ba+or]=da}Ra=1,Xr=Oa[0]}var yr=15&gn.la,Sa=15&ui.la;for(or=0;4>or;++or){var Na=1&Sa;for(da=mr=0;4>da;++da)yr=yr>>1|(Na=(lr=Zi(vr,Xr,lr=Na+(1&yr),Rr.Sc,Ra,Rn,ba))>Ra)<<7,mr=mr<<2|(3<lr?3:1<lr?2:Rn[ba+0]!=0),ba+=16;yr>>=4,Sa=Sa>>1|Na<<7,wa=(wa<<8|mr)>>>0}for(Xr=yr,Ra=Sa>>4,Kr=0;4>Kr;Kr+=2){for(mr=0,yr=gn.la>>4+Kr,Sa=ui.la>>4+Kr,or=0;2>or;++or){for(Na=1&Sa,da=0;2>da;++da)lr=Na+(1&yr),yr=yr>>1|(Na=0<(lr=Zi(vr,Oa[2],lr,Rr.Qc,0,Rn,ba)))<<3,mr=mr<<2|(3<lr?3:1<lr?2:Rn[ba+0]!=0),ba+=16;yr>>=2,Sa=Sa>>1|Na<<5}Pn|=mr<<4*Kr,Xr|=yr<<4<<Kr,Ra|=(240&Sa)<<Kr}gn.la=Xr,ui.la=Ra,ni.Hc=wa,ni.Gc=Pn,ni.ia=43690&Pn?0:Rr.ia,Oa=!(wa|Pn)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[Dn.$b][Dn.Za],jt.wa[jt.Y+jt.ja].La|=!Oa),Yr.Ka)return rt(qn,7,"Premature end-of-file encountered.")}if(xa(qn),jt=Hr,Yr=1,Dn=(Vt=qn).D,gn=0<Vt.L&&Vt.M>=Vt.zb&&Vt.M<=Vt.Va,Vt.Aa==0)t:{if(Dn.M=Vt.M,Dn.uc=gn,Yi(Vt,Dn),Yr=1,Dn=(mr=Vt.D).Nb,gn=(Pn=qc[Vt.L])*Vt.R,vr=Pn/2*Vt.B,or=16*Dn*Vt.R,da=8*Dn*Vt.B,Oa=Vt.sa,ni=Vt.ta-gn+or,Rr=Vt.qa,Rn=Vt.ra-vr+da,ba=Vt.Ha,ui=Vt.Ia-vr+da,Sa=(yr=mr.M)==0,wa=yr>=Vt.Va-1,Vt.Aa==2&&Yi(Vt,mr),mr.uc)for(Na=(lr=Vt).D.M,t(lr.D.uc),mr=lr.yb;mr<lr.Hb;++mr){Ra=mr,Xr=Na;var _r=(sr=(_a=lr).D).Nb;Kr=_a.R;var sr=sr.wa[sr.Y+Ra],fi=_a.sa,na=_a.ta+16*_r*Kr+16*Ra,fn=sr.dd,hn=sr.tc;if(hn!=0)if(t(3<=hn),_a.L==1)0<Ra&&v1(fi,na,Kr,hn+4),sr.La&&gh(fi,na,Kr,hn),0<Xr&&x1(fi,na,Kr,hn+4),sr.La&&ph(fi,na,Kr,hn);else{var cr=_a.B,Ri=_a.qa,ds=_a.ra+8*_r*cr+8*Ra,Si=_a.Ha,_a=_a.Ia+8*_r*cr+8*Ra;_r=sr.ld,0<Ra&&(fa(fi,na,Kr,hn+4,fn,_r),ks(Ri,ds,Si,_a,cr,hn+4,fn,_r)),sr.La&&(zu(fi,na,Kr,hn,fn,_r),g1(Ri,ds,Si,_a,cr,hn,fn,_r)),0<Xr&&(Or(fi,na,Kr,hn+4,fn,_r),ro(Ri,ds,Si,_a,cr,hn+4,fn,_r)),sr.La&&(Yl(fi,na,Kr,hn,fn,_r),mh(Ri,ds,Si,_a,cr,hn,fn,_r))}}if(Vt.ia&&alert("todo:DitherRow"),jt.put!=null){if(mr=16*yr,yr=16*(yr+1),Sa?(jt.y=Vt.sa,jt.O=Vt.ta+or,jt.f=Vt.qa,jt.N=Vt.ra+da,jt.ea=Vt.Ha,jt.W=Vt.Ia+da):(mr-=Pn,jt.y=Oa,jt.O=ni,jt.f=Rr,jt.N=Rn,jt.ea=ba,jt.W=ui),wa||(yr-=Pn),yr>jt.o&&(yr=jt.o),jt.F=null,jt.J=null,Vt.Fa!=null&&0<Vt.Fa.length&&mr<yr&&(jt.J=ca(Vt,jt,mr,yr-mr),jt.F=Vt.mb,jt.F==null&&jt.F.length==0)){Yr=rt(Vt,3,"Could not decode alpha data.");break t}mr<jt.j&&(Pn=jt.j-mr,mr=jt.j,t(!(1&Pn)),jt.O+=Vt.R*Pn,jt.N+=Vt.B*(Pn>>1),jt.W+=Vt.B*(Pn>>1),jt.F!=null&&(jt.J+=jt.width*Pn)),mr<yr&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=mr-jt.j,jt.U=jt.va-jt.v,jt.T=yr-mr,Yr=jt.put(jt))}Dn+1!=Vt.Ic||wa||(r(Vt.sa,Vt.ta-gn,Oa,ni+16*Vt.R,gn),r(Vt.qa,Vt.ra-vr,Rr,Rn+8*Vt.B,vr),r(Vt.Ha,Vt.Ia-vr,ba,ui+8*Vt.B,vr))}if(!Yr)return rt(qn,6,"Output aborted.")}return 1})(we,Fe)),Fe.bc!=null&&Fe.bc(Fe),Be&=1}return Be?(we.cb=0,Be):0})(x,z)||(S=x.a)}}else S=x.a}S==0&&ie.Oa!=null&&ie.Oa.fd&&(S=Mu(ie.ba))}ie=S}re=ie!=0?null:11>re?ue.f.RGBA.eb:ue.f.kb.y}else re=null;return re};var Yf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(P,Q){for(var O="",G=0;G<4;G++)O+=String.fromCharCode(P[Q++]);return O}function m(P,Q){return P[Q+0]|P[Q+1]<<8}function v(P,Q){return(P[Q+0]|P[Q+1]<<8|P[Q+2]<<16)>>>0}function y(P,Q){return(P[Q+0]|P[Q+1]<<8|P[Q+2]<<16|P[Q+3]<<24)>>>0}new d;var g=[0],T=[0],b=[],A=new d,E=e,D=(function(P,Q){var O={},G=0,K=!1,X=0,H=0;if(O.frames=[],!(function(N,F){for(var L=0;L<4;L++)if(N[F+L]!="RIFF".charCodeAt(L))return!0;return!1})(P,Q)){for(y(P,Q+=4),Q+=8;Q<P.length;){var V=h(P,Q),ae=y(P,Q+=4);Q+=4;var ce=ae+(1&ae);switch(V){case"VP8 ":case"VP8L":O.frames[G]===void 0&&(O.frames[G]={}),(M=O.frames[G]).src_off=K?H:Q-8,M.src_size=X+ae+8,G++,K&&(K=!1,X=0,H=0);break;case"VP8X":(M=O.header={}).feature_flags=P[Q];var le=Q+4;M.canvas_width=1+v(P,le),le+=3,M.canvas_height=1+v(P,le),le+=3;break;case"ALPH":K=!0,X=ce+8,H=Q-8;break;case"ANIM":(M=O.header).bgcolor=y(P,Q),le=Q+4,M.loop_count=m(P,le),le+=2;break;case"ANMF":var me,M;(M=O.frames[G]={}).offset_x=2*v(P,Q),Q+=3,M.offset_y=2*v(P,Q),Q+=3,M.width=1+v(P,Q),Q+=3,M.height=1+v(P,Q),Q+=3,M.duration=v(P,Q),Q+=3,me=P[Q++],M.dispose=1&me,M.blend=me>>1&1}V!="ANMF"&&(Q+=ce)}return O}})(E,0);D.response=E,D.rgbaoutput=!0,D.dataurl=!1;var j=D.header?D.header:null,R=D.frames?D.frames:null;if(j){j.loop_counter=j.loop_count,g=[j.canvas_height],T=[j.canvas_width];for(var q=0;q<R.length&&R[q].blend!=0;q++);}var Z=R[0],I=A.WebPDecodeRGBA(E,Z.src_off,Z.src_size,T,g);Z.rgba=I,Z.imgwidth=T[0],Z.imgheight=g[0];for(var Y=0;Y<T[0]*g[0]*4;Y++)b[Y]=I[Y];return this.width=T,this.height=g,this.data=b,this}(function(e){var t,n,r,a,s,l,c,d,h,m=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new d,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new l,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new l,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new v(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,h=new m}]);var v=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=N;Object.defineProperty(this,"pdf",{get:function(){return F}});var L=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return L},set:function(Te){L=!!Te}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(Te){B=!!Te}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(Te){isNaN(Te)||(te=Te)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Te){isNaN(Te)||(de=Te)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Te){var xe;typeof Te=="number"?xe=[Te,Te,Te,Te]:((xe=new Array(4))[0]=Te[0],xe[1]=Te.length>=2?Te[1]:xe[0],xe[2]=Te.length>=3?Te[2]:xe[0],xe[3]=Te.length>=4?Te[3]:xe[1]),h.margin=xe}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(Te){Ne=Te}});var se=0;Object.defineProperty(this,"lastBreak",{get:function(){return se},set:function(Te){se=Te}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(Te){ve=Te}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Te){Te instanceof m&&(h=Te)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Te){h.path=Te}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(Te){je=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var xe;xe=y(Te),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var xe=y(Te);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var ke=null,Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(Te){ke=null,Ge=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var xe;if(this.ctx.font=Te,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var gt=xe[1];xe[2];var Xe=xe[3],wt=xe[4];xe[5];var Ze=xe[6],Et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wt)[2];wt=Math.floor(Et==="px"?parseFloat(wt)*this.pdf.internal.scaleFactor:Et==="em"?parseFloat(wt)*this.pdf.getFontSize():parseFloat(wt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wt);var St=(function(tn){var Ft,Mn,Xt=[],Dt=tn.trim();if(Dt==="")return gx;if(Dt in TS)return[TS[Dt]];for(;Dt!=="";){switch(Mn=null,Ft=(Dt=ES(Dt)).charAt(0)){case'"':case"'":Mn=uz(Dt.substring(1),Ft);break;default:Mn=fz(Dt)}if(Mn===null||(Xt.push(Mn[0]),(Dt=ES(Mn[1]))!==""&&Dt.charAt(0)!==","))return gx;Dt=Dt.replace(/^,/,"")}return Xt})(Ze);if(this.fontFaces){var Kt=(function(tn,Ft){if(ke===null){var Mn=(function(Xt){var Dt=[];return Object.keys(Xt).forEach(function(Pt){Xt[Pt].forEach(function(xn){var $t=null;switch(xn){case"bold":$t={family:Pt,weight:"bold"};break;case"italic":$t={family:Pt,style:"italic"};break;case"bolditalic":$t={family:Pt,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:Pt}}$t!==null&&($t.ref={name:Pt,style:xn},Dt.push($t))})}),Dt})(tn.getFontList());ke=(function(Xt){for(var Dt={},Pt=0;Pt<Xt.length;++Pt){var xn=px(Xt[Pt]),$t=xn.family,mn=xn.stretch,Bt=xn.style,Fn=xn.weight;Dt[$t]=Dt[$t]||{},Dt[$t][mn]=Dt[$t][mn]||{},Dt[$t][mn][Bt]=Dt[$t][mn][Bt]||{},Dt[$t][mn][Bt][Fn]=xn}return Dt})(Mn.concat(Ft))}return ke})(this.pdf,this.fontFaces),Lt=St.map(function(tn){return{family:tn,stretch:"normal",weight:Xe,style:gt}}),qt=(function(tn,Ft,Mn){for(var Xt=(Mn=Mn||{}).defaultFontFamily||"times",Dt=Object.assign({},cz,Mn.genericFontFamilies||{}),Pt=null,xn=null,$t=0;$t<Ft.length;++$t)if(Dt[(Pt=px(Ft[$t])).family]&&(Pt.family=Dt[Pt.family]),tn.hasOwnProperty(Pt.family)){xn=tn[Pt.family];break}if(!(xn=xn||tn[Xt]))throw new Error("Could not find a font-family for the rule '"+AS(Pt)+"' and default family '"+Xt+"'.");if(xn=(function(mn,Bt){if(Bt[mn])return Bt[mn];var Fn=Nv[mn],Hn=Fn<=Nv.normal?-1:1,_n=_S(Bt,wA,Fn,Hn);if(!_n)throw new Error("Could not find a matching font-stretch value for "+mn);return _n})(Pt.stretch,xn),xn=(function(mn,Bt){if(Bt[mn])return Bt[mn];for(var Fn=bA[mn],Hn=0;Hn<Fn.length;++Hn)if(Bt[Fn[Hn]])return Bt[Fn[Hn]];throw new Error("Could not find a matching font-style for "+mn)})(Pt.style,xn),!(xn=(function(mn,Bt){if(Bt[mn])return Bt[mn];if(mn===400&&Bt[500])return Bt[500];if(mn===500&&Bt[400])return Bt[400];var Fn=lz[mn],Hn=_S(Bt,SA,Fn,mn<400?-1:1);if(!Hn)throw new Error("Could not find a matching font-weight for value "+mn);return Hn})(Pt.weight,xn)))throw new Error("Failed to resolve a font for the rule '"+AS(Pt)+"'.");return xn})(Kt,Lt);this.pdf.setFont(qt.ref.name,qt.ref.style)}else{var rn="";(Xe==="bold"||parseInt(Xe,10)>=700||gt==="bold")&&(rn="bold"),gt==="italic"&&(rn+="italic"),rn.length===0&&(rn="normal");for(var Wt="",cn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},zt=0;zt<St.length;zt++){if(this.pdf.internal.getFont(St[zt],rn,{noFallback:!0,disableWarning:!0})!==void 0){Wt=St[zt];break}if(rn==="bolditalic"&&this.pdf.internal.getFont(St[zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Wt=St[zt],rn="bold";else if(this.pdf.internal.getFont(St[zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Wt=St[zt],rn="normal";break}}if(Wt===""){for(var It=0;It<St.length;It++)if(cn[St[It]]){Wt=cn[St[It]];break}}Wt=Wt===""?"Times":Wt,this.pdf.setFont(Wt,rn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,M.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,M.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};v.prototype.setLineDash=function(N){this.lineDash=N},v.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},v.prototype.fill=function(){R.call(this,"fill",!1)},v.prototype.stroke=function(){R.call(this,"stroke",!1)},v.prototype.beginPath=function(){this.path=[{type:"begin"}]},v.prototype.moveTo=function(N,F){if(isNaN(N)||isNaN(F))throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var L=this.ctx.transform.applyToPoint(new l(N,F));this.path.push({type:"mt",x:L.x,y:L.y}),this.ctx.lastPoint=new l(N,F)},v.prototype.closePath=function(){var N=new l(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Dr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){N=new l(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(N.x,N.y)},v.prototype.lineTo=function(N,F){if(isNaN(N)||isNaN(F))throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var L=this.ctx.transform.applyToPoint(new l(N,F));this.path.push({type:"lt",x:L.x,y:L.y}),this.ctx.lastPoint=new l(L.x,L.y)},v.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},v.prototype.quadraticCurveTo=function(N,F,L,B){if(isNaN(L)||isNaN(B)||isNaN(N)||isNaN(F))throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new l(L,B)),de=this.ctx.transform.applyToPoint(new l(N,F));this.path.push({type:"qct",x1:de.x,y1:de.y,x:te.x,y:te.y}),this.ctx.lastPoint=new l(te.x,te.y)},v.prototype.bezierCurveTo=function(N,F,L,B,te,de){if(isNaN(te)||isNaN(de)||isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B))throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new l(te,de)),se=this.ctx.transform.applyToPoint(new l(N,F)),ve=this.ctx.transform.applyToPoint(new l(L,B));this.path.push({type:"bct",x1:se.x,y1:se.y,x2:ve.x,y2:ve.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new l(Ne.x,Ne.y)},v.prototype.arc=function(N,F,L,B,te,de){if(isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B)||isNaN(te))throw Gr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new l(N,F));N=Ne.x,F=Ne.y;var se=this.ctx.transform.applyToPoint(new l(0,L)),ve=this.ctx.transform.applyToPoint(new l(0,0));L=Math.sqrt(Math.pow(se.x-ve.x,2)+Math.pow(se.y-ve.y,2))}Math.abs(te-B)>=2*Math.PI&&(B=0,te=2*Math.PI),this.path.push({type:"arc",x:N,y:F,radius:L,startAngle:B,endAngle:te,counterclockwise:de})},v.prototype.arcTo=function(N,F,L,B,te){throw new Error("arcTo not implemented.")},v.prototype.rect=function(N,F,L,B){if(isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B))throw Gr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,F),this.lineTo(N+L,F),this.lineTo(N+L,F+B),this.lineTo(N,F+B),this.lineTo(N,F),this.lineTo(N+L,F),this.lineTo(N,F)},v.prototype.fillRect=function(N,F,L,B){if(isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B))throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,F,L,B),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},v.prototype.strokeRect=function(N,F,L,B){if(isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B))throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(N,F,L,B),this.stroke())},v.prototype.clearRect=function(N,F,L,B){if(isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B))throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,F,L,B))},v.prototype.save=function(N){N=typeof N!="boolean"||N;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},v.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,L=0;L<this.pdf.internal.getNumberOfPages();L++)this.pdf.setPage(L+1),this.pdf.internal.out("Q");this.pdf.setPage(F),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},v.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(N){var F,L,B,te;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))F=0,L=0,B=0,te=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(de!==null)F=parseInt(de[1]),L=parseInt(de[2]),B=parseInt(de[3]),te=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)F=parseInt(de[1]),L=parseInt(de[2]),B=parseInt(de[3]),te=parseFloat(de[4]);else{if(te=1,typeof N=="string"&&N.charAt(0)!=="#"){var Ne=new dA(N);N=Ne.ok?Ne.toHex():"#000000"}N.length===4?(F=N.substring(1,2),F+=F,L=N.substring(2,3),L+=L,B=N.substring(3,4),B+=B):(F=N.substring(1,3),L=N.substring(3,5),B=N.substring(5,7)),F=parseInt(F,16),L=parseInt(L,16),B=parseInt(B,16)}}return{r:F,g:L,b:B,a:te,style:N}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};v.prototype.fillText=function(N,F,L,B){if(isNaN(F)||isNaN(L)||typeof N!="string")throw Gr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!g.call(this)){var te=ce(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;G.call(this,{text:N,x:F,y:L,scale:de,angle:te,align:this.textAlign,maxWidth:B})}},v.prototype.strokeText=function(N,F,L,B){if(isNaN(F)||isNaN(L)||typeof N!="string")throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){B=isNaN(B)?void 0:B;var te=ce(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;G.call(this,{text:N,x:F,y:L,scale:de,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:B})}},v.prototype.measureText=function(N){if(typeof N!="string")throw Gr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,L=this.pdf.internal.scaleFactor,B=F.internal.getFontSize(),te=F.getStringUnitWidth(N)*B/F.internal.scaleFactor;return new function(de){var Ne=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:te*=Math.round(96*L/72*1e4)/1e4})},v.prototype.scale=function(N,F){if(isNaN(N)||isNaN(F))throw Gr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var L=new d(N,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(L)},v.prototype.rotate=function(N){if(isNaN(N))throw Gr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new d(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},v.prototype.translate=function(N,F){if(isNaN(N)||isNaN(F))throw Gr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var L=new d(1,0,0,1,N,F);this.ctx.transform=this.ctx.transform.multiply(L)},v.prototype.transform=function(N,F,L,B,te,de){if(isNaN(N)||isNaN(F)||isNaN(L)||isNaN(B)||isNaN(te)||isNaN(de))throw Gr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new d(N,F,L,B,te,de);this.ctx.transform=this.ctx.transform.multiply(Ne)},v.prototype.setTransform=function(N,F,L,B,te,de){N=isNaN(N)?1:N,F=isNaN(F)?0:F,L=isNaN(L)?0:L,B=isNaN(B)?1:B,te=isNaN(te)?0:te,de=isNaN(de)?0:de,this.ctx.transform=new d(N,F,L,B,te,de)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};v.prototype.drawImage=function(N,F,L,B,te,de,Ne,se,ve){var je=this.pdf.getImageProperties(N),ke=1,Ge=1,Te=1,xe=1;B!==void 0&&se!==void 0&&(Te=se/B,xe=ve/te,ke=je.width/B*se/B,Ge=je.height/te*ve/te),de===void 0&&(de=F,Ne=L,F=0,L=0),B!==void 0&&se===void 0&&(se=B,ve=te),B===void 0&&se===void 0&&(se=je.width,ve=je.height);for(var gt,Xe=this.ctx.transform.decompose(),wt=ce(Xe.rotate.shx),Ze=new d,Et=(Ze=(Ze=(Ze=Ze.multiply(Xe.translate)).multiply(Xe.skew)).multiply(Xe.scale)).applyToRectangle(new c(de-F*Te,Ne-L*xe,B*ke,te*Ge)),St=A.call(this,Et),Kt=[],Lt=0;Lt<St.length;Lt+=1)Kt.indexOf(St[Lt])===-1&&Kt.push(St[Lt]);if(j(Kt),this.autoPaging)for(var qt=Kt[0],rn=Kt[Kt.length-1],Wt=qt;Wt<rn+1;Wt++){this.pdf.setPage(Wt);var cn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zt=Wt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=Wt===1?0:It+(Wt-2)*tn;if(this.ctx.clip_path.length!==0){var Mn=this.path;gt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(gt,this.posX+this.margin[3],-Ft+zt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=Mn}var Xt=JSON.parse(JSON.stringify(Et));Xt=D([Xt],this.posX+this.margin[3],-Ft+zt+this.ctx.prevPageLastElemOffset)[0];var Dt=(Wt>qt||Wt<rn)&&b.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],cn,tn,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Xt.x,Xt.y,Xt.w,Xt.h,null,null,wt),Dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,wt)};var A=function(N,F,L){var B=[];F=F||this.pdf.internal.pageSize.width,L=L||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":B.push(Math.floor((N.y+te)/L)+1);break;case"arc":B.push(Math.floor((N.y+te-N.radius)/L)+1),B.push(Math.floor((N.y+te+N.radius)/L)+1);break;case"qct":var de=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);B.push(Math.floor((de.y+te)/L)+1),B.push(Math.floor((de.y+de.h+te)/L)+1);break;case"bct":var Ne=me(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);B.push(Math.floor((Ne.y+te)/L)+1),B.push(Math.floor((Ne.y+Ne.h+te)/L)+1);break;case"rect":B.push(Math.floor((N.y+te)/L)+1),B.push(Math.floor((N.y+N.h+te)/L)+1)}for(var se=0;se<B.length;se+=1)for(;this.pdf.internal.getNumberOfPages()<B[se];)E.call(this);return B},E=function(){var N=this.fillStyle,F=this.strokeStyle,L=this.font,B=this.lineCap,te=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=F,this.font=L,this.lineCap=B,this.lineWidth=te,this.lineJoin=de},D=function(N,F,L){for(var B=0;B<N.length;B++)switch(N[B].type){case"bct":N[B].x2+=F,N[B].y2+=L;case"qct":N[B].x1+=F,N[B].y1+=L;default:N[B].x+=F,N[B].y+=L}return N},j=function(N){return N.sort(function(F,L){return F-L})},R=function(N,F){for(var L,B,te=this.fillStyle,de=this.strokeStyle,Ne=this.lineCap,se=this.lineWidth,ve=Math.abs(se*this.ctx.transform.scaleX),je=this.lineJoin,ke=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),Te=[],xe=0;xe<Ge.length;xe++)if(Ge[xe].x!==void 0)for(var gt=A.call(this,Ge[xe]),Xe=0;Xe<gt.length;Xe+=1)Te.indexOf(gt[Xe])===-1&&Te.push(gt[Xe]);for(var wt=0;wt<Te.length;wt++)for(;this.pdf.internal.getNumberOfPages()<Te[wt];)E.call(this);if(j(Te),this.autoPaging)for(var Ze=Te[0],Et=Te[Te.length-1],St=Ze;St<Et+1;St++){this.pdf.setPage(St),this.fillStyle=te,this.strokeStyle=de,this.lineCap=Ne,this.lineWidth=ve,this.lineJoin=je;var Kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Lt=St===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=St===1?0:qt+(St-2)*rn;if(this.ctx.clip_path.length!==0){var cn=this.path;L=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(L,this.posX+this.margin[3],-Wt+Lt+this.ctx.prevPageLastElemOffset),q.call(this,N,!0),this.path=cn}if(B=JSON.parse(JSON.stringify(ke)),this.path=D(B,this.posX+this.margin[3],-Wt+Lt+this.ctx.prevPageLastElemOffset),F===!1||St===0){var zt=(St>Ze||St<Et)&&b.call(this);zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Kt,rn,null).clip().discardPath()),q.call(this,N,F),zt&&this.pdf.restoreGraphicsState()}this.lineWidth=se}else this.lineWidth=ve,q.call(this,N,F),this.lineWidth=se;this.path=ke},q=function(N,F){if((N!=="stroke"||F||!T.call(this))&&(N==="stroke"||F||!g.call(this))){for(var L,B,te=[],de=this.path,Ne=0;Ne<de.length;Ne++){var se=de[Ne];switch(se.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:se,deltas:[],abs:[]});break;case"lt":var ve=te.length;if(de[Ne-1]&&!isNaN(de[Ne-1].x)&&(L=[se.x-de[Ne-1].x,se.y-de[Ne-1].y],ve>0)){for(;ve>=0;ve--)if(te[ve-1].close!==!0&&te[ve-1].begin!==!0){te[ve-1].deltas.push(L),te[ve-1].abs.push(se);break}}break;case"bct":L=[se.x1-de[Ne-1].x,se.y1-de[Ne-1].y,se.x2-de[Ne-1].x,se.y2-de[Ne-1].y,se.x-de[Ne-1].x,se.y-de[Ne-1].y],te[te.length-1].deltas.push(L);break;case"qct":var je=de[Ne-1].x+2/3*(se.x1-de[Ne-1].x),ke=de[Ne-1].y+2/3*(se.y1-de[Ne-1].y),Ge=se.x+2/3*(se.x1-se.x),Te=se.y+2/3*(se.y1-se.y),xe=se.x,gt=se.y;L=[je-de[Ne-1].x,ke-de[Ne-1].y,Ge-de[Ne-1].x,Te-de[Ne-1].y,xe-de[Ne-1].x,gt-de[Ne-1].y],te[te.length-1].deltas.push(L);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(se)}}B=F?null:N==="stroke"?"stroke":"fill";for(var Xe=!1,wt=0;wt<te.length;wt++)if(te[wt].arc)for(var Ze=te[wt].abs,Et=0;Et<Ze.length;Et++){var St=Ze[Et];St.type==="arc"?Y.call(this,St.x,St.y,St.radius,St.startAngle,St.endAngle,St.counterclockwise,void 0,F,!Xe):K.call(this,St.x,St.y),Xe=!0}else if(te[wt].close===!0)this.pdf.internal.out("h"),Xe=!1;else if(te[wt].begin!==!0){var Kt=te[wt].start.x,Lt=te[wt].start.y;X.call(this,te[wt].deltas,Kt,Lt),Xe=!0}B&&P.call(this,B),F&&Q.call(this)}},Z=function(N){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,L=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-L;case"top":return N+F-L;case"hanging":return N+F-2*L;case"middle":return N+F/2-L;default:return N}},I=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};v.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(F,L){this.colorStops.push([F,L])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},v.prototype.createPattern=function(){return this.createLinearGradient()},v.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(N,F,L,B,te,de,Ne,se,ve){for(var je=V.call(this,L,B,te,de),ke=0;ke<je.length;ke++){var Ge=je[ke];ke===0&&(ve?O.call(this,Ge.x1+N,Ge.y1+F):K.call(this,Ge.x1+N,Ge.y1+F)),H.call(this,N,F,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}se?Q.call(this):P.call(this,Ne)},P=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Q=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(N,F){this.pdf.internal.out(n(N)+" "+r(F)+" m")},G=function(N){var F;switch(N.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var L=this.pdf.getTextDimensions(N.text),B=Z.call(this,N.y),te=I.call(this,B)-L.h,de=this.ctx.transform.applyToPoint(new l(N.x,B)),Ne=this.ctx.transform.decompose(),se=new d;se=(se=(se=se.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var ve,je,ke,Ge=this.ctx.transform.applyToRectangle(new c(N.x,B,L.w,L.h)),Te=se.applyToRectangle(new c(N.x,te,L.w,L.h)),xe=A.call(this,Te),gt=[],Xe=0;Xe<xe.length;Xe+=1)gt.indexOf(xe[Xe])===-1&&gt.push(xe[Xe]);if(j(gt),this.autoPaging)for(var wt=gt[0],Ze=gt[gt.length-1],Et=wt;Et<Ze+1;Et++){this.pdf.setPage(Et);var St=Et===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[2],qt=Lt-this.margin[0],rn=this.pdf.internal.pageSize.width-this.margin[1],Wt=rn-this.margin[3],cn=Et===1?0:Kt+(Et-2)*qt;if(this.ctx.clip_path.length!==0){var zt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(ve,this.posX+this.margin[3],-1*cn+St),q.call(this,"fill",!0),this.path=zt}var It=D([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-cn+St+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*N.scale),ke=this.lineWidth,this.lineWidth=ke*N.scale);var tn=this.autoPaging!=="text";if(tn||It.y+It.h<=Lt){if(tn||It.y>=St&&It.x<=rn){var Ft=tn?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||rn-It.x)[0],Mn=D([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-cn+St+this.ctx.prevPageLastElemOffset)[0],Xt=tn&&(Et>wt||Et<Ze)&&b.call(this);Xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,qt,null).clip().discardPath()),this.pdf.text(Ft,Mn.x,Mn.y,{angle:N.angle,align:F,renderingMode:N.renderingMode}),Xt&&this.pdf.restoreGraphicsState()}}else It.y<Lt&&(this.ctx.prevPageLastElemOffset+=Lt-It.y);N.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ke)}else N.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*N.scale),ke=this.lineWidth,this.lineWidth=ke*N.scale),this.pdf.text(N.text,de.x+this.posX,de.y+this.posY,{angle:N.angle,align:F,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=ke)},K=function(N,F,L,B){L=L||0,B=B||0,this.pdf.internal.out(n(N+L)+" "+r(F+B)+" l")},X=function(N,F,L){return this.pdf.lines(N,F,L,null,null)},H=function(N,F,L,B,te,de,Ne,se){this.pdf.internal.out([t(a(L+N)),t(s(B+F)),t(a(te+N)),t(s(de+F)),t(a(Ne+N)),t(s(se+F)),"c"].join(" "))},V=function(N,F,L,B){for(var te=2*Math.PI,de=Math.PI/2;F>L;)F-=te;var Ne=Math.abs(L-F);Ne<te&&B&&(Ne=te-Ne);for(var se=[],ve=B?-1:1,je=F;Ne>1e-5;){var ke=je+ve*Math.min(Ne,de);se.push(ae.call(this,N,je,ke)),Ne-=Math.abs(ke-je),je=ke}return se},ae=function(N,F,L){var B=(L-F)/2,te=N*Math.cos(B),de=N*Math.sin(B),Ne=te,se=-de,ve=Ne*Ne+se*se,je=ve+Ne*te+se*de,ke=4/3*(Math.sqrt(2*ve*je)-je)/(Ne*de-se*te),Ge=Ne-ke*se,Te=se+ke*Ne,xe=Ge,gt=-Te,Xe=B+F,wt=Math.cos(Xe),Ze=Math.sin(Xe);return{x1:N*Math.cos(F),y1:N*Math.sin(F),x2:Ge*wt-Te*Ze,y2:Ge*Ze+Te*wt,x3:xe*wt-gt*Ze,y3:xe*Ze+gt*wt,x4:N*Math.cos(L),y4:N*Math.sin(L)}},ce=function(N){return 180*N/Math.PI},le=function(N,F,L,B,te,de){var Ne=N+.5*(L-N),se=F+.5*(B-F),ve=te+.5*(L-te),je=de+.5*(B-de),ke=Math.min(N,te,Ne,ve),Ge=Math.max(N,te,Ne,ve),Te=Math.min(F,de,se,je),xe=Math.max(F,de,se,je);return new c(ke,Te,Ge-ke,xe-Te)},me=function(N,F,L,B,te,de,Ne,se){var ve,je,ke,Ge,Te,xe,gt,Xe,wt,Ze,Et,St,Kt,Lt,qt=L-N,rn=B-F,Wt=te-L,cn=de-B,zt=Ne-te,It=se-de;for(je=0;je<41;je++)wt=(gt=(ke=N+(ve=je/40)*qt)+ve*((Te=L+ve*Wt)-ke))+ve*(Te+ve*(te+ve*zt-Te)-gt),Ze=(Xe=(Ge=F+ve*rn)+ve*((xe=B+ve*cn)-Ge))+ve*(xe+ve*(de+ve*It-xe)-Xe),je==0?(Et=wt,St=Ze,Kt=wt,Lt=Ze):(Et=Math.min(Et,wt),St=Math.min(St,Ze),Kt=Math.max(Kt,wt),Lt=Math.max(Lt,Ze));return new c(Math.round(Et),Math.round(St),Math.round(Kt-Et),Math.round(Lt-St))},M=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,F,L=(N=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:F}));this.prevLineDash!==L&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=L)}}})(on.API),(function(e){var t=function(l){var c,d,h,m,v,y,g,T,b,A;for(d=[],h=0,m=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;m>h;h+=4)(v=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(y=(v=((v=((v=((v=(v-(A=v%85))/85)-(b=v%85))/85)-(T=v%85))/85)-(g=v%85))/85)%85,d.push(y+33,g+33,T+33,b+33,A+33)):d.push(122);return(function(E,D){for(var j=D;j>0;j--)E.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},n=function(l){var c,d,h,m,v,y=String,g="length",T=255,b="charCodeAt",A="slice",E="replace";for(l[A](-2),l=l[A](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),h=[],m=0,v=(l+=c="uuuuu"[A](l[g]%5||5))[g];v>m;m+=5)d=52200625*(l[b](m)-33)+614125*(l[b](m+1)-33)+7225*(l[b](m+2)-33)+85*(l[b](m+3)-33)+(l[b](m+4)-33),h.push(T&d>>24,T&d>>16,T&d>>8,T&d);return(function(D,j){for(var R=j;R>0;R--)D.pop()})(h,c[g]),y.fromCharCode.apply(y,h)},r=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",h=0;h<l.length;h+=2)d+=String.fromCharCode("0x"+(l[h]+l[h+1]));return d},s=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=gv(c)).reduce(function(h,m){return h+String.fromCharCode(m)},"")};e.processDataByFilters=function(l,c){var d=0,h=l||"",m=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=a(h),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:m.reverse().join(" ")}}})(on.API),(function(e){e.loadFile=function(t,n,r){return(function(a,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,h,m){var v=new XMLHttpRequest,y=0,g=function(T){var b=T.length,A=[],E=String.fromCharCode;for(y=0;y<b;y+=1)A.push(E(255&T.charCodeAt(y)));return A.join("")};if(v.open("GET",d,!h),v.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(v.onload=function(){v.status===200?m(g(this.responseText)):m(void 0)}),v.send(null),h&&v.status===200)return g(v.responseText)})(a,s,l)}catch{}return c})(t,n,r)},e.loadImageFile=e.loadFile})(on.API),(function(e){function t(){return(En.html2canvas?Promise.resolve(En.html2canvas):P0(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(En.DOMPurify?Promise.resolve(En.DOMPurify):P0(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var d=Dr(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(c,d){var h=document.createElement(c);for(var m in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[m]=d.style[m];return h},s=function c(d,h){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),v=d.firstChild;v;v=v.nextSibling)h!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||m.appendChild(c(v,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m},l=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),m=c.convert(Promise.resolve(),h);return(m=m.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(n).then(function(h){return this.set({src:a("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var h=this.opt.jsPDF,m=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=m,m)for(var g=0;g<m.length;++g){var T=m[g],b=T.src.find(function(A){return A.format==="truetype"});b&&h.addFont(b.url,T.ref.name,T.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),d(this.prop.container,y)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(r(c)!=="object")return this;var d=Object.keys(c||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var h=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},l.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(h,m){return Math.floor(h*m/72*96)}return this.then(function(){(c=c||on.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,h,m){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,h,m){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,m?this.progress.stack.concat(m):null)},l.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(m,v){return h.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,m),y}).then(m,v).then(function(y){return h.updateProgress(1),y})})},l.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then;var m=this;c&&(c=c.bind(m)),d&&(d=d.bind(m));var v=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:l.convert(Object.assign({},m),Promise.prototype),y=h.call(v,c,d);return l.convert(y,m.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,on.getPageSize=function(c,d,h){if(Dr(c)==="object"){var m=c;c=m.orientation,d=m.unit||d,h=m.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var v,y=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+d}var T,b=0,A=0;if(g.hasOwnProperty(y))b=g[y][1]/v,A=g[y][0]/v;else try{b=h[1],A=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",A>b&&(T=A,A=b,b=T);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",b>A&&(T=A,A=b,b=T)}return{width:A,height:b,unit:d,k:v,orientation:c}},e.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(px):null;var h=new l(d);return d.worker?h:h.from(c).doCallback()}})(on.API),on.API.addJS=function(e){return jS=e,this.internal.events.subscribe("postPutResources",function(){Sm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Sm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),CS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+jS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Sm!==void 0&&CS!==void 0&&this.internal.out("/Names <</JavaScript "+Sm+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),s=0;s<a.length;s++){var l=a[s],c=r.exec(l);if(c!=null){var d=c[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,m=[];for(s=0;s<h;s++){var v=n.internal.newObject();m.push(v);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<m.length;s++)n.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,s){var l={title:a,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=n.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var s=0;s<a.children.length;s++)r.count++,this.count_r(r,a.children[s]);return r.count}}])})(on.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,a,s,l,c){var d,h=this.decode.DCT_DECODE,m=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=l||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(v){for(var y,g=256*v.charCodeAt(4)+v.charCodeAt(5),T=v.length,b={width:0,height:0,numcomponents:1},A=4;A<T;A+=2){if(A+=g,t.indexOf(v.charCodeAt(A+1))!==-1){y=256*v.charCodeAt(A+5)+v.charCodeAt(A+6),b={width:256*v.charCodeAt(A+7)+v.charCodeAt(A+8),height:y,numcomponents:v.charCodeAt(A+9)};break}g=256*v.charCodeAt(A+2)+v.charCodeAt(A+3)}return b})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}m={data:n,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:h,index:r,alias:a}}return m}})(on.API),on.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=YM(e,{checkCrc:!0}),l=s.width,c=s.height,d=s.channels,h=s.palette,m=s.depth;a=h&&d===1?(function(Y){for(var P=Y.width,Q=Y.height,O=Y.data,G=Y.palette,K=Y.depth,X=!1,H=[],V=[],ae=void 0,ce=!1,le=0,me=0;me<G.length;me++){var M=F3(G[me],4),N=M[0],F=M[1],L=M[2],B=M[3];H.push(N,F,L),B!=null&&(B===0?(le++,V.length<1&&V.push(me)):B<255&&(ce=!0))}if(ce||le>1){X=!0,V=void 0;var te=P*Q;ae=new Uint8Array(te);for(var de=new DataView(O.buffer),Ne=0;Ne<te;Ne++){var se=xx(de,Ne,K),ve=F3(G[se],4)[3];ae[Ne]=ve}}else le===0&&(V=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:X?8:void 0,colorBytes:O,alphaBytes:ae,needSMask:X,palette:H,mask:V}})(s):d===2||d===4?(function(Y){for(var P=Y.data,Q=Y.width,O=Y.height,G=Y.channels,K=Y.depth,X=G===2?"DeviceGray":"DeviceRGB",H=G-1,V=Q*O,ae=H,ce=V*ae,le=1*V,me=Math.ceil(ce*K/8),M=Math.ceil(le*K/8),N=new Uint8Array(me),F=new Uint8Array(M),L=new DataView(P.buffer),B=new DataView(N.buffer),te=new DataView(F.buffer),de=!1,Ne=0;Ne<V;Ne++){for(var se=Ne*G,ve=0;ve<ae;ve++)IS(B,xx(L,se+ve,K),Ne*ae+ve,K);var je=xx(L,se+ae,K);je<(1<<K)-1&&(de=!0),IS(te,je,1*Ne,K)}return{colorSpace:X,colorsPerPixel:H,sMaskBitsPerComponent:de?K:void 0,colorBytes:N,alphaBytes:F,needSMask:de}})(s):(function(Y){var P=Y.data,Q=Y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Q,colorsPerPixel:Q==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?(function(O){for(var G=O.length,K=new Uint8Array(2*G),X=new DataView(K.buffer,K.byteOffset,K.byteLength),H=0;H<G;H++)X.setUint16(2*H,O[H],!1);return K})(P):P,needSMask:!1}})(s);var v,y,g,T=a,b=T.colorSpace,A=T.colorsPerPixel,E=T.sMaskBitsPerComponent,D=T.colorBytes,j=T.alphaBytes,R=T.needSMask,q=T.palette,Z=T.mask,I=null;return r!==on.API.image_compression.NONE&&typeof gv=="function"?(I=(function(Y){var P;switch(Y){case on.API.image_compression.FAST:P=11;break;case on.API.image_compression.MEDIUM:P=13;break;case on.API.image_compression.SLOW:P=14;break;default:P=12}return P})(r),v=this.decode.FLATE_DECODE,y="/Predictor ".concat(I," /Colors ").concat(A," /BitsPerComponent ").concat(m," /Columns ").concat(l),e=FS(D,Math.ceil(l*A*m/8),A,m,r),R&&(g=FS(j,Math.ceil(l*E/8),1,E,r))):(v=void 0,y=void 0,e=D,R&&(g=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:e,index:t,filter:v,decodeParameters:y,transparency:Z,palette:q,sMask:g,predictor:I,width:l,height:c,bitsPerComponent:m,sMaskBitsPerComponent:E,colorSpace:b}}},(function(e){e.processGIF89A=function(t,n,r,a){var s=new pz(t),l=s.width,c=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:l,height:c},m=new vx(100).encode(h,100);return e.processJPEG.call(this,m,n,r,a)},e.processGIF87A=e.processGIF89A})(on.API),Ho.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ho.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Gr.log("bit decode error:"+n)}},Ho.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[s>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}n!==0&&(this.pos+=4-n)}},Ho.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*a*4,c=s>>4,d=15&s,h=this.palette[c];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*a+1>=this.width)break;h=this.palette[d],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Ho.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(a<this.palette.length){var l=this.palette[a];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ho.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,d=(s>>10&t)/t*255|0,h=s>>15?255:0,m=r*this.width*4+4*a;this.data[m]=d,this.data[m+1]=c,this.data[m+2]=l,this.data[m+3]=h}this.pos+=e}},Ho.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,d=(l>>5&n)/n*255|0,h=(l>>11)/t*255|0,m=a*this.width*4+4*s;this.data[m]=h,this.data[m+1]=d,this.data[m+2]=c,this.data[m+3]=255}this.pos+=e}},Ho.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Ho.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*n;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=r,this.data[c+3]=l}},Ho.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,n,r,a){var s=new Ho(t,!1),l=s.width,c=s.height,d={data:s.getData(),width:l,height:c},h=new vx(100).encode(d,100);return e.processJPEG.call(this,h,n,r,a)}})(on.API),BS.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,n,r,a){var s=new BS(t),l=s.width,c=s.height,d={data:s.getData(),width:l,height:c},h=new vx(100).encode(d,100);return e.processJPEG.call(this,h,n,r,a)}})(on.API),on.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,s=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,d=0,h=0;h<a;h+=4){var m=r[h],v=r[h+1],y=r[h+2],g=r[h+3];s[c++]=m,s[c++]=v,s[c++]=y,l[d++]=g}var T=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:T,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},on.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},y0=on.API,Nm=y0.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,h=t.kerning?t.kerning:a.metadata.Unicode.kerning,m=h.fof?h.fof:1,v=t.doKerning!==!1,y=0,g=e.length,T=0,b=c[0]||d,A=[];for(n=0;n<g;n++)r=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?A.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(y=v&&Dr(h[r])==="object"&&!isNaN(parseInt(h[r][T],10))?h[r][T]/m:0,A.push((c[r]||b)/d+y)),T=r;return A},DS=y0.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return y0.processArabic&&(e=y0.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,a)/n:Nm.apply(this,arguments).reduce(function(s,l){return s+l},0)},kS=function(e,t,n,r){for(var a=[],s=0,l=e.length,c=0;s!==l&&c+t[s]<n;)c+=t[s],s++;a.push(e.slice(0,s));var d=s;for(c=0;s!==l;)c+t[s]>r&&(a.push(e.slice(d,s)),c=0,d=s),c+=t[s],s++;return d!==s&&a.push(e.slice(d,s)),a},LS=function(e,t,n){n||(n={});var r,a,s,l,c,d,h,m=[],v=[m],y=n.textIndent||0,g=0,T=0,b=e.split(" "),A=Nm.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var E=Array(d).join(" "),D=[];b.map(function(R){(R=R.split(/\s*\n/)).length>1?D=D.concat(R.map(function(q,Z){return(Z&&q.length?`
`:"")+q})):D.push(R[0])}),b=D,d=DS.apply(this,[E,n])}for(s=0,l=b.length;s<l;s++){var j=0;if(r=b[s],d&&r[0]==`
`&&(r=r.substr(1),j=1),y+g+(T=(a=Nm.apply(this,[r,n])).reduce(function(R,q){return R+q},0))>t||j){if(T>t){for(c=kS.apply(this,[r,a,t-(y+g),t]),m.push(c.shift()),m=[c.pop()];c.length;)v.push([c.shift()]);T=a.slice(r.length-(m[0]?m[0].length:0)).reduce(function(R,q){return R+q},0)}else m=[r];v.push(m),y=T+d,g=A}else m.push(r),y+=g+T,g=A}return h=d?function(R,q){return(q?E:"")+R.join(" ")}:function(R){return R.join(" ")},v.map(h)},y0.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var v=this.internal.getFont(m.fontName,m.fontStyle),y="Unicode";return v.metadata[y]?{widths:v.metadata[y].widths||{0:1},kerning:v.metadata[y].kerning||{}}:{font:v.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var c,d,h=[];for(c=0,d=r.length;c<d;c++)h=h.concat(LS.apply(this,[r[c],l,s]));return h},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},a={},s=0;s<16;s++)r[n[s]]=t[s],a[t[s]]=n[s];var l=function(y){return"0x"+parseInt(y,10).toString(16)},c=e.__fontmetrics__.compress=function(y){var g,T,b,A,E=["{"];for(var D in y){if(g=y[D],isNaN(parseInt(D,10))?T="'"+D+"'":(D=parseInt(D,10),T=(T=l(D).slice(2)).slice(0,-1)+a[T.slice(-1)]),typeof g=="number")g<0?(b=l(g).slice(3),A="-"):(b=l(g).slice(2),A=""),b=A+b.slice(0,-1)+a[b.slice(-1)];else{if(Dr(g)!=="object")throw new Error("Don't know what to do with value type "+Dr(g)+".");b=c(g)}E.push(T+b)}return E.push("}"),E.join("")},d=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,T,b,A,E={},D=1,j=E,R=[],q="",Z="",I=y.length-1,Y=1;Y<I;Y+=1)(A=y[Y])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(A):A=="{"?(R.push([j,b]),j={},b=void 0):A=="}"?((T=R.pop())[0][T[1]]=j,b=void 0,j=T[0]):A=="-"?D=-1:b===void 0?r.hasOwnProperty(A)?(q+=r[A],b=parseInt(q,16)*D,D=1,q=""):q+=A:r.hasOwnProperty(A)?(Z+=r[A],j[b]=parseInt(Z,16)*D,D=1,b=void 0,Z=""):Z+=A;return E},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var g=y.font,T=v.Unicode[g.postScriptName];T&&(g.metadata.Unicode={},g.metadata.Unicode.widths=T.widths,g.metadata.Unicode.kerning=T.kerning);var b=m.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])})(on.API),(function(e){var t=function(n){for(var r=n.length,a=new Uint8Array(r),s=0;s<r;s++)a[s]=n.charCodeAt(s);return a};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(Im(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,r)}}])})(on),on.API.addSvgAsImage=function(e,t,n,r,a,s,l,c){if(isNaN(t)||isNaN(n))throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(a))throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return(En.canvg?Promise.resolve(En.canvg):P0(()=>import("./index.es-B2gIJ7GA.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(h,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){v.addImage(d.toDataURL("image/jpeg",1),t,n,r,a,l,c)})},on.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},on.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],h=0,m=0,v=0;function y(T,b){var A,E=!1;for(A=0;A<T.length;A+=1)T[A]===b&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=c.length;for(v=0;v<g;v+=1)n[c[v]].value=n[c[v]].defaultValue,n[c[v]].explicitSet=!1}if(Dr(e)==="object"){for(a in e)if(s=e[a],y(c,a)&&s!==void 0){if(n[a].type==="boolean"&&typeof s=="boolean")n[a].value=s;else if(n[a].type==="name"&&y(n[a].valueSet,s))n[a].value=s;else if(n[a].type==="integer"&&Number.isInteger(s))n[a].value=s;else if(n[a].type==="array"){for(h=0;h<s.length;h+=1)if(r=!0,s[h].length===1&&typeof s[h][0]=="number")d.push(String(s[h]-1));else if(s[h].length>1){for(m=0;m<s[h].length;m+=1)typeof s[h][m]!="number"&&(r=!1);r===!0&&d.push([s[h][0]-1,s[h][1]-1].join(" "))}n[a].value="["+d.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,b=[];for(T in n)n[T].explicitSet===!0&&(n[T].type==="name"?b.push("/"+T+" /"+n[T].value):b.push("/"+T+" "+n[T].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+l.length+c.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(a+s+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}})(on.API),(function(e){var t=e.API,n=t.pdfEscape16=function(s,l){for(var c,d=l.metadata.Unicode.widths,h=["","0","00","000","0000"],m=[""],v=0,y=s.length;v<y;++v){if(c=l.metadata.characterToGlyph(s.charCodeAt(v)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=s.charCodeAt(v),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return m.join("");c=c.toString(16),m.push(h[4-c.length],c)}return m.join("")},r=function(s){var l,c,d,h,m,v,y;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],v=0,y=(c=Object.keys(s).sort(function(g,T){return g-T})).length;v<y;v++)l=c[v],d.length>=100&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(h=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+h+">"));return d.length&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(l){var c=l.font,d=l.out,h=l.newObject,m=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var v=c.metadata.Unicode.widths,y=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",T=0;T<y.length;T++)g+=String.fromCharCode(y[T]);var b=h();m({data:g,addLength1:!0,objectId:b}),d("endobj");var A=h();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:A}),d("endobj");var E=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+A0(c.fontName)),d("/FontFile2 "+b+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var D=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+A0(c.fontName)),d("/FontDescriptor "+E+" 0 R"),d("/W "+e.API.PDFObject.convert(v)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+A+" 0 R"),d("/BaseFont /"+A0(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+D+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(l){var c=l.font,d=l.out,h=l.newObject,m=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var v=c.metadata.rawData,y="",g=0;g<v.length;g++)y+=String.fromCharCode(v[g]);var T=h();m({data:y,addLength1:!0,objectId:T}),d("endobj");var b=h();m({data:r(c.metadata.toUnicode),addLength1:!0,objectId:b}),d("endobj");var A=h();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+T+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+A0(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=h();for(var E=0;E<c.metadata.hmtx.widths.length;E++)c.metadata.hmtx.widths[E]=parseInt(c.metadata.hmtx.widths[E]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+A0(c.fontName)+"/FontDescriptor "+A+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(s)}]);var a=function(s){var l,c=s.text||"",d=s.x,h=s.y,m=s.options||{},v=s.mutex||{},y=v.pdfEscape,g=v.activeFontKey,T=v.fonts,b=g,A="",E=0,D="",j=T[b].encoding;if(T[b].encoding!=="Identity-H")return{text:c,x:d,y:h,options:m,mutex:v};for(D=c,b=g,Array.isArray(c)&&(D=c[0]),E=0;E<D.length;E+=1)T[b].metadata.hasOwnProperty("cmap")&&(l=T[b].metadata.cmap.unicode.codeMap[D[E].charCodeAt(0)]),l||D[E].charCodeAt(0)<256&&T[b].metadata.hasOwnProperty("Unicode")?A+=D[E]:A+="";var R="";return parseInt(b.slice(1))<14||j==="WinAnsiEncoding"?R=y(A,b).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(R=n(A,T[b])),v.isHex=!0,{text:R,x:d,y:h,options:m,mutex:v}};t.events.push(["postProcessText",function(s){var l=s.text||"",c=[],d={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?c.push([a(Object.assign({},d,{text:l[h][0]})).text,l[h][1],l[h][2]]):c.push(a(Object.assign({},d,{text:l[h]})).text);s.text=c}else s.text=a(Object.assign({},d,{text:l})).text}])})(on),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(on.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var a,s,l,c,d,h,m,v=t,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},A=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,j=0;this.__bidiEngine__={};var R=function(O){var G=O.charCodeAt(),K=G>>8,X=b[K];return X!==void 0?v[256*X+(255&G)]:K===252||K===253?"AL":E.test(K)?"L":K===8?"R":"N"},q=function(O){for(var G,K=0;K<O.length;K++){if((G=R(O.charAt(K)))==="L")return!1;if(G==="R")return!0}return!1},Z=function(O,G,K,X){var H,V,ae,ce,le=G[X];switch(le){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(le="AN");break;case"AL":D=!0,le="R";break;case"WS":case"BN":le="N";break;case"CS":X<1||X+1>=G.length||(H=K[X-1])!=="EN"&&H!=="AN"||(V=G[X+1])!=="EN"&&V!=="AN"?le="N":D&&(V="AN"),le=V===H?V:"N";break;case"ES":le=(H=X>0?K[X-1]:"B")==="EN"&&X+1<G.length&&G[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&K[X-1]==="EN"){le="EN";break}if(D){le="N";break}for(ae=X+1,ce=G.length;ae<ce&&G[ae]==="ET";)ae++;le=ae<ce&&G[ae]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(ce=G.length,ae=X+1;ae<ce&&G[ae]==="NSM";)ae++;if(ae<ce){var me=O[X],M=me>=1425&&me<=2303||me===64286;if(H=G[ae],M&&(H==="R"||H==="AL")){le="R";break}}}le=X<1||(H=G[X-1])==="B"?"N":K[X-1];break;case"B":D=!1,a=!0,le=j;break;case"S":s=!0,le="N"}return le},I=function(O,G,K){var X=O.split("");return K&&Y(X,K,{hiLevel:j}),X.reverse(),G&&G.reverse(),X.join("")},Y=function(O,G,K){var X,H,V,ae,ce,le=-1,me=O.length,M=0,N=[],F=j?g:y,L=[];for(D=!1,a=!1,s=!1,H=0;H<me;H++)L[H]=R(O[H]);for(V=0;V<me;V++){if(ce=M,N[V]=Z(O,L,N,V),X=240&(M=F[ce][T[N[V]]]),M&=15,G[V]=ae=F[M][5],X>0)if(X===16){for(H=le;H<V;H++)G[H]=1;le=-1}else le=-1;if(F[M][6])le===-1&&(le=V);else if(le>-1){for(H=le;H<V;H++)G[H]=ae;le=-1}L[V]==="B"&&(G[V]=0),K.hiLevel|=ae}s&&(function(B,te,de){for(var Ne=0;Ne<de;Ne++)if(B[Ne]==="S"){te[Ne]=j;for(var se=Ne-1;se>=0&&B[se]==="WS";se--)te[se]=j}})(L,G,me)},P=function(O,G,K,X,H){if(!(H.hiLevel<O)){if(O===1&&j===1&&!a)return G.reverse(),void(K&&K.reverse());for(var V,ae,ce,le,me=G.length,M=0;M<me;){if(X[M]>=O){for(ce=M+1;ce<me&&X[ce]>=O;)ce++;for(le=M,ae=ce-1;le<ae;le++,ae--)V=G[le],G[le]=G[ae],G[ae]=V,K&&(V=K[le],K[le]=K[ae],K[ae]=V);M=ce}M++}}},Q=function(O,G,K){var X=O.split(""),H={hiLevel:j};return K||(K=[]),Y(X,K,H),(function(V,ae,ce){if(ce.hiLevel!==0&&m)for(var le,me=0;me<V.length;me++)ae[me]===1&&(le=A.indexOf(V[me]))>=0&&(V[me]=A[le+1])})(X,K,H),P(2,X,G,K,H),P(1,X,G,K,H),X.join("")};return this.__bidiEngine__.doBidiReorder=function(O,G,K){if((function(H,V){if(V)for(var ae=0;ae<H.length;ae++)V[ae]=ae;c===void 0&&(c=q(H)),h===void 0&&(h=q(H))})(O,G),l||!d||h)if(l&&d&&c^h)j=c?1:0,O=I(O,G,K);else if(!l&&d&&h)j=c?1:0,O=Q(O,G,K),O=I(O,G);else if(!l||c||d||h){if(l&&!d&&c^h)O=I(O,G),c?(j=0,O=Q(O,G,K)):(j=1,O=Q(O,G,K),O=I(O,G));else if(l&&c&&!d&&h)j=1,O=Q(O,G,K),O=I(O,G);else if(!l&&!d&&c^h){var X=m;c?(j=1,O=Q(O,G,K),j=0,m=!1,O=Q(O,G,K),m=X):(j=0,O=Q(O,G,K),O=I(O,G),j=1,m=!1,O=Q(O,G,K),m=X,O=I(O,G))}}else j=0,O=Q(O,G,K);else j=c?1:0,O=Q(O,G,K);return O},this.__bidiEngine__.setOptions=function(O){O&&(l=O.isInputVisual,d=O.isOutputVisual,c=O.isInputRtl,h=O.isOutputRtl,m=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([n.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([n.doBidiReorder(a[c])]);r.text=l}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])})(on),on.API.TTFFont=(function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Tu(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Dz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gz(this.contents),this.head=new vz(this),this.name=new Nz(this),this.cmap=new _A(this),this.toUnicode={},this.hhea=new yz(this),this.maxp=new _z(this),this.hmtx=new Tz(this),this.post=new wz(this),this.os2=new bz(this),this.loca=new jz(this),this.glyf=new Az(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,h;for(h=[],l=0,c=(d=this.bbox).length;l<c;l++)t=d[l],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var a,s,l,c;for(l=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)a=t.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return l*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e})();var al,Tu=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,a;for(a=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,a,s,l,c,d;return t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^s)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*a+16777216*s+65536*l+256*c+d},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,a,s;for(s=[],r=0,a=t.length;r<a;r++)n=t[r],s.push(this.writeByte(n));return s},e})(),gz=(function(){var e;function t(n){var r,a,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,a,s,l,c,d,h,m,v,y,g,T,b;for(b in g=Object.keys(n).length,d=Math.log(2),v=16*Math.floor(Math.log(g)/d),l=Math.floor(v/d),m=16*g-v,(a=new Tu).writeInt(this.scalarType),a.writeShort(g),a.writeShort(v),a.writeShort(l),a.writeShort(m),s=16*g,h=a.pos+s,c=null,T=[],n)for(y=n[b],a.writeString(b),a.writeInt(e(y)),a.writeInt(h),a.writeInt(y.length),T=T.concat(y),b==="head"&&(c=h),h+=y.length;h%4;)T.push(0),h++;return a.write(T),r=2981146554-e(a.data),a.pos=c+8,a.writeUInt32(r),a.data},e=function(n){var r,a,s,l;for(n=TA.call(n);n.length%4;)n.push(0);for(s=new Tu(n),a=0,r=0,l=n.length;r<l;r=r+=4)a+=s.readUInt32();return 4294967295&a},t})(),xz={}.hasOwnProperty,Il=function(e,t){for(var n in t)xz.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};al=(function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var vz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Tu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e})(),US=(function(){function e(t,n){var r,a,s,l,c,d,h,m,v,y,g,T,b,A,E,D,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),v=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),y=g/2,t.pos+=6,s=(function(){var R,q;for(q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)q.push(t.readUInt16());return q})(),t.pos+=2,b=(function(){var R,q;for(q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)q.push(t.readUInt16());return q})(),h=(function(){var R,q;for(q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)q.push(t.readUInt16());return q})(),m=(function(){var R,q;for(q=[],d=R=0;0<=y?R<y:R>y;d=0<=y?++R:--R)q.push(t.readUInt16());return q})(),a=(this.length-t.pos+this.offset)/2,c=(function(){var R,q;for(q=[],d=R=0;0<=a?R<a:R>a;d=0<=a?++R:--R)q.push(t.readUInt16());return q})(),d=E=0,j=s.length;E<j;d=++E)for(A=s[d],r=D=T=b[d];T<=A?D<=A:D>=A;r=T<=A?++D:--D)m[d]===0?l=r+h[d]:(l=c[m[d]/2+(r-T)-(y-d)]||0)!==0&&(l+=h[d]),this.codeMap[r]=65535&l}t.pos=v}return e.encode=function(t,n){var r,a,s,l,c,d,h,m,v,y,g,T,b,A,E,D,j,R,q,Z,I,Y,P,Q,O,G,K,X,H,V,ae,ce,le,me,M,N,F,L,B,te,de,Ne,se,ve,je,ke;switch(X=new Tu,l=Object.keys(t).sort(function(Ge,Te){return Ge-Te}),n){case"macroman":for(b=0,A=(function(){var Ge=[];for(T=0;T<256;++T)Ge.push(0);return Ge})(),D={0:0},s={},H=0,le=l.length;H<le;H++)D[se=t[a=l[H]]]==null&&(D[se]=++b),s[a]={old:t[a],new:D[t[a]]},A[a]=D[t[a]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(A),{charMap:s,subtable:X.data,maxGlyphID:b+1};case"unicode":for(G=[],v=[],j=0,D={},r={},E=h=null,V=0,me=l.length;V<me;V++)D[q=t[a=l[V]]]==null&&(D[q]=++j),r[a]={old:q,new:D[q]},c=D[q]-a,E!=null&&c===h||(E&&v.push(E),G.push(a),h=c),E=a;for(E&&v.push(E),v.push(65535),G.push(65535),Q=2*(P=G.length),Y=2*Math.pow(Math.log(P)/Math.LN2,2),y=Math.log(Y/2)/Math.LN2,I=2*P-Y,d=[],Z=[],g=[],T=ae=0,M=G.length;ae<M;T=++ae){if(O=G[T],m=v[T],O===65535){d.push(0),Z.push(0);break}if(O-(K=r[O].new)>=32768)for(d.push(0),Z.push(2*(g.length+P-T)),a=ce=O;O<=m?ce<=m:ce>=m;a=O<=m?++ce:--ce)g.push(r[a].new);else d.push(K-O),Z.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*P+2*g.length),X.writeUInt16(0),X.writeUInt16(Q),X.writeUInt16(Y),X.writeUInt16(y),X.writeUInt16(I),de=0,N=v.length;de<N;de++)a=v[de],X.writeUInt16(a);for(X.writeUInt16(0),Ne=0,F=G.length;Ne<F;Ne++)a=G[Ne],X.writeUInt16(a);for(ve=0,L=d.length;ve<L;ve++)c=d[ve],X.writeUInt16(c);for(je=0,B=Z.length;je<B;je++)R=Z[je],X.writeUInt16(R);for(ke=0,te=g.length;ke<te;ke++)b=g[ke],X.writeUInt16(b);return{charMap:r,subtable:X.data,maxGlyphID:j+1}}},e})(),_A=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)n=new US(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,a;return n==null&&(n="macroman"),r=US.encode(t,n),(a=new Tu).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},e})(),yz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),bz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),wz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)n=t.readByte(),a.push(this.names.push(t.readString(n)));return a;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var l,c,d;for(d=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e})(),Sz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Nz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,a,s,l,c,d,h,m,v,y;for(t.pos=this.offset,t.readShort(),n=t.readShort(),c=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},s=m=0,v=r.length;m<v;s=++m)a=r[s],t.pos=a.offset,h=t.readString(a.length),l=new Sz(h,a),d[y=a.nameID]==null&&(d[y]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),_z=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Tz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,a,s,l,c,d;for(t.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,m;for(m=[],n=h=0;0<=a?h<a:h>a;n=0<=a?++h:--h)m.push(t.readInt16());return m})(),this.widths=(function(){var h,m,v,y;for(y=[],h=0,m=(v=this.metrics).length;h<m;h++)s=v[h],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],d=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)d.push(this.widths.push(r));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),TA=[].slice,Az=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,a,s,l,c,d,h,m,v;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(a=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,l=(c=new Tu(n.read(a))).readShort(),h=c.readShort(),v=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[t]=l===-1?new Cz(c,h,v,d,m):new Ez(c,l,h,v,d,m),this.cache[t]))},e.prototype.encode=function(t,n,r){var a,s,l,c,d;for(l=[],s=[],c=0,d=n.length;c<d;c++)a=t[n[c]],s.push(l.length),a&&(l=l.concat(a.encode(r)));return s.push(l.length),{table:l,offsets:s}},e})(),Ez=(function(){function e(t,n,r,a,s,l){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Cz=(function(){function e(t,n,r,a,s){var l,c;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Tu(TA.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e})(),jz=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Il(e,al),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,s;for(s=[],r=0,a=this.length;r<a;r+=2)s.push(2*t.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],r=0,a=this.length;r<a;r+=4)s.push(t.readUInt32());return s}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<r.length;++l)if(r[l]=a,s<n.length&&n[s]==l){++s,r[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*r.length),m=0;m<r.length;++m)h[4*m+3]=255&r[m],h[4*m+2]=(65280&r[m])>>8,h[4*m+1]=(16711680&r[m])>>16,h[4*m]=(4278190080&r[m])>>24;return h},e})(),Dz=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,a,s;for(n in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=a[r];return t},e.prototype.glyphsFor=function(t){var n,r,a,s,l,c,d;for(a={},l=0,c=t.length;l<c;l++)a[s=t[l]]=this.font.glyf.glyphFor(s);for(s in n=[],a)(r=a[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in d=this.glyphsFor(n))r=d[s],a[s]=r;return a},e.prototype.encode=function(t,n){var r,a,s,l,c,d,h,m,v,y,g,T,b,A,E;for(a in r=_A.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),g={0:0},E=r.charMap)g[(d=E[a]).old]=d.new;for(T in y=r.maxGlyphID,l)T in g||(g[T]=y++);return m=(function(D){var j,R;for(j in R={},D)R[D[j]]=j;return R})(g),v=Object.keys(m).sort(function(D,j){return D-j}),b=(function(){var D,j,R;for(R=[],D=0,j=v.length;D<j;D++)c=v[D],R.push(m[c]);return R})(),s=this.font.glyf.encode(l,b,g),h=this.font.loca.encode(s.offsets,b),A={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(A["OS/2"]=this.font.os2.raw()),this.font.directory.encode(A)},e})();on.API.PDFObject=(function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,a,s,l;if(Array.isArray(n))return"["+(function(){var c,d,h;for(h=[],c=0,d=n.length;c<d;c++)r=n[c],h.push(t.convert(r));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in s=["<<"],n)l=n[a],s.push("/"+a+" "+t.convert(l));return s.push(">>"),s.join(`
`)}return""+n},t})();const kz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),Lz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),Fz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:u.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})}),Oz=[{abrev:"Ene",nombre:"Enero",num:0},{abrev:"Feb",nombre:"Febrero",num:1},{abrev:"Mar",nombre:"Marzo",num:2},{abrev:"Abr",nombre:"Abril",num:3},{abrev:"May",nombre:"Mayo",num:4},{abrev:"Jun",nombre:"Junio",num:5},{abrev:"Jul",nombre:"Julio",num:6},{abrev:"Ago",nombre:"Agosto",num:7},{abrev:"Sep",nombre:"Septiembre",num:8},{abrev:"Oct",nombre:"Octubre",num:9},{abrev:"Nov",nombre:"Noviembre",num:10},{abrev:"Dic",nombre:"Diciembre",num:11}],Rz=({navigateTo:e})=>{const{showToast:t}=ku(),[n,r]=W.useState(new Date().getFullYear()),[a,s]=W.useState([]),[l,c]=W.useState(!0),d=y=>y===0?"":`${y.toFixed(2).replace(".",",")} `;W.useEffect(()=>{(async()=>{try{c(!0);const[g,T]=await Promise.all([v5(n),y5(n)]),b=Oz.map(A=>{const E=g[A.num]||0,D=T[A.num]||0;return{mes:A.abrev,ingresos:E,gastos:D,total:E-D}});s(b)}catch(g){console.error("Error loading monthly summary:",g)}finally{c(!1)}})()},[n]);const h=W.useMemo(()=>{const y=a.reduce((b,A)=>b+A.ingresos,0),g=a.reduce((b,A)=>b+A.gastos,0),T=y-g;return{ingresosTotal:y,gastosTotal:g,totalGeneral:T}},[a]),m=y=>{r(g=>g+y)},v=()=>{try{const y=new on,g=25,T=118,b=210,A=0,E=0,D=0,j=33,R=150,q=243,Z=211,I=47,Y=47;y.setFontSize(18),y.setTextColor(g,T,b),y.text("Resumen Financiero Anual",105,20,{align:"center"}),y.setFontSize(14),y.setTextColor(A,E,D),y.text(`Ao: ${n}`,105,30,{align:"center"});const P=40,Q=8,O=[40,50,50,50],G=[20,60,110,160];y.setFillColor(g,T,b),y.rect(G[0],P,O[0],Q,"F"),y.rect(G[1],P,O[1],Q,"F"),y.rect(G[2],P,O[2],Q,"F"),y.rect(G[3],P,O[3],Q,"F"),y.setTextColor(255,255,255),y.setFontSize(11),y.setFont(void 0,"bold"),y.text("Mes",G[0]+O[0]/2,P+5,{align:"center"}),y.text("Ingresos",G[1]+O[1]/2,P+5,{align:"center"}),y.text("Gastos",G[2]+O[2]/2,P+5,{align:"center"}),y.text("Total",G[3]+O[3]/2,P+5,{align:"center"});let K=P+Q;y.setFontSize(10),y.setFont(void 0,"normal"),a.forEach((H,V)=>{V%2===0&&(y.setFillColor(249,250,251),y.rect(G[0],K,O[0]+O[1]+O[2]+O[3],Q,"F")),y.setTextColor(A,E,D),y.text(H.mes,G[0]+O[0]/2,K+5,{align:"center"}),y.setTextColor(j,R,q),y.text(H.ingresos.toFixed(2)+" ",G[1]+O[1]/2,K+5,{align:"center"}),y.setTextColor(Z,I,Y),y.text(H.gastos.toFixed(2)+" ",G[2]+O[2]/2,K+5,{align:"center"}),y.setTextColor(j,R,q),y.text(H.total.toFixed(2)+" ",G[3]+O[3]/2,K+5,{align:"center"}),K+=Q,K>270&&(y.addPage(),K=20)}),y.setFillColor(229,231,235),y.rect(G[0],K,O[0]+O[1]+O[2]+O[3],Q,"F"),y.setFont(void 0,"bold"),y.setTextColor(A,E,D),y.text("Total",G[0]+O[0]/2,K+5,{align:"center"}),y.setTextColor(j,R,q),y.text(h.ingresosTotal.toFixed(2)+" ",G[1]+O[1]/2,K+5,{align:"center"}),y.setTextColor(Z,I,Y),y.text(h.gastosTotal.toFixed(2)+" ",G[2]+O[2]/2,K+5,{align:"center"}),y.setTextColor(j,R,q),y.text(h.totalGeneral.toFixed(2)+" ",G[3]+O[3]/2,K+5,{align:"center"});const X=y.getNumberOfPages();for(let H=1;H<=X;H++)y.setPage(H),y.setFontSize(8),y.setTextColor(128,128,128),y.text(`Pgina ${H} de ${X}`,105,y.internal.pageSize.height-10,{align:"center"});y.save(`Resumen_Financiero_${n}.pdf`),t("PDF generado correctamente","success")}catch(y){Gs.handle(y,"ResumenMensualScreen - generarPDF")}};return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 py-4 space-y-2",children:[u.jsx(Da,{title:"Resumen Financiero Anual",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-lg"}),u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl py-1 px-4 flex items-center justify-between",children:[u.jsx("button",{onClick:()=>m(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(kz,{})}),u.jsx("span",{className:"text-zinc-100 font-medium text-sm tracking-wide",children:n}),u.jsx("button",{onClick:()=>m(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(Lz,{})})]}),u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl overflow-hidden shadow-md flex flex-col",style:{maxHeight:"calc(100vh - 200px)"},children:[u.jsxs("div",{className:"flex-1 overflow-y-auto",children:[u.jsxs("div",{className:"bg-[#14225A] grid grid-cols-4 py-1 px-2 text-white font-semibold text-xs uppercase tracking-wide sticky top-0 z-10",children:[u.jsx("div",{className:"flex items-center",children:"Mes"}),u.jsx("div",{className:"text-right flex items-center justify-end whitespace-nowrap",children:"Ingresos"}),u.jsx("div",{className:"text-right flex items-center justify-end whitespace-nowrap",children:"Gastos"}),u.jsx("div",{className:"text-right flex items-center justify-end whitespace-nowrap",children:"Total"})]}),l?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando..."}):u.jsx(u.Fragment,{children:a.map((y,g)=>u.jsxs("div",{className:`grid grid-cols-4 py-1 px-2 text-sm border-b border-zinc-800 ${g%2===0?"bg-zinc-900":"bg-zinc-950"}`,children:[u.jsx("div",{className:"text-zinc-100 font-medium flex items-center",children:y.mes}),u.jsx("div",{className:"text-cyan-400 text-right font-semibold flex items-center justify-end whitespace-nowrap",children:d(y.ingresos)}),u.jsx("div",{className:"text-red-400 text-right font-semibold flex items-center justify-end whitespace-nowrap",children:d(y.gastos)}),u.jsx("div",{className:`text-right font-semibold flex items-center justify-end whitespace-nowrap ${y.total>=0?"text-emerald-400":"text-red-400"}`,children:d(y.total)})]},g))})]}),u.jsxs("div",{className:"bg-[#10172D] grid grid-cols-4 py-1.5 px-2 text-sm font-semibold border-t border-zinc-800",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:"text-zinc-100 font-bold uppercase tracking-wide",children:"Total"})}),u.jsxs("div",{className:"text-cyan-300 text-right font-bold flex items-center justify-end whitespace-nowrap",children:[h.ingresosTotal.toFixed(2)," "]}),u.jsxs("div",{className:"text-red-400 text-right font-bold flex items-center justify-end whitespace-nowrap",children:[h.gastosTotal.toFixed(2)," "]}),u.jsxs("div",{className:`text-right font-bold flex items-center justify-end whitespace-nowrap ${h.totalGeneral>=0?"text-emerald-400":"text-red-400"}`,children:[h.totalGeneral.toFixed(2)," "]})]})]}),u.jsx("div",{className:"flex justify-center pt-0.5",children:u.jsxs("button",{onClick:v,className:"bg-[#14225A] text-white font-semibold py-3 px-6 rounded-xl flex items-center gap-2 hover:bg-[#1b2c78] transition-colors shadow-lg",children:[u.jsx(Fz,{}),u.jsx("span",{children:"Generar Informe PDF"})]})})]})},Mz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),zz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),Iz=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],Pz=({navigateTo:e})=>{const[t,n]=W.useState(new Date().getMonth()),[r,a]=W.useState(new Date().getFullYear()),[s,l]=W.useState([]),[c,d]=W.useState([]),[h,m]=W.useState([]),[v,y]=W.useState(!0);W.useEffect(()=>{(async()=>{try{y(!0);const[D,j,R]=await Promise.all([x5(t,r),s1(t,r),J_(t,r)]);l(D),d(j),m(R)}catch(D){console.error("Error loading monthly detailed data:",D)}finally{y(!1)}})()},[t,r]);const g=W.useMemo(()=>{const E=new Set;s.forEach(M=>E.add(M.fechaHora.getDate())),h.forEach(M=>E.add(M.fechaInicio.getDate()));const D=E.size,j=s.length,q=new Set(h.map(M=>M.id)).size,Z=s.filter(M=>M.formaPago==="Tarjeta").reduce((M,N)=>M+(N.cobrado||0),0),I=s.filter(M=>M.emisora).reduce((M,N)=>M+(N.cobrado||0),0),Y=s.filter(M=>M.formaPago==="Vales").reduce((M,N)=>M+(N.cobrado||0),0),P=s.filter(M=>M.formaPago==="Tarjeta").length,Q=s.filter(M=>M.emisora).length,O=s.filter(M=>M.formaPago==="Vales").length,G=s.reduce((M,N)=>{const F=Math.max(0,(N.cobrado||0)-(N.taximetro||0));return M+F},0),K=s.filter(M=>M.aeropuerto).reduce((M,N)=>M+(N.cobrado||0),0);let X=0;h.forEach(M=>{if(M.fechaFin&&M.fechaInicio){const F=(M.fechaFin.getTime()-M.fechaInicio.getTime())/(1e3*60*60);X+=F}}),X=Math.round(X*10)/10;let H=0;h.forEach(M=>{M.kilometrosFin!==void 0&&M.kilometrosInicio!==void 0&&(H+=(M.kilometrosFin||0)-(M.kilometrosInicio||0))});const V=0,ae=c.reduce((M,N)=>N.concepto&&N.concepto.toLowerCase().includes("combustible")?M+(N.importe||0):M,0),ce=s.reduce((M,N)=>M+(N.cobrado||0),0),le=c.reduce((M,N)=>M+(N.importe||0),0),me=ce-le;return{dias:D,carreras:j,turno1:q,sumaTarjeta:Z,sumaEmisora:I,sumaVales:Y,countTarjeta:P,countEmisora:Q,countVales:O,propinas:G,aeropuerto:K,horas:X,kilometros:H,ingresosVarios:V,combustible:ae,neto:ce,gastos:le,total:me}},[s,c,h]),T=E=>{let D=t+E,j=r;D<0?(D=11,j--):D>11&&(D=0,j++),n(D),a(j)},b=E=>E.toFixed(2).replace(".",","),A=E=>E===0?"0":E.toString();return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 flex flex-col p-3 space-y-2",style:{maxHeight:"100vh",overflow:"hidden"},children:[u.jsx(Da,{title:"Mensual Detallado",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-md"}),u.jsxs("div",{className:"bg-zinc-900 py-1 px-4 flex items-center justify-between border border-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>T(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(Mz,{})}),u.jsxs("span",{className:"text-zinc-100 font-medium text-sm tracking-wide",children:[Iz[t]," ",r]}),u.jsx("button",{onClick:()=>T(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(zz,{})})]}),u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-xl px-5 py-1.5 flex items-center justify-between",children:[u.jsx("h2",{className:"text-cyan-300 font-semibold text-sm uppercase tracking-wide",children:"Resumen"}),u.jsxs("div",{className:"bg-emerald-500 rounded-xl px-4 py-1.5 shadow-md flex items-center gap-2",children:[u.jsx("span",{className:"text-emerald-950 font-semibold text-xs uppercase",children:"Total"}),u.jsxs("span",{className:"text-white font-bold text-base",children:[b(g.total)," "]})]})]}),v?u.jsx("div",{className:"flex-1 flex items-center justify-center text-zinc-500",children:"Cargando..."}):u.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:u.jsxs("div",{className:"grid grid-cols-3 gap-1 h-full",style:{gridAutoRows:"minmax(56px, auto)"},children:[u.jsx(di,{label:"Das",value:A(g.dias)}),u.jsx(di,{label:"Carreras",value:A(g.carreras)}),u.jsx(di,{label:"Turnos",value:A(g.turno1)}),u.jsx(di,{label:"S. Tarjeta",value:b(g.sumaTarjeta)}),u.jsx(di,{label:"S. Emisora",value:b(g.sumaEmisora)}),u.jsx(di,{label:"S.Vales",value:b(g.sumaVales)}),u.jsx(di,{label:"C. Tarjeta",value:g.countTarjeta>0?A(g.countTarjeta):""}),u.jsx(di,{label:"C. Emisora",value:g.countEmisora>0?A(g.countEmisora):""}),u.jsx(di,{label:"C.Vales",value:g.countVales>0?A(g.countVales):""}),u.jsx(di,{label:"Propinas",value:b(g.propinas)}),u.jsx(di,{label:"Aeropuertos",value:b(g.aeropuerto)}),u.jsx(di,{label:"Horas",value:g.horas>0?A(g.horas):""}),u.jsx(di,{label:"Kilometros",value:A(g.kilometros)}),u.jsx(di,{label:"Ing. Varios",value:b(g.ingresosVarios)}),u.jsx(di,{label:"Combustible",value:g.combustible>0?b(g.combustible):"0.0"}),u.jsx(di,{label:"NETO",value:b(g.neto)}),u.jsx(di,{label:"GASTOS",value:b(g.gastos)}),u.jsx(di,{label:"TOTAL",value:b(g.total)})]})})]})},di=({label:e,value:t})=>u.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-lg p-2 flex flex-col justify-center min-h-[56px]",children:[u.jsx("div",{className:"text-cyan-300 text-xs font-semibold uppercase tracking-wide mb-0.5",children:e}),u.jsx("div",{className:"text-zinc-100 text-sm font-semibold",children:t||""})]}),Bz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),Uz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),Hz=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],Vz=({navigateTo:e,navigateToEditGasto:t})=>{const[n,r]=W.useState(new Date().getMonth()),[a,s]=W.useState(new Date().getFullYear()),[l,c]=W.useState([]),[d,h]=W.useState(!0);W.useEffect(()=>(console.log(" Suscribindose a gastos del mes:",n+1,a),h(!0),Q_(n,a,b=>{console.log(" Gastos actualizados en tiempo real:",b.length,"gastos"),b.length>0&&console.log(" Primer gasto:",{id:b[0].id,importe:b[0].importe,concepto:b[0].concepto,proveedor:b[0].proveedor,taller:b[0].taller,fecha:b[0].fecha}),c(b),h(!1)},b=>{console.error(" Error en suscripcin de gastos:",b),h(!1)}),()=>{console.log(" Desuscribindose de gastos del mes")}),[n,a]);const m=W.useMemo(()=>l.reduce((b,A)=>b+(A.importe||0),0),[l]),v=b=>{let A=n+b,E=a;A<0?(A=11,E--):A>11&&(A=0,E++),r(A),s(E)},y=b=>b.toFixed(2).replace(".",","),g=b=>{const A=b.getDate().toString().padStart(2,"0"),E=(b.getMonth()+1).toString().padStart(2,"0");return`${A}/${E}`},T=W.useMemo(()=>[...l].sort((b,A)=>A.fecha.getTime()-b.fecha.getTime()),[l]);return u.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col p-3 space-y-1.5",children:[u.jsx(Da,{title:"Resumen de Gastos",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-md"}),u.jsxs("div",{className:"bg-zinc-900 py-1 px-4 flex items-center justify-between border border-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>v(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(Bz,{})}),u.jsxs("span",{className:"text-zinc-100 font-semibold text-base tracking-wide",children:[Hz[n]," ",a]}),u.jsx("button",{onClick:()=>v(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(Uz,{})})]}),u.jsxs("div",{className:"bg-[#14225A] grid grid-cols-12 py-1.5 px-4 text-white font-bold text-sm rounded-xl",children:[u.jsx("div",{className:"col-span-2 text-center",children:"Da"}),u.jsx("div",{className:"col-span-2 text-center",children:""}),u.jsx("div",{className:"col-span-4 text-center",children:"Concepto"}),u.jsx("div",{className:"col-span-4 text-center",children:"Proveedor"})]}),u.jsx("div",{className:"bg-zinc-900 flex-1 overflow-y-auto rounded-xl border border-zinc-800",children:d?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando..."}):T.length===0?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay gastos para este mes"}):u.jsx(u.Fragment,{children:T.map((b,A)=>u.jsxs("div",{onClick:()=>{t&&t(b.id)},className:`grid grid-cols-12 py-1.5 px-4 text-sm border-b border-zinc-800 cursor-pointer hover:bg-zinc-800 transition-colors ${A%2===0?"bg-zinc-900":"bg-zinc-950"}`,children:[u.jsx("div",{className:"col-span-2 text-zinc-100 text-center",children:g(b.fecha)}),u.jsx("div",{className:"col-span-2 text-red-400 font-medium text-center",children:y(b.importe||0)}),u.jsx("div",{className:"col-span-4 text-zinc-100 text-center",children:b.concepto||b.taller||"-"}),u.jsx("div",{className:"col-span-4 text-zinc-100 text-center",children:b.proveedor||b.taller||"-"})]},b.id))})}),u.jsxs("div",{className:"bg-[#14225A] py-2 px-4 flex items-center justify-between rounded-xl",children:[u.jsx("span",{className:"text-white font-bold text-sm",children:"Total del Mes:"}),u.jsxs("span",{className:"text-red-400 font-bold text-sm",children:[y(m),""]})]})]})},Gz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})}),qz=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})}),Wz=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"],$z=({navigateTo:e})=>{const[t,n]=W.useState(new Date().getMonth()),[r,a]=W.useState(new Date().getFullYear()),[s,l]=W.useState([]),[c,d]=W.useState([]),[h,m]=W.useState(!0);W.useEffect(()=>{(async()=>{try{m(!0);const[E,D]=await Promise.all([x5(t,r),s1(t,r)]);l(E),d(D)}catch(E){console.error("Error loading monthly data:",E)}finally{m(!1)}})()},[t,r]);const v=W.useMemo(()=>{const A={};return s.forEach(E=>{const D=E.fechaHora.toISOString().split("T")[0];A[D]||(A[D]={fecha:new Date(E.fechaHora.getFullYear(),E.fechaHora.getMonth(),E.fechaHora.getDate()),ingresos:0,gastos:0}),A[D].ingresos+=E.cobrado||0}),c.forEach(E=>{const D=E.fecha.toISOString().split("T")[0];A[D]||(A[D]={fecha:new Date(E.fecha.getFullYear(),E.fecha.getMonth(),E.fecha.getDate()),ingresos:0,gastos:0}),A[D].gastos+=E.importe||0}),Object.values(A).sort((E,D)=>E.fecha.getTime()-D.fecha.getTime())},[s,c]),y=W.useMemo(()=>{const A=s.reduce((D,j)=>D+(j.cobrado||0),0),E=c.reduce((D,j)=>D+(j.importe||0),0);return A-E},[s,c]),g=A=>{let E=t+A,D=r;E<0?(E=11,D--):E>11&&(E=0,D++),n(E),a(D)},T=A=>A===0?"":A.toFixed(2).replace(".",","),b=A=>{const E=A.getDate().toString().padStart(2,"0"),D=(A.getMonth()+1).toString().padStart(2,"0");return`${E}/${D}`};return u.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col p-3 space-y-1.5",children:[u.jsx(Da,{title:"Resumen Mensual",navigateTo:e,backTarget:mt.Resumen,className:"rounded-xl shadow-md"}),u.jsxs("div",{className:"bg-zinc-900 py-1 px-4 flex items-center justify-between border border-zinc-800 rounded-xl",children:[u.jsx("button",{onClick:()=>g(-1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(Gz,{})}),u.jsxs("span",{className:"text-zinc-100 font-semibold text-base tracking-wide",children:[Wz[t]," ",r]}),u.jsx("button",{onClick:()=>g(1),className:"text-cyan-300 hover:bg-zinc-800 rounded p-1 transition-colors",children:u.jsx(qz,{})})]}),u.jsxs("div",{className:"bg-[#14225A] grid grid-cols-12 py-1.5 px-4 text-white font-bold text-sm rounded-xl",children:[u.jsx("div",{className:"col-span-2",children:"Das"}),u.jsx("div",{className:"col-span-2 text-right",children:"Ingresos"}),u.jsx("div",{className:"col-span-4 text-right",children:"Gastos"}),u.jsx("div",{className:"col-span-4 text-right",children:"Total"})]}),u.jsx("div",{className:"bg-zinc-900 flex-1 overflow-y-auto rounded-xl border border-zinc-800",children:h?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando..."}):v.length===0?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay datos para este mes"}):u.jsx(u.Fragment,{children:v.map((A,E)=>{const D=A.ingresos-A.gastos;return u.jsxs("div",{className:`grid grid-cols-12 py-1.5 px-4 text-sm border-b border-zinc-800 ${E%2===0?"bg-zinc-900":"bg-zinc-950"}`,children:[u.jsx("div",{className:"col-span-2 text-zinc-100",children:b(A.fecha)}),u.jsx("div",{className:"col-span-2 text-right text-cyan-400 font-medium",children:T(A.ingresos)}),u.jsx("div",{className:"col-span-4 text-right text-red-400 font-medium",children:T(A.gastos)}),u.jsx("div",{className:"col-span-4 text-right font-medium",children:D===0?u.jsx("span",{}):D>=0?u.jsx("span",{className:"text-emerald-400",children:T(D)}):u.jsx("span",{className:"text-red-400",children:T(D)})})]},E)})})}),u.jsxs("div",{className:"bg-[#10172D] py-2 px-4 flex items-center justify-between rounded-xl",children:[u.jsx("span",{className:"text-white font-bold text-sm",children:"Total del Mes:"}),u.jsxs("span",{className:`font-bold text-sm ${y>=0?"text-emerald-400":"text-red-400"}`,children:[T(y),""]})]})]})},AA=W.createContext(void 0),Yz=({children:e})=>{const[t,n]=W.useState(()=>{const a=localStorage.getItem("tamanoFuente")??localStorage.getItem("tamoFuente");return a?parseFloat(a):12});W.useEffect(()=>{document.documentElement.style.setProperty("--base-font-size",`${t}px`),localStorage.setItem("tamanoFuente",t.toString()),localStorage.removeItem("tamoFuente")},[t]);const r=a=>{n(a)};return u.jsx(AA.Provider,{value:{fontSize:t,setFontSize:r},children:e})},Kz=()=>{const e=W.useContext(AA);if(e===void 0)throw new Error("useFontSize must be used within a FontSizeProvider");return e},Xz="https://apis.google.com/js/api.js",Zz="https://accounts.google.com/gsi/client",Jz="185040092692-o4pkb6r01q2hjedvr33a72hc5adn12k5.apps.googleusercontent.com",HS="AIzaSyBOYRr8AF7QrQgExQ94z1w6EUqRZGSkP98",VS=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest","https://sheets.googleapis.com/$discovery/rest?version=v4"],EA=["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive.readonly"].join(" ");let _v=null,yx=!1,GS=!1,qS=null;const Qz=()=>new Promise((e,t)=>{if(yx){e();return}if(window.gapi){window.gapi.load("client",async()=>{try{await window.gapi.client.init({apiKey:HS,discoveryDocs:VS}),yx=!0,e()}catch(r){t(r)}});return}const n=document.createElement("script");n.src=Xz,n.async=!0,n.defer=!0,n.onload=()=>{window.gapi.load("client",async()=>{try{await window.gapi.client.init({apiKey:HS,discoveryDocs:VS}),yx=!0,e()}catch(r){t(r)}})},n.onerror=()=>t(new Error("No se pudo cargar Google API script.")),document.head.appendChild(n)}),eI=()=>new Promise((e,t)=>{if(GS){e();return}const n=()=>{try{_v=window.google.accounts.oauth2.initTokenClient({client_id:Jz,scope:EA,callback:a=>{if(a.error!==void 0)throw a}}),GS=!0,e()}catch(a){t(a)}};if(window.google&&window.google.accounts){n();return}const r=document.createElement("script");r.src=Zz,r.async=!0,r.defer=!0,r.onload=n,r.onerror=()=>t(new Error("No se pudo cargar Google Identity Services script.")),document.head.appendChild(r)}),tI=async()=>{await Promise.all([Qz(),eI()])},ch=async()=>{await tI();const e=window.gapi,t=e.client.getToken();if(t){const n=(t.created||0)+(t.expires_in||3600)*1e3;if(Date.now()<n){const a=EA.split(" "),s=(t.scope||"").split(" ");if(a.every(c=>s.includes(c))){qS=t;return}}}return new Promise((n,r)=>{try{_v.callback=a=>{if(a.error!==void 0){console.error("Error en autenticacin Google:",a),r(a);return}if(console.log("Autenticacin Google exitosa"),a.access_token){const s={...a,created:Date.now()};e.client.setToken(s),qS=s}n(a)},_v.requestAccessToken({prompt:"consent"})}catch(a){r(a)}})},nI=async e=>{await ch();const t=window.gapi,n="-------314159265358979323846",r=`\r
--`+n+`\r
`,a=`\r
--`+n+"--",s={name:e.name,mimeType:e.mimeType,...e.parents?{parents:e.parents}:{}},l=async()=>{if(e.content instanceof Blob){const c=await e.content.arrayBuffer(),d=new Uint8Array(c);let h="";for(let m=0;m<d.byteLength;m++)h+=String.fromCharCode(d[m]);return btoa(h)}return btoa(unescape(encodeURIComponent(e.content)))};try{const c=await l(),d=r+`Content-Type: application/json; charset=UTF-8\r
\r
`+JSON.stringify(s)+r+"Content-Type: "+e.mimeType+`\r
Content-Transfer-Encoding: base64\r
\r
`+c+a,h=await t.client.request({path:"/upload/drive/v3/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":"multipart/related; boundary="+n},body:d});if(!h||!h.result||!h.result.id)throw new Error("No se recibi respuesta vlida de Google Drive.");return h.result}catch(c){throw console.error("Error uploadFileToDrive",c),c}},rI=async e=>{await ch();const t=window.gapi;try{const n=await t.client.request({path:"/drive/v3/files",method:"GET",params:{q:e,fields:"files(id, name, createdTime, mimeType)",orderBy:"createdTime desc"}});return!n||!n.result||!n.result.files?[]:n.result.files}catch(n){throw console.error("Error listFiles",n),n}},aI=async e=>{await ch();const t=window.gapi;try{const n=await t.client.request({path:`/drive/v3/files/${e}`,method:"GET",params:{alt:"media"}});if(!n||!n.body)throw new Error("No se pudo descargar el contenido del archivo.");try{return JSON.parse(n.body)}catch{return n.body}}catch(n){throw console.error("Error getFileContent",n),n}},iI=async(e,t)=>{await ch();const n=window.gapi,r={properties:{title:e},sheets:t.map(a=>({properties:{title:a}}))};try{const a=await n.client.sheets.spreadsheets.create({},r);if(!a||!a.result||!a.result.spreadsheetId)throw new Error("No se recibi respuesta vlida de Google Sheets.");return{spreadsheetId:a.result.spreadsheetId}}catch(a){throw console.error("Error createSpreadsheetWithSheets",a),a}},Tl=async(e,t,n)=>{await ch();const r=window.gapi;if(!(!n||n.length===0))try{const a=await r.client.sheets.spreadsheets.values.update({spreadsheetId:e,range:`${t}!A1`,valueInputOption:"RAW",resource:{values:n}});if(!a||!a.result)throw new Error(`No se recibi respuesta vlida al escribir en la hoja "${t}"`)}catch(a){throw console.error("Error writeSheetValues",a),a}},mc=async(e,t)=>{await ch();const n=window.gapi;try{const r=await n.client.sheets.spreadsheets.values.get({spreadsheetId:e,range:t});return!r||!r.result||!r.result.values?[]:r.result.values}catch(r){throw console.error("Error readSheetValues",r),r}},zs=e=>{if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(zs);if(e&&typeof e=="object"){const t={};return Object.keys(e).forEach(n=>{t[n]=zs(e[n])}),t}return e},F5=async()=>{const e=async(v,y)=>{var g;try{return await v()}catch(T){if((T==null?void 0:T.code)==="permission-denied"||(g=T==null?void 0:T.message)!=null&&g.includes("permission"))return console.warn(`Error de permisos al obtener datos: ${T.message}`),y;throw T}},[t,n,r,a,s,l,c,d,h]=await Promise.all([e(()=>oh(),null),e(()=>b5(),null),e(()=>o1(),[]),e(()=>Vs(),[]),e(()=>Zo(),[]),e(()=>Du(),[]),e(()=>Km(),[]),e(()=>Xm(),[]),e(()=>Zm(),[])]);return{meta:{app:"TAppXI",version:"1.0",createdAt:new Date().toISOString()},ajustes:t?zs(t):null,breakConfiguration:n?zs(n):null,excepciones:r?zs(r):[],carreras:a?zs(a):[],gastos:s?zs(s):[],turnos:l?zs(l):[],proveedores:c?zs(c):[],conceptos:d?zs(d):[],talleres:h?zs(h):[]}},sI=async()=>{const e=await F5(),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json;charset=utf-8"}),r=URL.createObjectURL(n),a=document.createElement("a"),s=new Date().toISOString().replace(/[:.]/g,"-");a.href=r,a.download=`tappxi-backup-${s}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(r)},oI=async()=>{try{const e=await F5(),t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json;charset=utf-8"}),a=`tappxi-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.json`,s=await nI({name:a,mimeType:"application/json",content:n});if(!s||!s.id)throw new Error("No se recibi confirmacin de que el archivo se subi correctamente a Drive.");console.log(`Backup subido exitosamente a Drive. ID: ${s.id}, Nombre: ${s.name||a}`)}catch(e){const t=(e==null?void 0:e.message)||String(e);throw new Error(`Error al subir backup a Google Drive: ${t}

Asegrate de:
1. Tener conexin a internet
2. Haber autorizado el acceso a Google Drive
3. Tener espacio disponible en tu cuenta de Google Drive`)}},CA=async(e,t)=>{if(!e||!e.meta||!e.meta.app)throw new Error("El archivo no parece ser un backup vlido de TAppXI.");const n={carreras:0,gastos:0,turnos:0},r=9;let a=0;const s=l=>{if(t){const c=Math.round(a/r*100);t(c,l)}};if(s("Restaurando ajustes..."),e.ajustes&&(await Jm(e.ajustes),e.ajustes.tamoFuente&&!e.ajustes.tamanoFuente&&await Jm({tamanoFuente:e.ajustes.tamoFuente})),a++,s("Restaurando configuracin..."),e.breakConfiguration&&await w5(e.breakConfiguration),a++,s("Restaurando carreras..."),e.carreras&&Array.isArray(e.carreras)){const l=e.carreras.length;for(let c=0;c<l;c++)await sT(e.carreras[c]),n.carreras++,c%10===0&&t&&t(Math.round(2/r*100+c/l*(100/r)),`Restaurando carreras (${c+1}/${l})...`)}if(a++,s("Restaurando gastos..."),e.gastos&&Array.isArray(e.gastos)){const l=e.gastos.length;for(let c=0;c<l;c++)await oT(e.gastos[c]),n.gastos++,c%10===0&&t&&t(Math.round(3/r*100+c/l*(100/r)),`Restaurando gastos (${c+1}/${l})...`)}if(a++,s("Restaurando turnos..."),e.turnos&&Array.isArray(e.turnos)){const l=e.turnos.length;for(let c=0;c<l;c++)await lT(e.turnos[c]),n.turnos++,c%10===0&&t&&t(Math.round(4/r*100+c/l*(100/r)),`Restaurando turnos (${c+1}/${l})...`)}if(a++,s("Restaurando proveedores..."),e.proveedores&&Array.isArray(e.proveedores)){const l=e.proveedores.length;for(let c=0;c<l;c++)await cT(e.proveedores[c]),c%10===0&&t&&t(Math.round(5/r*100+c/l*(100/r)),`Restaurando proveedores (${c+1}/${l})...`)}if(a++,s("Restaurando conceptos..."),e.conceptos&&Array.isArray(e.conceptos)){const l=e.conceptos.length;for(let c=0;c<l;c++)await uT(e.conceptos[c]),c%10===0&&t&&t(Math.round(6/r*100+c/l*(100/r)),`Restaurando conceptos (${c+1}/${l})...`)}if(a++,s("Restaurando talleres..."),e.talleres&&Array.isArray(e.talleres)){const l=e.talleres.length;for(let c=0;c<l;c++)await fT(e.talleres[c]),c%10===0&&t&&t(Math.round(7/r*100+c/l*(100/r)),`Restaurando talleres (${c+1}/${l})...`)}if(a++,s("Restaurando excepciones..."),e.excepciones&&Array.isArray(e.excepciones)){const l=e.excepciones.length;for(let c=0;c<l;c++)await aT(e.excepciones[c]),c%10===0&&t&&t(Math.round(8/r*100+c/l*(100/r)),`Restaurando excepciones (${c+1}/${l})...`)}return a++,t&&t(100,"Restauracin completada."),n},ef=(e,t)=>{const n=t,r=(e||[]).map(a=>t.map(s=>{const l=a[s];return l instanceof Date?l.toISOString():l==null?null:typeof l=="object"?JSON.stringify(zs(l)):l}));return[n,...r]},WS=(e,t="")=>{if(!e||typeof e!="object")return[["Clave","Valor"],[t||"root",JSON.stringify(e)]];const n=[["Clave","Valor"]],r=(a,s="")=>{Object.keys(a).forEach(l=>{const c=s?`${s}.${l}`:l,d=a[l];d==null?n.push([c,null]):d instanceof Date?n.push([c,d.toISOString()]):Array.isArray(d)?n.push([c,JSON.stringify(zs(d))]):typeof d=="object"?r(d,c):n.push([c,d])})};return r(e,t),n},lI=async()=>{try{const e=await F5(),t=new Date().toISOString().split("T")[0],n=["Carreras","Gastos","Turnos","Proveedores","Conceptos","Talleres","Ajustes","BreakConfiguration","Excepciones","Servicios"],{spreadsheetId:r}=await iI(`TAppXI Export ${t}`,n);if(!r)throw new Error("No se recibi el ID de la hoja de clculo creada.");const a=["id","taximetro","cobrado","formaPago","tipoCarrera","emisora","aeropuerto","estacion","fechaHora","turnoId","valeInfo","notas"],s=["id","importe","fecha","tipo","categoria","formaPago","proveedor","concepto","taller","numeroFactura","baseImponible","ivaImporte","ivaPorcentaje","kilometros","kilometrosVehiculo","descuento","servicios","notas"],l=["GastoID","Fecha","Servicio","Referencia","Importe","Cantidad","Descuento","Descripcion"],c=["id","fechaInicio","kilometrosInicio","fechaFin","kilometrosFin","numero"],d=["id","nombre","direccion","telefono","nif","createdAt"],h=["id","nombre","descripcion","categoria","createdAt"],m=["id","nombre","direccion","telefono","createdAt"],v=["id","fecha","descripcion","createdAt"],y=ef(e.carreras||[],a),g=e.gastos||[],T=g.filter(P=>P.tipo==="vehiculo"),b=ef(g,s),A=[l];T.forEach(P=>{const Q=P.fecha instanceof Date?P.fecha.toISOString():P.fecha,O=P.concepto||"";P.servicios&&Array.isArray(P.servicios)&&P.servicios.length>0?P.servicios.forEach(G=>{A.push([P.id,Q,O,G.referencia||"",G.importe||0,G.cantidad||1,G.descuentoPorcentaje||0,G.descripcion||""])}):A.push([P.id,Q,O,"",P.importe||0,1,P.descuento||0,P.notas||""])});const E=ef(e.turnos||[],c),D=ef(e.proveedores||[],d),j=ef(e.conceptos||[],h),R=ef(e.talleres||[],m),q=ef(e.excepciones||[],v),Z=WS(e.ajustes,"ajustes"),I=WS(e.breakConfiguration,"breakConfiguration");console.log(`Escribiendo ${y.length} filas en Carreras`),y.length>0&&await Tl(r,"Carreras",y),console.log(`Escribiendo ${b.length} filas en Gastos`),b.length>0&&await Tl(r,"Gastos",b),console.log(`Escribiendo ${E.length} filas en Turnos`),E.length>0&&await Tl(r,"Turnos",E),console.log(`Escribiendo ${D.length} filas en Proveedores`),D.length>0&&await Tl(r,"Proveedores",D),console.log(`Escribiendo ${j.length} filas en Conceptos`),j.length>0&&await Tl(r,"Conceptos",j),console.log(`Escribiendo ${R.length} filas en Talleres`),R.length>0&&await Tl(r,"Talleres",R),console.log(`Escribiendo ${Z.length} filas en Ajustes`),Z.length>0&&await Tl(r,"Ajustes",Z),console.log(`Escribiendo ${I.length} filas en BreakConfiguration`),I.length>0&&await Tl(r,"BreakConfiguration",I),console.log(`Escribiendo ${q.length} filas en Excepciones`),q.length>0&&await Tl(r,"Excepciones",q),console.log(`Escribiendo ${A.length} filas en Servicios`),A.length>0&&await Tl(r,"Servicios",A);const Y=`https://docs.google.com/spreadsheets/d/${r}/edit`;return console.log(`Exportacin completa a Google Sheets. ID: ${r}`),{spreadsheetId:r,url:Y}}catch(e){const t=(e==null?void 0:e.message)||String(e);console.error("Error detallado exportacin Sheets:",e);let n=`Error al exportar a Google Sheets: ${t}

`;throw t.includes("403")||t.includes("permission")||t.includes("unverified")?n+=`POSIBLE PROBLEMA DE PERMISOS:
Si ves una pantalla de "Aplicacin no verificada", haz clic en "Configuracin avanzada" y luego en "Ir a tappxi (no seguro)" para continuar.
Asegrate de haber concedido todos los permisos solicitados.`:n+=`Asegrate de:
1. Tener conexin a internet
2. Haber autorizado el acceso a Google Sheets
3. Tener espacio disponible en tu cuenta de Google`,new Error(n)}},tf=e=>{if(!e||e.length<2)return[];const t=e[0];return e.slice(1).map(r=>{const a={};return t.forEach((s,l)=>{let c=r[l];if(c===void 0&&(c=null),typeof c=="string"&&(c.startsWith("{")||c.startsWith("[")))try{c=JSON.parse(c)}catch{}a[s]=c}),a})},Vo=e=>{if(typeof e=="number")return e;if(e==null||e==="")return 0;if(typeof e=="string"){const t=e.replace(/\./g,"").replace(",",".").replace(/[^\d.-]/g,"");return parseFloat(t)||0}return 0},Al=e=>{if(!e)return null;if(e instanceof Date)return isNaN(e.getTime())?null:e;if(typeof e=="string"){const t=e.trim();if(!t||t==="")return null;let n=new Date(t);if(!isNaN(n.getTime()))return n;const r=/^(\d{1,2})\/(\d{1,2})\/(\d{4})/.exec(t);if(r){const[,a,s,l]=r;if(n=new Date(parseInt(l),parseInt(s)-1,parseInt(a)),!isNaN(n.getTime()))return n}return null}if(typeof e=="number"){const t=new Date(e);return isNaN(t.getTime())?null:t}return null},cI=async(e,t)=>{try{console.log(`Iniciando restauracin desde Sheet ID: ${e}`),t&&t(0,"Descargando datos de Google Sheets...");const[n,r,a,s,l,c,d,h,m]=await Promise.all([mc(e,"Carreras!A:Z").catch(()=>[]),mc(e,"Gastos!A:Z").catch(()=>[]),mc(e,"Turnos!A:Z").catch(()=>[]),mc(e,"Proveedores!A:Z").catch(()=>[]),mc(e,"Conceptos!A:Z").catch(()=>[]),mc(e,"Talleres!A:Z").catch(()=>[]),mc(e,"Ajustes!A:B").catch(()=>[]),mc(e,"BreakConfiguration!A:B").catch(()=>[]),mc(e,"Excepciones!A:Z").catch(()=>[])]);t&&t(10,"Procesando datos..."),console.log(`Ledas filas: Carreras=${n.length}, Gastos=${r.length}, Turnos=${a.length}, Proveedores=${s.length}, Conceptos=${l.length}, Talleres=${c.length}, Excepciones=${m.length}`);const v=tf(n),y=tf(r),g=tf(a),T=tf(s),b=tf(l),A=tf(c),E=tf(m),D=v.map(K=>{const X=Al(K.fechaHora);return{...K,taximetro:Vo(K.taximetro),cobrado:Vo(K.cobrado),fechaHora:X||new Date}}),j=y.map(K=>{const X=Al(K.fecha);return{...K,importe:Vo(K.importe),baseImponible:Vo(K.baseImponible),ivaImporte:Vo(K.ivaImporte),ivaPorcentaje:Vo(K.ivaPorcentaje),kilometros:Vo(K.kilometros),kilometrosVehiculo:Vo(K.kilometrosVehiculo),descuento:Vo(K.descuento),fecha:X||new Date}}),R=g.map(K=>{const X=Al(K.fechaInicio),H=Al(K.fechaFin);return{...K,kilometrosInicio:Vo(K.kilometrosInicio),kilometrosFin:K.kilometrosFin?Vo(K.kilometrosFin):null,fechaInicio:X||new Date,fechaFin:H||null}}),q=K=>{if(K==null)return null;if(Array.isArray(K))return K.map(q);if(typeof K=="object"){const X={};for(const H in K)K[H]!==void 0&&(X[H]=q(K[H]));return X}return K};let Z=null;if(d.length>1){Z={};for(let K=1;K<d.length;K++){const[X,H]=d[K];if(X&&H!==null&&H!==void 0&&H!==""){const V=X.split(".");let ae=Z;for(let le=0;le<V.length-1;le++)ae[V[le]]||(ae[V[le]]={}),ae=ae[V[le]];let ce=H;if(typeof H=="string"&&(H.startsWith("{")||H.startsWith("[")))try{ce=JSON.parse(H)}catch{}ae[V[V.length-1]]=ce}}Z=q(Z),Z&&(Z.temaOscuro=Z.temaOscuro??!1,Z.tamanoFuente=Z.tamanoFuente??Z.tamoFuente??14,Z.letraDescanso=Z.letraDescanso??"",Z.objetivoDiario=Z.objetivoDiario??100,Z.temaColor=Z.temaColor??"azul",Z.altoContraste=Z.altoContraste??!1,Z.tamoFuente!==void 0&&delete Z.tamoFuente)}let I=null;if(h.length>1){I={};for(let K=1;K<h.length;K++){const[X,H]=h[K];if(X&&H!==null&&H!==void 0&&H!==""){const V=X.split(".");let ae=I;for(let le=0;le<V.length-1;le++)ae[V[le]]||(ae[V[le]]={}),ae=ae[V[le]];let ce=H;if(typeof H=="string"&&(H.startsWith("{")||H.startsWith("[")))try{ce=JSON.parse(H)}catch{}ae[V[V.length-1]]=ce}}I=q(I),I&&(I.startDate=I.startDate??"",I.startDayLetter=I.startDayLetter??"A",I.weekendPattern=I.weekendPattern??"Sabado: AC / Domingo: BD",I.userBreakLetter=I.userBreakLetter??"A")}const Y=E.map(K=>{const X=Al(K.fechaDesde),H=Al(K.fechaHasta),V=Al(K.createdAt);return{...K,fechaDesde:X||new Date,fechaHasta:H||new Date,createdAt:V||new Date}}),P=T.map(K=>{const X=Al(K.createdAt);return{...K,createdAt:X||new Date}}),Q=b.map(K=>{const X=Al(K.createdAt);return{...K,createdAt:X||new Date}}),O=A.map(K=>{const X=Al(K.createdAt);return{...K,createdAt:X||new Date}}),G={meta:{app:"TAppXI",version:"1.0",createdAt:new Date().toISOString()},carreras:D,gastos:j,turnos:R,proveedores:P,conceptos:Q,talleres:O,excepciones:Y,ajustes:Z,breakConfiguration:I};return await CA(G,t)}catch(n){throw console.error("Error en restoreFromGoogleSheets:",n),new Error(`Error al restaurar desde Google Sheets: ${n.message}`)}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var up={};up.version="0.18.5";var jA=1252,uI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DA=function(e){uI.indexOf(e)!=-1&&(jA=e)};function fI(){DA(1252)}var Wd=function(e){DA(e)};function hI(){Wd(1200),fI()}var _m=function(t){return String.fromCharCode(t)},$S=function(t){return String.fromCharCode(t)},fp,gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function $d(e){for(var t="",n=0,r=0,a=0,s=0,l=0,c=0,d=0,h=0;h<e.length;)n=e.charCodeAt(h++),s=n>>2,r=e.charCodeAt(h++),l=(n&3)<<4|r>>4,a=e.charCodeAt(h++),c=(r&15)<<2|a>>6,d=a&63,isNaN(r)?c=d=64:isNaN(a)&&(d=64),t+=gu.charAt(s)+gu.charAt(l)+gu.charAt(c)+gu.charAt(d);return t}function _c(e){var t="",n=0,r=0,a=0,s=0,l=0,c=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<e.length;)s=gu.indexOf(e.charAt(h++)),l=gu.indexOf(e.charAt(h++)),n=s<<2|l>>4,t+=String.fromCharCode(n),c=gu.indexOf(e.charAt(h++)),r=(l&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(r)),d=gu.indexOf(e.charAt(h++)),a=(c&3)<<6|d,d!==64&&(t+=String.fromCharCode(a));return t}var wr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Cc=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function yf(e){return wr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function YS(e){return wr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Yo=function(t){return wr?Cc(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function Ip(e){if(typeof ArrayBuffer>"u")return Yo(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=e.charCodeAt(r)&255;return t}function u1(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function dI(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Ci=wr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Cc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),a=0;for(t=0,n=0;t<e.length;n+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function mI(e){for(var t=[],n=0,r=e.length+250,a=yf(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)a[n++]=l;else if(l<2048)a[n++]=192|l>>6&31,a[n++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=e.charCodeAt(++s)&1023;a[n++]=240|l>>8&7,a[n++]=128|l>>2&63,a[n++]=128|c>>6&15|(l&3)<<4,a[n++]=128|c&63}else a[n++]=224|l>>12&15,a[n++]=128|l>>6&63,a[n++]=128|l&63;n>r&&(t.push(a.slice(0,n)),n=0,a=yf(65535),r=65530)}return t.push(a.slice(0,n)),Ci(t)}var xd=/\u0000/g,Tm=/[\u0001-\u0006]/g;function W0(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Xo(e,t){var n=""+e;return n.length>=t?n:Ca("0",t-n.length)+n}function O5(e,t){var n=""+e;return n.length>=t?n:Ca(" ",t-n.length)+n}function hp(e,t){var n=""+e;return n.length>=t?n:n+Ca(" ",t-n.length)}function pI(e,t){var n=""+Math.round(e);return n.length>=t?n:Ca("0",t-n.length)+n}function gI(e,t){var n=""+e;return n.length>=t?n:Ca("0",t-n.length)+n}var KS=Math.pow(2,32);function b0(e,t){if(e>KS||e<-KS)return pI(e,t);var n=Math.round(e);return gI(n,t)}function dp(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var XS=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],bx=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function xI(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ja={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},ZS={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},vI={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function mp(e,t,n){for(var r=e<0?-1:1,a=e*r,s=0,l=1,c=0,d=1,h=0,m=0,v=Math.floor(a);h<t&&(v=Math.floor(a),c=v*l+s,m=v*h+d,!(a-v<5e-8));)a=1/(a-v),s=l,l=c,d=h,h=m;if(m>t&&(h>t?(m=d,c=s):(m=h,c=l)),!n)return[0,r*c,m];var y=Math.floor(r*c/m);return[y,r*c-y*m,m]}function Am(e,t,n){if(e>2958465||e<0)return null;var r=e|0,a=Math.floor(86400*(e-r)),s=0,l=[],c={D:r,T:a,u:86400*(e-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(r+=1462),c.u>.9999&&(c.u=0,++a==86400&&(c.T=a=0,++r,++c.D)),r===60)l=n?[1317,10,29]:[1900,2,29],s=3;else if(r===0)l=n?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var d=new Date(1900,0,1);d.setDate(d.getDate()+r-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),r<60&&(s=(s+6)%7),n&&(s=TI(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=s,c}var kA=new Date(1899,11,31,0,0,0),yI=kA.getTime(),bI=new Date(1900,2,1,0,0,0);function LA(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=bI&&(n+=1440*60*1e3),(n-(yI+(e.getTimezoneOffset()-kA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function R5(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function wI(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SI(e){var t=e<0?12:11,n=R5(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function NI(e){var t=R5(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function _I(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=SI(e):t===10?n=e.toFixed(10).substr(0,12):n=NI(e),R5(wI(n.toUpperCase()))}function Tv(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):_I(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Au(14,LA(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function TI(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function AI(e,t,n,r){var a="",s=0,l=0,c=n.y,d,h=0;switch(e){case 98:c=n.y+543;case 121:switch(t.length){case 1:case 2:d=c%100,h=2;break;default:d=c%1e4,h=4;break}break;case 109:switch(t.length){case 1:case 2:d=n.m,h=t.length;break;case 3:return bx[n.m-1][1];case 5:return bx[n.m-1][0];default:return bx[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=n.d,h=t.length;break;case 3:return XS[n.q][0];default:return XS[n.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(n.H+11)%12,h=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=n.H,h=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=n.M,h=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Xo(n.S,t.length):(r>=2?l=r===3?1e3:100:l=r===1?10:1,s=Math.round(l*(n.S+n.u)),s>=60*l&&(s=0),t==="s"?s===0?"0":""+s/l:(a=Xo(s,2+r),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=n.D*24+n.H;break;case"[m]":case"[mm]":d=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":d=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}h=t.length===3?1:2;break;case 101:d=c,h=1;break}var m=h>0?Xo(d,h):"";return m}function xu(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var FA=/%/g;function EI(e,t,n){var r=t.replace(FA,""),a=t.length-r.length;return vc(e,r,n*Math.pow(10,2*a))+Ca("%",a)}function CI(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return vc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function OA(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+OA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),n.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+s):n+="E+"+(l-s);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,a)+"."+n.substr(2+a),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var RA=/# (\?+)( ?)\/( ?)(\d+)/;function jI(e,t,n){var r=parseInt(e[4],10),a=Math.round(t*r),s=Math.floor(a/r),l=a-s*r,c=r;return n+(s===0?"":""+s)+" "+(l===0?Ca(" ",e[1].length+1+e[4].length):O5(l,e[1].length)+e[2]+"/"+e[3]+Xo(c,e[4].length))}function DI(e,t,n){return n+(t===0?"":""+t)+Ca(" ",e[1].length+2+e[4].length)}var MA=/^#*0*\.([0#]+)/,zA=/\).*[0#]/,IA=/\(###\) ###\\?-####/;function Ji(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function JS(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function QS(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function kI(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function LI(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function uo(e,t,n){if(e.charCodeAt(0)===40&&!t.match(zA)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?uo("n",r,n):"("+uo("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return CI(e,t,n);if(t.indexOf("%")!==-1)return EI(e,t,n);if(t.indexOf("E")!==-1)return OA(t,n);if(t.charCodeAt(0)===36)return"$"+uo(e,t.substr(t.charAt(1)==" "?2:1),n);var a,s,l,c,d=Math.abs(n),h=n<0?"-":"";if(t.match(/^00+$/))return h+b0(d,t.length);if(t.match(/^[#?]+$/))return a=b0(n,0),a==="0"&&(a=""),a.length>t.length?a:Ji(t.substr(0,t.length-a.length))+a;if(s=t.match(RA))return jI(s,d,h);if(t.match(/^#+0+$/))return h+b0(d,t.length-t.indexOf("0"));if(s=t.match(MA))return a=JS(n,s[1].length).replace(/^([^\.]+)$/,"$1."+Ji(s[1])).replace(/\.$/,"."+Ji(s[1])).replace(/\.(\d*)$/,function(T,b){return"."+b+Ca("0",Ji(s[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return h+JS(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return h+xu(b0(d,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+uo(e,t,-n):xu(""+(Math.floor(n)+kI(n,s[1].length)))+"."+Xo(QS(n,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return uo(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=W0(uo(e,t.replace(/[\\-]/g,""),n)),l=0,W0(W0(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return l<a.length?a.charAt(l++):T==="0"?"0":""}));if(t.match(IA))return a=uo(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=mp(d,Math.pow(10,l)-1,!1),a=""+h,m=vc("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=hp(c[2],l),m.length<s[4].length&&(m=Ji(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=mp(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?O5(c[1],l)+s[2]+"/"+s[3]+hp(c[2],l):Ca(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=b0(n,0),t.length<=a.length?a:Ji(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var v=t.indexOf(".")-l,y=t.length-a.length-v;return Ji(t.substr(0,v)+a+t.substr(t.length-y))}if(s=t.match(/^00,000\.([#0]*0)$/))return l=QS(n,s[1].length),n<0?"-"+uo(e,t,-n):xu(LI(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Xo(0,3-T.length):"")+T})+"."+Xo(l,s[1].length);switch(t){case"###,##0.00":return uo(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var g=xu(b0(d,0));return g!=="0"?h+g:"";case"###,###.00":return uo(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return uo(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function FI(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return vc(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function OI(e,t,n){var r=t.replace(FA,""),a=t.length-r.length;return vc(e,r,n*Math.pow(10,2*a))+Ca("%",a)}function PA(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+PA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),n=(t/Math.pow(10,s)).toPrecision(r+1+(a+s)%a),!n.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(l-n.length+s):n+="E+"+(l-s),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,m){return d+h+m.substr(0,(a+s)%a)+"."+m.substr(s)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function Cl(e,t,n){if(e.charCodeAt(0)===40&&!t.match(zA)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Cl("n",r,n):"("+Cl("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return FI(e,t,n);if(t.indexOf("%")!==-1)return OI(e,t,n);if(t.indexOf("E")!==-1)return PA(t,n);if(t.charCodeAt(0)===36)return"$"+Cl(e,t.substr(t.charAt(1)==" "?2:1),n);var a,s,l,c,d=Math.abs(n),h=n<0?"-":"";if(t.match(/^00+$/))return h+Xo(d,t.length);if(t.match(/^[#?]+$/))return a=""+n,n===0&&(a=""),a.length>t.length?a:Ji(t.substr(0,t.length-a.length))+a;if(s=t.match(RA))return DI(s,d,h);if(t.match(/^#+0+$/))return h+Xo(d,t.length-t.indexOf("0"));if(s=t.match(MA))return a=(""+n).replace(/^([^\.]+)$/,"$1."+Ji(s[1])).replace(/\.$/,"."+Ji(s[1])),a=a.replace(/\.(\d*)$/,function(T,b){return"."+b+Ca("0",Ji(s[1]).length-b.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return h+xu(""+d);if(s=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Cl(e,t,-n):xu(""+n)+"."+Ca("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Cl(e,t.replace(/^#,#*,/,""),n);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=W0(Cl(e,t.replace(/[\\-]/g,""),n)),l=0,W0(W0(t.replace(/\\/g,"")).replace(/[0#]/g,function(T){return l<a.length?a.charAt(l++):T==="0"?"0":""}));if(t.match(IA))return a=Cl(e,"##########",n),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var m="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),c=mp(d,Math.pow(10,l)-1,!1),a=""+h,m=vc("n",s[1],c[1]),m.charAt(m.length-1)==" "&&(m=m.substr(0,m.length-1)+"0"),a+=m+s[2]+"/"+s[3],m=hp(c[2],l),m.length<s[4].length&&(m=Ji(s[4].substr(s[4].length-m.length))+m),a+=m,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),c=mp(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?O5(c[1],l)+s[2]+"/"+s[3]+hp(c[2],l):Ca(" ",2*l+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+n,t.length<=a.length?a:Ji(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+n.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var v=t.indexOf(".")-l,y=t.length-a.length-v;return Ji(t.substr(0,v)+a+t.substr(t.length-y))}if(s=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+Cl(e,t,-n):xu(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(T){return"00,"+(T.length<3?Xo(0,3-T.length):"")+T})+"."+Xo(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=xu(""+d);return g!=="0"?h+g:"";default:if(t.match(/\.[0#?]*$/))return Cl(e,t.slice(0,t.lastIndexOf(".")),n)+Ji(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function vc(e,t,n){return(n|0)===n?Cl(e,t,n):uo(e,t,n)}function RI(e){for(var t=[],n=!1,r=0,a=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(a,r-a),a=r+1}if(t[t.length]=e.substr(a),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var BA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function UA(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":dp(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(BA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function MI(e,t,n,r){for(var a=[],s="",l=0,c="",d="t",h,m,v,y="H";l<e.length;)switch(c=e.charAt(l)){case"G":if(!dp(e,l))throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(v=e.charCodeAt(++l))!==34&&l<e.length;)s+=String.fromCharCode(v);a[a.length]={t:"t",v:s},++l;break;case"\\":var g=e.charAt(++l),T=g==="("||g===")"?g:"t";a[a.length]={t:T,v:g},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(h==null&&(h=Am(t,n,e.charAt(l+1)==="2"),h==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||h==null&&(h=Am(t,n),h==null))return"";for(s=c;++l<e.length&&e.charAt(l).toLowerCase()===c;)s+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=y),a[a.length]={t:c,v:s},d=c;break;case"A":case"a":case"":var b={t:c,v:c};if(h==null&&(h=Am(t,n)),e.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(b.v=h.H>=12?"P":"A"),b.t="T",y="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(b.v=h.H>=12?"PM":"AM"),b.t="T",l+=5,y="h"):e.substr(l,5).toUpperCase()==="/"?(h!=null&&(b.v=h.H>=12?"":""),b.t="T",l+=5,y="h"):(b.t="t",++l),h==null&&b.t==="T")return"";a[a.length]=b,d=c;break;case"[":for(s=c;e.charAt(l++)!=="]"&&l<e.length;)s+=e.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(BA)){if(h==null&&(h=Am(t,n),h==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",UA(e)||(a[a.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=c;++l<e.length&&(c=e.charAt(l))==="0";)s+=c;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=c;++l<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(l))>-1;)s+=c;a[a.length]={t:"n",v:s};break;case"?":for(s=c;e.charAt(++l)===c;)s+=c;a[a.length]={t:c,v:s},d=c;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:r===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=c;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)s+=e.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:c,v:c},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"t",v:c},++l;break}var A=0,E=0,D;for(l=a.length-1,d="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=y,d="h",A<1&&(A=1);break;case"s":(D=a[l].v.match(/\.0+$/))&&(E=Math.max(E,D[0].length-1)),A<3&&(A=3);case"d":case"y":case"M":case"e":d=a[l].t;break;case"m":d==="s"&&(a[l].t="M",A<2&&(A=2));break;case"X":break;case"Z":A<1&&a[l].v.match(/[Hh]/)&&(A=1),A<2&&a[l].v.match(/[Mm]/)&&(A=2),A<3&&a[l].v.match(/[Ss]/)&&(A=3)}switch(A){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var j="",R;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=AI(a[l].t.charCodeAt(0),a[l].v,h,E),a[l].t="t";break;case"n":case"?":for(R=l+1;a[R]!=null&&((c=a[R].t)==="?"||c==="D"||(c===" "||c==="t")&&a[R+1]!=null&&(a[R+1].t==="?"||a[R+1].t==="t"&&a[R+1].v==="/")||a[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(a[R].v==="/"||a[R].v===" "&&a[R+1]!=null&&a[R+1].t=="?"));)a[l].v+=a[R].v,a[R]={v:"",t:";"},++R;j+=a[l].v,l=R-1;break;case"G":a[l].t="t",a[l].v=Tv(t,n);break}var q="",Z,I;if(j.length>0){j.charCodeAt(0)==40?(Z=t<0&&j.charCodeAt(0)===45?-t:t,I=vc("n",j,Z)):(Z=t<0&&r>1?-t:t,I=vc("n",j,Z),Z<0&&a[0]&&a[0].t=="t"&&(I=I.substr(1),a[0].v="-"+a[0].v)),R=I.length-1;var Y=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){Y=l;break}var P=a.length;if(Y===a.length&&I.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(R>=a[l].v.length-1?(R-=a[l].v.length,a[l].v=I.substr(R+1,a[l].v.length)):R<0?a[l].v="":(a[l].v=I.substr(0,R+1),R=-1),a[l].t="t",P=l);R>=0&&P<a.length&&(a[P].v=I.substr(0,R+1)+a[P].v)}else if(Y!==a.length&&I.indexOf("E")===-1){for(R=I.indexOf(".")-1,l=Y;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(m=a[l].v.indexOf(".")>-1&&l===Y?a[l].v.indexOf(".")-1:a[l].v.length-1,q=a[l].v.substr(m+1);m>=0;--m)R>=0&&(a[l].v.charAt(m)==="0"||a[l].v.charAt(m)==="#")&&(q=I.charAt(R--)+q);a[l].v=q,a[l].t="t",P=l}for(R>=0&&P<a.length&&(a[P].v=I.substr(0,R+1)+a[P].v),R=I.indexOf(".")+1,l=Y;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==Y)){for(m=a[l].v.indexOf(".")>-1&&l===Y?a[l].v.indexOf(".")+1:0,q=a[l].v.substr(0,m);m<a[l].v.length;++m)R<I.length&&(q+=I.charAt(R++));a[l].v=q,a[l].t="t",P=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(Z=r>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=vc(a[l].t,a[l].v,Z),a[l].t="t");var Q="";for(l=0;l!==a.length;++l)a[l]!=null&&(Q+=a[l].v);return Q}var e6=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function t6(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function zI(e,t){var n=RI(e),r=n.length,a=n[r-1].indexOf("@");if(r<4&&a>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||a>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=a>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=a>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=a>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var s=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,s];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var l=n[0].match(e6),c=n[1].match(e6);return t6(t,l)?[r,n[0]]:t6(t,c)?[r,n[1]]:[r,n[l!=null&&c!=null?2:1]]}return[r,s]}function Au(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:ja)[e],r==null&&(r=n.table&&n.table[ZS[e]]||ja[ZS[e]]),r==null&&(r=vI[e]||"General");break}if(dp(r,0))return Tv(t,n);t instanceof Date&&(t=LA(t,n.date1904));var a=zI(r,t);if(dp(a[1]))return Tv(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return MI(a[1],t,n,a[0])}function HA(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(ja[n]==null){t<0&&(t=n);continue}if(ja[n]==e){t=n;break}}t<0&&(t=391)}return ja[t]=e,t}function Pp(e){for(var t=0;t!=392;++t)e[t]!==void 0&&HA(e[t],t)}function Bp(){ja=xI()}var VA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function II(e){var t=typeof e=="number"?ja[e]:e;return t=t.replace(VA,"(\\d+)"),new RegExp("^"+t+"$")}function PI(e,t,n){var r=-1,a=-1,s=-1,l=-1,c=-1,d=-1;(t.match(VA)||[]).forEach(function(v,y){var g=parseInt(n[y+1],10);switch(v.toLowerCase().charAt(0)){case"y":r=g;break;case"d":s=g;break;case"h":l=g;break;case"s":d=g;break;case"m":l>=0?c=g:a=g;break}}),d>=0&&c==-1&&a>=0&&(c=a,a=-1);var h=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var m=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?h:r==-1&&a==-1&&s==-1?m:h+"T"+m}var BI=(function(){var e={};e.version="1.2.0";function t(){for(var I=0,Y=new Array(256),P=0;P!=256;++P)I=P,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,Y[P]=I;return typeof Int32Array<"u"?new Int32Array(Y):Y}var n=t();function r(I){var Y=0,P=0,Q=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(Q=0;Q!=256;++Q)O[Q]=I[Q];for(Q=0;Q!=256;++Q)for(P=I[Q],Y=256+Q;Y<4096;Y+=256)P=O[Y]=P>>>8^I[P&255];var G=[];for(Q=1;Q!=16;++Q)G[Q-1]=typeof Int32Array<"u"?O.subarray(Q*256,Q*256+256):O.slice(Q*256,Q*256+256);return G}var a=r(n),s=a[0],l=a[1],c=a[2],d=a[3],h=a[4],m=a[5],v=a[6],y=a[7],g=a[8],T=a[9],b=a[10],A=a[11],E=a[12],D=a[13],j=a[14];function R(I,Y){for(var P=Y^-1,Q=0,O=I.length;Q<O;)P=P>>>8^n[(P^I.charCodeAt(Q++))&255];return~P}function q(I,Y){for(var P=Y^-1,Q=I.length-15,O=0;O<Q;)P=j[I[O++]^P&255]^D[I[O++]^P>>8&255]^E[I[O++]^P>>16&255]^A[I[O++]^P>>>24]^b[I[O++]]^T[I[O++]]^g[I[O++]]^y[I[O++]]^v[I[O++]]^m[I[O++]]^h[I[O++]]^d[I[O++]]^c[I[O++]]^l[I[O++]]^s[I[O++]]^n[I[O++]];for(Q+=15;O<Q;)P=P>>>8^n[(P^I[O++])&255];return~P}function Z(I,Y){for(var P=Y^-1,Q=0,O=I.length,G=0,K=0;Q<O;)G=I.charCodeAt(Q++),G<128?P=P>>>8^n[(P^G)&255]:G<2048?(P=P>>>8^n[(P^(192|G>>6&31))&255],P=P>>>8^n[(P^(128|G&63))&255]):G>=55296&&G<57344?(G=(G&1023)+64,K=I.charCodeAt(Q++)&1023,P=P>>>8^n[(P^(240|G>>8&7))&255],P=P>>>8^n[(P^(128|G>>2&63))&255],P=P>>>8^n[(P^(128|K>>6&15|(G&3)<<4))&255],P=P>>>8^n[(P^(128|K&63))&255]):(P=P>>>8^n[(P^(224|G>>12&15))&255],P=P>>>8^n[(P^(128|G>>6&63))&255],P=P>>>8^n[(P^(128|G&63))&255]);return~P}return e.table=n,e.bstr=R,e.buf=q,e.str=Z,e})(),Br=(function(){var t={};t.version="1.2.1";function n(ne,ye){for(var fe=ne.split("/"),he=ye.split("/"),ge=0,be=0,Pe=Math.min(fe.length,he.length);ge<Pe;++ge){if(be=fe[ge].length-he[ge].length)return be;if(fe[ge]!=he[ge])return fe[ge]<he[ge]?-1:1}return fe.length-he.length}function r(ne){if(ne.charAt(ne.length-1)=="/")return ne.slice(0,-1).indexOf("/")===-1?ne:r(ne.slice(0,-1));var ye=ne.lastIndexOf("/");return ye===-1?ne:ne.slice(0,ye+1)}function a(ne){if(ne.charAt(ne.length-1)=="/")return a(ne.slice(0,-1));var ye=ne.lastIndexOf("/");return ye===-1?ne:ne.slice(ye+1)}function s(ne,ye){typeof ye=="string"&&(ye=new Date(ye));var fe=ye.getHours();fe=fe<<6|ye.getMinutes(),fe=fe<<5|ye.getSeconds()>>>1,ne.write_shift(2,fe);var he=ye.getFullYear()-1980;he=he<<4|ye.getMonth()+1,he=he<<5|ye.getDate(),ne.write_shift(2,he)}function l(ne){var ye=ne.read_shift(2)&65535,fe=ne.read_shift(2)&65535,he=new Date,ge=fe&31;fe>>>=5;var be=fe&15;fe>>>=4,he.setMilliseconds(0),he.setFullYear(fe+1980),he.setMonth(be-1),he.setDate(ge);var Pe=ye&31;ye>>>=5;var Je=ye&63;return ye>>>=6,he.setHours(ye),he.setMinutes(Je),he.setSeconds(Pe<<1),he}function c(ne){Ps(ne,0);for(var ye={},fe=0;ne.l<=ne.length-4;){var he=ne.read_shift(2),ge=ne.read_shift(2),be=ne.l+ge,Pe={};switch(he){case 21589:fe=ne.read_shift(1),fe&1&&(Pe.mtime=ne.read_shift(4)),ge>5&&(fe&2&&(Pe.atime=ne.read_shift(4)),fe&4&&(Pe.ctime=ne.read_shift(4))),Pe.mtime&&(Pe.mt=new Date(Pe.mtime*1e3));break}ne.l=be,ye[he]=Pe}return ye}var d;function h(){return d||(d={})}function m(ne,ye){if(ne[0]==80&&ne[1]==75)return Fn(ne,ye);if((ne[0]|32)==109&&(ne[1]|32)==105)return kt(ne,ye);if(ne.length<512)throw new Error("CFB file size "+ne.length+" < 512");var fe=3,he=512,ge=0,be=0,Pe=0,Je=0,Ue=0,Re=[],He=ne.slice(0,512);Ps(He,0);var ht=v(He);switch(fe=ht[0],fe){case 3:he=512;break;case 4:he=4096;break;case 0:if(ht[1]==0)return Fn(ne,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+fe)}he!==512&&(He=ne.slice(0,he),Ps(He,28));var yt=ne.slice(0,he);y(He,fe);var Tt=He.read_shift(4,"i");if(fe===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);He.l+=4,Pe=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Je=He.read_shift(4,"i"),ge=He.read_shift(4,"i"),Ue=He.read_shift(4,"i"),be=He.read_shift(4,"i");for(var xt=-1,Nt=0;Nt<109&&(xt=He.read_shift(4,"i"),!(xt<0));++Nt)Re[Nt]=xt;var Mt=g(ne,he);A(Ue,be,Mt,he,Re);var Qn=D(Mt,Pe,Re,he);Qn[Pe].name="!Directory",ge>0&&Je!==K&&(Qn[Je].name="!MiniFAT"),Qn[Re[0]].name="!FAT",Qn.fat_addrs=Re,Qn.ssz=he;var On={},er=[],ga=[],$a=[];j(Pe,Qn,Mt,er,ge,On,ga,Je),T(ga,$a,er),er.shift();var yi={FileIndex:ga,FullPaths:$a};return ye&&ye.raw&&(yi.raw={header:yt,sectors:Mt}),yi}function v(ne){if(ne[ne.l]==80&&ne[ne.l+1]==75)return[0,0];ne.chk(X,"Header Signature: "),ne.l+=16;var ye=ne.read_shift(2,"u");return[ne.read_shift(2,"u"),ye]}function y(ne,ye){var fe=9;switch(ne.l+=2,fe=ne.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+fe);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+fe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+fe)}ne.chk("0600","Mini Sector Shift: "),ne.chk("000000000000","Reserved: ")}function g(ne,ye){for(var fe=Math.ceil(ne.length/ye)-1,he=[],ge=1;ge<fe;++ge)he[ge-1]=ne.slice(ge*ye,(ge+1)*ye);return he[fe-1]=ne.slice(fe*ye),he}function T(ne,ye,fe){for(var he=0,ge=0,be=0,Pe=0,Je=0,Ue=fe.length,Re=[],He=[];he<Ue;++he)Re[he]=He[he]=he,ye[he]=fe[he];for(;Je<He.length;++Je)he=He[Je],ge=ne[he].L,be=ne[he].R,Pe=ne[he].C,Re[he]===he&&(ge!==-1&&Re[ge]!==ge&&(Re[he]=Re[ge]),be!==-1&&Re[be]!==be&&(Re[he]=Re[be])),Pe!==-1&&(Re[Pe]=he),ge!==-1&&he!=Re[he]&&(Re[ge]=Re[he],He.lastIndexOf(ge)<Je&&He.push(ge)),be!==-1&&he!=Re[he]&&(Re[be]=Re[he],He.lastIndexOf(be)<Je&&He.push(be));for(he=1;he<Ue;++he)Re[he]===he&&(be!==-1&&Re[be]!==be?Re[he]=Re[be]:ge!==-1&&Re[ge]!==ge&&(Re[he]=Re[ge]));for(he=1;he<Ue;++he)if(ne[he].type!==0){if(Je=he,Je!=Re[Je])do Je=Re[Je],ye[he]=ye[Je]+"/"+ye[he];while(Je!==0&&Re[Je]!==-1&&Je!=Re[Je]);Re[he]=-1}for(ye[0]+="/",he=1;he<Ue;++he)ne[he].type!==2&&(ye[he]+="/")}function b(ne,ye,fe){for(var he=ne.start,ge=ne.size,be=[],Pe=he;fe&&ge>0&&Pe>=0;)be.push(ye.slice(Pe*G,Pe*G+G)),ge-=G,Pe=sf(fe,Pe*4);return be.length===0?at(0):Ci(be).slice(0,ne.size)}function A(ne,ye,fe,he,ge){var be=K;if(ne===K){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(ne!==-1){var Pe=fe[ne],Je=(he>>>2)-1;if(!Pe)return;for(var Ue=0;Ue<Je&&(be=sf(Pe,Ue*4))!==K;++Ue)ge.push(be);A(sf(Pe,he-4),ye-1,fe,he,ge)}}function E(ne,ye,fe,he,ge){var be=[],Pe=[];ge||(ge=[]);var Je=he-1,Ue=0,Re=0;for(Ue=ye;Ue>=0;){ge[Ue]=!0,be[be.length]=Ue,Pe.push(ne[Ue]);var He=fe[Math.floor(Ue*4/he)];if(Re=Ue*4&Je,he<4+Re)throw new Error("FAT boundary crossed: "+Ue+" 4 "+he);if(!ne[He])break;Ue=sf(ne[He],Re)}return{nodes:be,data:c6([Pe])}}function D(ne,ye,fe,he){var ge=ne.length,be=[],Pe=[],Je=[],Ue=[],Re=he-1,He=0,ht=0,yt=0,Tt=0;for(He=0;He<ge;++He)if(Je=[],yt=He+ye,yt>=ge&&(yt-=ge),!Pe[yt]){Ue=[];var xt=[];for(ht=yt;ht>=0;){xt[ht]=!0,Pe[ht]=!0,Je[Je.length]=ht,Ue.push(ne[ht]);var Nt=fe[Math.floor(ht*4/he)];if(Tt=ht*4&Re,he<4+Tt)throw new Error("FAT boundary crossed: "+ht+" 4 "+he);if(!ne[Nt]||(ht=sf(ne[Nt],Tt),xt[ht]))break}be[yt]={nodes:Je,data:c6([Ue])}}return be}function j(ne,ye,fe,he,ge,be,Pe,Je){for(var Ue=0,Re=he.length?2:0,He=ye[ne].data,ht=0,yt=0,Tt;ht<He.length;ht+=128){var xt=He.slice(ht,ht+128);Ps(xt,64),yt=xt.read_shift(2),Tt=B5(xt,0,yt-Re),he.push(Tt);var Nt={name:Tt,type:xt.read_shift(1),color:xt.read_shift(1),L:xt.read_shift(4,"i"),R:xt.read_shift(4,"i"),C:xt.read_shift(4,"i"),clsid:xt.read_shift(16),state:xt.read_shift(4,"i"),start:0,size:0},Mt=xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2);Mt!==0&&(Nt.ct=R(xt,xt.l-8));var Qn=xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2)+xt.read_shift(2);Qn!==0&&(Nt.mt=R(xt,xt.l-8)),Nt.start=xt.read_shift(4,"i"),Nt.size=xt.read_shift(4,"i"),Nt.size<0&&Nt.start<0&&(Nt.size=Nt.type=0,Nt.start=K,Nt.name=""),Nt.type===5?(Ue=Nt.start,ge>0&&Ue!==K&&(ye[Ue].name="!StreamData")):Nt.size>=4096?(Nt.storage="fat",ye[Nt.start]===void 0&&(ye[Nt.start]=E(fe,Nt.start,ye.fat_addrs,ye.ssz)),ye[Nt.start].name=Nt.name,Nt.content=ye[Nt.start].data.slice(0,Nt.size)):(Nt.storage="minifat",Nt.size<0?Nt.size=0:Ue!==K&&Nt.start!==K&&ye[Ue]&&(Nt.content=b(Nt,ye[Ue].data,(ye[Je]||{}).data))),Nt.content&&Ps(Nt.content,0),be[Tt]=Nt,Pe.push(Nt)}}function R(ne,ye){return new Date((Us(ne,ye+4)/1e7*Math.pow(2,32)+Us(ne,ye)/1e7-11644473600)*1e3)}function q(ne,ye){return h(),m(d.readFileSync(ne),ye)}function Z(ne,ye){var fe=ye&&ye.type;switch(fe||wr&&Buffer.isBuffer(ne)&&(fe="buffer"),fe||"base64"){case"file":return q(ne,ye);case"base64":return m(Yo(_c(ne)),ye);case"binary":return m(Yo(ne),ye)}return m(ne,ye)}function I(ne,ye){var fe=ye||{},he=fe.root||"Root Entry";if(ne.FullPaths||(ne.FullPaths=[]),ne.FileIndex||(ne.FileIndex=[]),ne.FullPaths.length!==ne.FileIndex.length)throw new Error("inconsistent CFB structure");ne.FullPaths.length===0&&(ne.FullPaths[0]=he+"/",ne.FileIndex[0]={name:he,type:5}),fe.CLSID&&(ne.FileIndex[0].clsid=fe.CLSID),Y(ne)}function Y(ne){var ye="Sh33tJ5";if(!Br.find(ne,"/"+ye)){var fe=at(4);fe[0]=55,fe[1]=fe[3]=50,fe[2]=54,ne.FileIndex.push({name:ye,type:2,content:fe,size:4,L:69,R:69,C:69}),ne.FullPaths.push(ne.FullPaths[0]+ye),P(ne)}}function P(ne,ye){I(ne);for(var fe=!1,he=!1,ge=ne.FullPaths.length-1;ge>=0;--ge){var be=ne.FileIndex[ge];switch(be.type){case 0:he?fe=!0:(ne.FileIndex.pop(),ne.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(be.R*be.L*be.C)&&(fe=!0),be.R>-1&&be.L>-1&&be.R==be.L&&(fe=!0);break;default:fe=!0;break}}if(!(!fe&&!ye)){var Pe=new Date(1987,1,19),Je=0,Ue=Object.create?Object.create(null):{},Re=[];for(ge=0;ge<ne.FullPaths.length;++ge)Ue[ne.FullPaths[ge]]=!0,ne.FileIndex[ge].type!==0&&Re.push([ne.FullPaths[ge],ne.FileIndex[ge]]);for(ge=0;ge<Re.length;++ge){var He=r(Re[ge][0]);he=Ue[He],he||(Re.push([He,{name:a(He).replace("/",""),type:1,clsid:V,ct:Pe,mt:Pe,content:null}]),Ue[He]=!0)}for(Re.sort(function(Tt,xt){return n(Tt[0],xt[0])}),ne.FullPaths=[],ne.FileIndex=[],ge=0;ge<Re.length;++ge)ne.FullPaths[ge]=Re[ge][0],ne.FileIndex[ge]=Re[ge][1];for(ge=0;ge<Re.length;++ge){var ht=ne.FileIndex[ge],yt=ne.FullPaths[ge];if(ht.name=a(yt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||V,ge===0)ht.C=Re.length>1?1:-1,ht.size=0,ht.type=5;else if(yt.slice(-1)=="/"){for(Je=ge+1;Je<Re.length&&r(ne.FullPaths[Je])!=yt;++Je);for(ht.C=Je>=Re.length?-1:Je,Je=ge+1;Je<Re.length&&r(ne.FullPaths[Je])!=r(yt);++Je);ht.R=Je>=Re.length?-1:Je,ht.type=1}else r(ne.FullPaths[ge+1]||"")==r(yt)&&(ht.R=ge+1),ht.type=2}}}function Q(ne,ye){var fe=ye||{};if(fe.fileType=="mad")return rr(ne,fe);switch(P(ne),fe.fileType){case"zip":return _n(ne,fe)}var he=(function(Tt){for(var xt=0,Nt=0,Mt=0;Mt<Tt.FileIndex.length;++Mt){var Qn=Tt.FileIndex[Mt];if(Qn.content){var On=Qn.content.length;On>0&&(On<4096?xt+=On+63>>6:Nt+=On+511>>9)}}for(var er=Tt.FullPaths.length+3>>2,ga=xt+7>>3,$a=xt+127>>7,yi=ga+Nt+er+$a,ka=yi+127>>7,Li=ka<=109?0:Math.ceil((ka-109)/127);yi+ka+Li+127>>7>ka;)Li=++ka<=109?0:Math.ceil((ka-109)/127);var Oe=[1,Li,ka,$a,er,Nt,xt,0];return Tt.FileIndex[0].size=xt<<6,Oe[7]=(Tt.FileIndex[0].start=Oe[0]+Oe[1]+Oe[2]+Oe[3]+Oe[4]+Oe[5])+(Oe[6]+7>>3),Oe})(ne),ge=at(he[7]<<9),be=0,Pe=0;{for(be=0;be<8;++be)ge.write_shift(1,H[be]);for(be=0;be<8;++be)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),be=0;be<3;++be)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:K),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:K),ge.write_shift(4,he[1]),be=0;be<109;++be)ge.write_shift(-4,be<he[2]?he[1]+be:-1)}if(he[1])for(Pe=0;Pe<he[1];++Pe){for(;be<236+Pe*127;++be)ge.write_shift(-4,be<he[2]?he[1]+be:-1);ge.write_shift(-4,Pe===he[1]-1?K:Pe+1)}var Je=function(Tt){for(Pe+=Tt;be<Pe-1;++be)ge.write_shift(-4,be+1);Tt&&(++be,ge.write_shift(-4,K))};for(Pe=be=0,Pe+=he[1];be<Pe;++be)ge.write_shift(-4,ae.DIFSECT);for(Pe+=he[2];be<Pe;++be)ge.write_shift(-4,ae.FATSECT);Je(he[3]),Je(he[4]);for(var Ue=0,Re=0,He=ne.FileIndex[0];Ue<ne.FileIndex.length;++Ue)He=ne.FileIndex[Ue],He.content&&(Re=He.content.length,!(Re<4096)&&(He.start=Pe,Je(Re+511>>9)));for(Je(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,ae.ENDOFCHAIN);for(Pe=be=0,Ue=0;Ue<ne.FileIndex.length;++Ue)He=ne.FileIndex[Ue],He.content&&(Re=He.content.length,!(!Re||Re>=4096)&&(He.start=Pe,Je(Re+63>>6)));for(;ge.l&511;)ge.write_shift(-4,ae.ENDOFCHAIN);for(be=0;be<he[4]<<2;++be){var ht=ne.FullPaths[be];if(!ht||ht.length===0){for(Ue=0;Ue<17;++Ue)ge.write_shift(4,0);for(Ue=0;Ue<3;++Ue)ge.write_shift(4,-1);for(Ue=0;Ue<12;++Ue)ge.write_shift(4,0);continue}He=ne.FileIndex[be],be===0&&(He.start=He.size?He.start-1:K);var yt=be===0&&fe.root||He.name;if(Re=2*(yt.length+1),ge.write_shift(64,yt,"utf16le"),ge.write_shift(2,Re),ge.write_shift(1,He.type),ge.write_shift(1,He.color),ge.write_shift(-4,He.L),ge.write_shift(-4,He.R),ge.write_shift(-4,He.C),He.clsid)ge.write_shift(16,He.clsid,"hex");else for(Ue=0;Ue<4;++Ue)ge.write_shift(4,0);ge.write_shift(4,He.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,He.start),ge.write_shift(4,He.size),ge.write_shift(4,0)}for(be=1;be<ne.FileIndex.length;++be)if(He=ne.FileIndex[be],He.size>=4096)if(ge.l=He.start+1<<9,wr&&Buffer.isBuffer(He.content))He.content.copy(ge,ge.l,0,He.size),ge.l+=He.size+511&-512;else{for(Ue=0;Ue<He.size;++Ue)ge.write_shift(1,He.content[Ue]);for(;Ue&511;++Ue)ge.write_shift(1,0)}for(be=1;be<ne.FileIndex.length;++be)if(He=ne.FileIndex[be],He.size>0&&He.size<4096)if(wr&&Buffer.isBuffer(He.content))He.content.copy(ge,ge.l,0,He.size),ge.l+=He.size+63&-64;else{for(Ue=0;Ue<He.size;++Ue)ge.write_shift(1,He.content[Ue]);for(;Ue&63;++Ue)ge.write_shift(1,0)}if(wr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function O(ne,ye){var fe=ne.FullPaths.map(function(Ue){return Ue.toUpperCase()}),he=fe.map(function(Ue){var Re=Ue.split("/");return Re[Re.length-(Ue.slice(-1)=="/"?2:1)]}),ge=!1;ye.charCodeAt(0)===47?(ge=!0,ye=fe[0].slice(0,-1)+ye):ge=ye.indexOf("/")!==-1;var be=ye.toUpperCase(),Pe=ge===!0?fe.indexOf(be):he.indexOf(be);if(Pe!==-1)return ne.FileIndex[Pe];var Je=!be.match(Tm);for(be=be.replace(xd,""),Je&&(be=be.replace(Tm,"!")),Pe=0;Pe<fe.length;++Pe)if((Je?fe[Pe].replace(Tm,"!"):fe[Pe]).replace(xd,"")==be||(Je?he[Pe].replace(Tm,"!"):he[Pe]).replace(xd,"")==be)return ne.FileIndex[Pe];return null}var G=64,K=-2,X="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",ae={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:K,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(ne,ye,fe){h();var he=Q(ne,fe);d.writeFileSync(ye,he)}function le(ne){for(var ye=new Array(ne.length),fe=0;fe<ne.length;++fe)ye[fe]=String.fromCharCode(ne[fe]);return ye.join("")}function me(ne,ye){var fe=Q(ne,ye);switch(ye&&ye.type||"buffer"){case"file":return h(),d.writeFileSync(ye.filename,fe),fe;case"binary":return typeof fe=="string"?fe:le(fe);case"base64":return $d(typeof fe=="string"?fe:le(fe));case"buffer":if(wr)return Buffer.isBuffer(fe)?fe:Cc(fe);case"array":return typeof fe=="string"?Yo(fe):fe}return fe}var M;function N(ne){try{var ye=ne.InflateRaw,fe=new ye;if(fe._processChunk(new Uint8Array([3,0]),fe._finishFlushFlag),fe.bytesRead)M=ne;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function F(ne,ye){if(!M)return mn(ne,ye);var fe=M.InflateRaw,he=new fe,ge=he._processChunk(ne.slice(ne.l),he._finishFlushFlag);return ne.l+=he.bytesRead,ge}function L(ne){return M?M.deflateRawSync(ne):tn(ne)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ne(ne){var ye=(ne<<1|ne<<11)&139536|(ne<<5|ne<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var se=typeof Uint8Array<"u",ve=se?new Uint8Array(256):[],je=0;je<256;++je)ve[je]=Ne(je);function ke(ne,ye){var fe=ve[ne&255];return ye<=8?fe>>>8-ye:(fe=fe<<8|ve[ne>>8&255],ye<=16?fe>>>16-ye:(fe=fe<<8|ve[ne>>16&255],fe>>>24-ye))}function Ge(ne,ye){var fe=ye&7,he=ye>>>3;return(ne[he]|(fe<=6?0:ne[he+1]<<8))>>>fe&3}function Te(ne,ye){var fe=ye&7,he=ye>>>3;return(ne[he]|(fe<=5?0:ne[he+1]<<8))>>>fe&7}function xe(ne,ye){var fe=ye&7,he=ye>>>3;return(ne[he]|(fe<=4?0:ne[he+1]<<8))>>>fe&15}function gt(ne,ye){var fe=ye&7,he=ye>>>3;return(ne[he]|(fe<=3?0:ne[he+1]<<8))>>>fe&31}function Xe(ne,ye){var fe=ye&7,he=ye>>>3;return(ne[he]|(fe<=1?0:ne[he+1]<<8))>>>fe&127}function wt(ne,ye,fe){var he=ye&7,ge=ye>>>3,be=(1<<fe)-1,Pe=ne[ge]>>>he;return fe<8-he||(Pe|=ne[ge+1]<<8-he,fe<16-he)||(Pe|=ne[ge+2]<<16-he,fe<24-he)||(Pe|=ne[ge+3]<<24-he),Pe&be}function Ze(ne,ye,fe){var he=ye&7,ge=ye>>>3;return he<=5?ne[ge]|=(fe&7)<<he:(ne[ge]|=fe<<he&255,ne[ge+1]=(fe&7)>>8-he),ye+3}function Et(ne,ye,fe){var he=ye&7,ge=ye>>>3;return fe=(fe&1)<<he,ne[ge]|=fe,ye+1}function St(ne,ye,fe){var he=ye&7,ge=ye>>>3;return fe<<=he,ne[ge]|=fe&255,fe>>>=8,ne[ge+1]=fe,ye+8}function Kt(ne,ye,fe){var he=ye&7,ge=ye>>>3;return fe<<=he,ne[ge]|=fe&255,fe>>>=8,ne[ge+1]=fe&255,ne[ge+2]=fe>>>8,ye+16}function Lt(ne,ye){var fe=ne.length,he=2*fe>ye?2*fe:ye+5,ge=0;if(fe>=ye)return ne;if(wr){var be=YS(he);if(ne.copy)ne.copy(be);else for(;ge<ne.length;++ge)be[ge]=ne[ge];return be}else if(se){var Pe=new Uint8Array(he);if(Pe.set)Pe.set(ne);else for(;ge<fe;++ge)Pe[ge]=ne[ge];return Pe}return ne.length=he,ne}function qt(ne){for(var ye=new Array(ne),fe=0;fe<ne;++fe)ye[fe]=0;return ye}function rn(ne,ye,fe){var he=1,ge=0,be=0,Pe=0,Je=0,Ue=ne.length,Re=se?new Uint16Array(32):qt(32);for(be=0;be<32;++be)Re[be]=0;for(be=Ue;be<fe;++be)ne[be]=0;Ue=ne.length;var He=se?new Uint16Array(Ue):qt(Ue);for(be=0;be<Ue;++be)Re[ge=ne[be]]++,he<ge&&(he=ge),He[be]=0;for(Re[0]=0,be=1;be<=he;++be)Re[be+16]=Je=Je+Re[be-1]<<1;for(be=0;be<Ue;++be)Je=ne[be],Je!=0&&(He[be]=Re[Je+16]++);var ht=0;for(be=0;be<Ue;++be)if(ht=ne[be],ht!=0)for(Je=ke(He[be],he)>>he-ht,Pe=(1<<he+4-ht)-1;Pe>=0;--Pe)ye[Je|Pe<<ht]=ht&15|be<<4;return he}var Wt=se?new Uint16Array(512):qt(512),cn=se?new Uint16Array(32):qt(32);if(!se){for(var zt=0;zt<512;++zt)Wt[zt]=0;for(zt=0;zt<32;++zt)cn[zt]=0}(function(){for(var ne=[],ye=0;ye<32;ye++)ne.push(5);rn(ne,cn,32);var fe=[];for(ye=0;ye<=143;ye++)fe.push(8);for(;ye<=255;ye++)fe.push(9);for(;ye<=279;ye++)fe.push(7);for(;ye<=287;ye++)fe.push(8);rn(fe,Wt,288)})();var It=(function(){for(var ye=se?new Uint8Array(32768):[],fe=0,he=0;fe<de.length-1;++fe)for(;he<de[fe+1];++he)ye[he]=fe;for(;he<32768;++he)ye[he]=29;var ge=se?new Uint8Array(259):[];for(fe=0,he=0;fe<te.length-1;++fe)for(;he<te[fe+1];++he)ge[he]=fe;function be(Je,Ue){for(var Re=0;Re<Je.length;){var He=Math.min(65535,Je.length-Re),ht=Re+He==Je.length;for(Ue.write_shift(1,+ht),Ue.write_shift(2,He),Ue.write_shift(2,~He&65535);He-- >0;)Ue[Ue.l++]=Je[Re++]}return Ue.l}function Pe(Je,Ue){for(var Re=0,He=0,ht=se?new Uint16Array(32768):[];He<Je.length;){var yt=Math.min(65535,Je.length-He);if(yt<10){for(Re=Ze(Ue,Re,+(He+yt==Je.length)),Re&7&&(Re+=8-(Re&7)),Ue.l=Re/8|0,Ue.write_shift(2,yt),Ue.write_shift(2,~yt&65535);yt-- >0;)Ue[Ue.l++]=Je[He++];Re=Ue.l*8;continue}Re=Ze(Ue,Re,+(He+yt==Je.length)+2);for(var Tt=0;yt-- >0;){var xt=Je[He];Tt=(Tt<<5^xt)&32767;var Nt=-1,Mt=0;if((Nt=ht[Tt])&&(Nt|=He&-32768,Nt>He&&(Nt-=32768),Nt<He))for(;Je[Nt+Mt]==Je[He+Mt]&&Mt<250;)++Mt;if(Mt>2){xt=ge[Mt],xt<=22?Re=St(Ue,Re,ve[xt+1]>>1)-1:(St(Ue,Re,3),Re+=5,St(Ue,Re,ve[xt-23]>>5),Re+=3);var Qn=xt<8?0:xt-4>>2;Qn>0&&(Kt(Ue,Re,Mt-te[xt]),Re+=Qn),xt=ye[He-Nt],Re=St(Ue,Re,ve[xt]>>3),Re-=3;var On=xt<4?0:xt-2>>1;On>0&&(Kt(Ue,Re,He-Nt-de[xt]),Re+=On);for(var er=0;er<Mt;++er)ht[Tt]=He&32767,Tt=(Tt<<5^Je[He])&32767,++He;yt-=Mt-1}else xt<=143?xt=xt+48:Re=Et(Ue,Re,1),Re=St(Ue,Re,ve[xt]),ht[Tt]=He&32767,++He}Re=St(Ue,Re,0)-1}return Ue.l=(Re+7)/8|0,Ue.l}return function(Ue,Re){return Ue.length<8?be(Ue,Re):Pe(Ue,Re)}})();function tn(ne){var ye=at(50+Math.floor(ne.length*1.1)),fe=It(ne,ye);return ye.slice(0,fe)}var Ft=se?new Uint16Array(32768):qt(32768),Mn=se?new Uint16Array(32768):qt(32768),Xt=se?new Uint16Array(128):qt(128),Dt=1,Pt=1;function xn(ne,ye){var fe=gt(ne,ye)+257;ye+=5;var he=gt(ne,ye)+1;ye+=5;var ge=xe(ne,ye)+4;ye+=4;for(var be=0,Pe=se?new Uint8Array(19):qt(19),Je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ue=1,Re=se?new Uint8Array(8):qt(8),He=se?new Uint8Array(8):qt(8),ht=Pe.length,yt=0;yt<ge;++yt)Pe[B[yt]]=be=Te(ne,ye),Ue<be&&(Ue=be),Re[be]++,ye+=3;var Tt=0;for(Re[0]=0,yt=1;yt<=Ue;++yt)He[yt]=Tt=Tt+Re[yt-1]<<1;for(yt=0;yt<ht;++yt)(Tt=Pe[yt])!=0&&(Je[yt]=He[Tt]++);var xt=0;for(yt=0;yt<ht;++yt)if(xt=Pe[yt],xt!=0){Tt=ve[Je[yt]]>>8-xt;for(var Nt=(1<<7-xt)-1;Nt>=0;--Nt)Xt[Tt|Nt<<xt]=xt&7|yt<<3}var Mt=[];for(Ue=1;Mt.length<fe+he;)switch(Tt=Xt[Xe(ne,ye)],ye+=Tt&7,Tt>>>=3){case 16:for(be=3+Ge(ne,ye),ye+=2,Tt=Mt[Mt.length-1];be-- >0;)Mt.push(Tt);break;case 17:for(be=3+Te(ne,ye),ye+=3;be-- >0;)Mt.push(0);break;case 18:for(be=11+Xe(ne,ye),ye+=7;be-- >0;)Mt.push(0);break;default:Mt.push(Tt),Ue<Tt&&(Ue=Tt);break}var Qn=Mt.slice(0,fe),On=Mt.slice(fe);for(yt=fe;yt<286;++yt)Qn[yt]=0;for(yt=he;yt<30;++yt)On[yt]=0;return Dt=rn(Qn,Ft,286),Pt=rn(On,Mn,30),ye}function $t(ne,ye){if(ne[0]==3&&!(ne[1]&3))return[yf(ye),2];for(var fe=0,he=0,ge=YS(ye||1<<18),be=0,Pe=ge.length>>>0,Je=0,Ue=0;(he&1)==0;){if(he=Te(ne,fe),fe+=3,he>>>1)he>>1==1?(Je=9,Ue=5):(fe=xn(ne,fe),Je=Dt,Ue=Pt);else{fe&7&&(fe+=8-(fe&7));var Re=ne[fe>>>3]|ne[(fe>>>3)+1]<<8;if(fe+=32,Re>0)for(!ye&&Pe<be+Re&&(ge=Lt(ge,be+Re),Pe=ge.length);Re-- >0;)ge[be++]=ne[fe>>>3],fe+=8;continue}for(;;){!ye&&Pe<be+32767&&(ge=Lt(ge,be+32767),Pe=ge.length);var He=wt(ne,fe,Je),ht=he>>>1==1?Wt[He]:Ft[He];if(fe+=ht&15,ht>>>=4,(ht>>>8&255)===0)ge[be++]=ht;else{if(ht==256)break;ht-=257;var yt=ht<8?0:ht-4>>2;yt>5&&(yt=0);var Tt=be+te[ht];yt>0&&(Tt+=wt(ne,fe,yt),fe+=yt),He=wt(ne,fe,Ue),ht=he>>>1==1?cn[He]:Mn[He],fe+=ht&15,ht>>>=4;var xt=ht<4?0:ht-2>>1,Nt=de[ht];for(xt>0&&(Nt+=wt(ne,fe,xt),fe+=xt),!ye&&Pe<Tt&&(ge=Lt(ge,Tt+100),Pe=ge.length);be<Tt;)ge[be]=ge[be-Nt],++be}}}return ye?[ge,fe+7>>>3]:[ge.slice(0,be),fe+7>>>3]}function mn(ne,ye){var fe=ne.slice(ne.l||0),he=$t(fe,ye);return ne.l+=he[1],he[0]}function Bt(ne,ye){if(ne)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function Fn(ne,ye){var fe=ne;Ps(fe,0);var he=[],ge=[],be={FileIndex:he,FullPaths:ge};I(be,{root:ye.root});for(var Pe=fe.length-4;(fe[Pe]!=80||fe[Pe+1]!=75||fe[Pe+2]!=5||fe[Pe+3]!=6)&&Pe>=0;)--Pe;fe.l=Pe+4,fe.l+=4;var Je=fe.read_shift(2);fe.l+=6;var Ue=fe.read_shift(4);for(fe.l=Ue,Pe=0;Pe<Je;++Pe){fe.l+=20;var Re=fe.read_shift(4),He=fe.read_shift(4),ht=fe.read_shift(2),yt=fe.read_shift(2),Tt=fe.read_shift(2);fe.l+=8;var xt=fe.read_shift(4),Nt=c(fe.slice(fe.l+ht,fe.l+ht+yt));fe.l+=ht+yt+Tt;var Mt=fe.l;fe.l=xt+4,Hn(fe,Re,He,be,Nt),fe.l=Mt}return be}function Hn(ne,ye,fe,he,ge){ne.l+=2;var be=ne.read_shift(2),Pe=ne.read_shift(2),Je=l(ne);if(be&8257)throw new Error("Unsupported ZIP encryption");for(var Ue=ne.read_shift(4),Re=ne.read_shift(4),He=ne.read_shift(4),ht=ne.read_shift(2),yt=ne.read_shift(2),Tt="",xt=0;xt<ht;++xt)Tt+=String.fromCharCode(ne[ne.l++]);if(yt){var Nt=c(ne.slice(ne.l,ne.l+yt));(Nt[21589]||{}).mt&&(Je=Nt[21589].mt),((ge||{})[21589]||{}).mt&&(Je=ge[21589].mt)}ne.l+=yt;var Mt=ne.slice(ne.l,ne.l+Re);switch(Pe){case 8:Mt=F(ne,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Pe)}var Qn=!1;be&8&&(Ue=ne.read_shift(4),Ue==134695760&&(Ue=ne.read_shift(4),Qn=!0),Re=ne.read_shift(4),He=ne.read_shift(4)),Re!=ye&&Bt(Qn,"Bad compressed size: "+ye+" != "+Re),He!=fe&&Bt(Qn,"Bad uncompressed size: "+fe+" != "+He),nn(he,Tt,Mt,{unsafe:!0,mt:Je})}function _n(ne,ye){var fe=ye||{},he=[],ge=[],be=at(1),Pe=fe.compression?8:0,Je=0,Ue=0,Re=0,He=0,ht=0,yt=ne.FullPaths[0],Tt=yt,xt=ne.FileIndex[0],Nt=[],Mt=0;for(Ue=1;Ue<ne.FullPaths.length;++Ue)if(Tt=ne.FullPaths[Ue].slice(yt.length),xt=ne.FileIndex[Ue],!(!xt.size||!xt.content||Tt=="Sh33tJ5")){var Qn=He,On=at(Tt.length);for(Re=0;Re<Tt.length;++Re)On.write_shift(1,Tt.charCodeAt(Re)&127);On=On.slice(0,On.l),Nt[ht]=BI.buf(xt.content,0);var er=xt.content;Pe==8&&(er=L(er)),be=at(30),be.write_shift(4,67324752),be.write_shift(2,20),be.write_shift(2,Je),be.write_shift(2,Pe),xt.mt?s(be,xt.mt):be.write_shift(4,0),be.write_shift(-4,Nt[ht]),be.write_shift(4,er.length),be.write_shift(4,xt.content.length),be.write_shift(2,On.length),be.write_shift(2,0),He+=be.length,he.push(be),He+=On.length,he.push(On),He+=er.length,he.push(er),be=at(46),be.write_shift(4,33639248),be.write_shift(2,0),be.write_shift(2,20),be.write_shift(2,Je),be.write_shift(2,Pe),be.write_shift(4,0),be.write_shift(-4,Nt[ht]),be.write_shift(4,er.length),be.write_shift(4,xt.content.length),be.write_shift(2,On.length),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(4,0),be.write_shift(4,Qn),Mt+=be.l,ge.push(be),Mt+=On.length,ge.push(On),++ht}return be=at(22),be.write_shift(4,101010256),be.write_shift(2,0),be.write_shift(2,0),be.write_shift(2,ht),be.write_shift(2,ht),be.write_shift(4,Mt),be.write_shift(4,He),be.write_shift(2,0),Ci([Ci(he),Ci(ge),be])}var Ut={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qe(ne,ye){if(ne.ctype)return ne.ctype;var fe=ne.name||"",he=fe.match(/\.([^\.]+)$/);return he&&Ut[he[1]]||ye&&(he=(fe=ye).match(/[\.\\]([^\.\\])+$/),he&&Ut[he[1]])?Ut[he[1]]:"application/octet-stream"}function Ie(ne){for(var ye=$d(ne),fe=[],he=0;he<ye.length;he+=76)fe.push(ye.slice(he,he+76));return fe.join(`\r
`)+`\r
`}function nt(ne){var ye=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Re){var He=Re.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var fe=[],he=ye.split(`\r
`),ge=0;ge<he.length;++ge){var be=he[ge];if(be.length==0){fe.push("");continue}for(var Pe=0;Pe<be.length;){var Je=76,Ue=be.slice(Pe,Pe+Je);Ue.charAt(Je-1)=="="?Je--:Ue.charAt(Je-2)=="="?Je-=2:Ue.charAt(Je-3)=="="&&(Je-=3),Ue=be.slice(Pe,Pe+Je),Pe+=Je,Pe<be.length&&(Ue+="="),fe.push(Ue)}}return fe.join(`\r
`)}function ln(ne){for(var ye=[],fe=0;fe<ne.length;++fe){for(var he=ne[fe];fe<=ne.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ne[++fe];ye.push(he)}for(var ge=0;ge<ye.length;++ge)ye[ge]=ye[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(be){return String.fromCharCode(parseInt(be.slice(1),16))});return Yo(ye.join(`\r
`))}function Wn(ne,ye,fe){for(var he="",ge="",be="",Pe,Je=0;Je<10;++Je){var Ue=ye[Je];if(!Ue||Ue.match(/^\s*$/))break;var Re=Ue.match(/^(.*?):\s*([^\s].*)$/);if(Re)switch(Re[1].toLowerCase()){case"content-location":he=Re[2].trim();break;case"content-type":be=Re[2].trim();break;case"content-transfer-encoding":ge=Re[2].trim();break}}switch(++Je,ge.toLowerCase()){case"base64":Pe=Yo(_c(ye.slice(Je).join("")));break;case"quoted-printable":Pe=ln(ye.slice(Je));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var He=nn(ne,he.slice(fe.length),Pe,{unsafe:!0});be&&(He.ctype=be)}function kt(ne,ye){if(le(ne.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var fe=ye&&ye.root||"",he=(wr&&Buffer.isBuffer(ne)?ne.toString("binary"):le(ne)).split(`\r
`),ge=0,be="";for(ge=0;ge<he.length;++ge)if(be=he[ge],!!/^Content-Location:/i.test(be)&&(be=be.slice(be.indexOf("file")),fe||(fe=be.slice(0,be.lastIndexOf("/")+1)),be.slice(0,fe.length)!=fe))for(;fe.length>0&&(fe=fe.slice(0,fe.length-1),fe=fe.slice(0,fe.lastIndexOf("/")+1),be.slice(0,fe.length)!=fe););var Pe=(he[1]||"").match(/boundary="(.*?)"/);if(!Pe)throw new Error("MAD cannot find boundary");var Je="--"+(Pe[1]||""),Ue=[],Re=[],He={FileIndex:Ue,FullPaths:Re};I(He);var ht,yt=0;for(ge=0;ge<he.length;++ge){var Tt=he[ge];Tt!==Je&&Tt!==Je+"--"||(yt++&&Wn(He,he.slice(ht,ge),fe),ht=ge)}return He}function rr(ne,ye){var fe=ye||{},he=fe.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],be=ne.FullPaths[0],Pe=be,Je=ne.FileIndex[0],Ue=1;Ue<ne.FullPaths.length;++Ue)if(Pe=ne.FullPaths[Ue].slice(be.length),Je=ne.FileIndex[Ue],!(!Je.size||!Je.content||Pe=="Sh33tJ5")){Pe=Pe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Mt){return"_x"+Mt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Mt){return"_u"+Mt.charCodeAt(0).toString(16)+"_"});for(var Re=Je.content,He=wr&&Buffer.isBuffer(Re)?Re.toString("binary"):le(Re),ht=0,yt=Math.min(1024,He.length),Tt=0,xt=0;xt<=yt;++xt)(Tt=He.charCodeAt(xt))>=32&&Tt<128&&++ht;var Nt=ht>=yt*4/5;ge.push(he),ge.push("Content-Location: "+(fe.root||"file:///C:/SheetJS/")+Pe),ge.push("Content-Transfer-Encoding: "+(Nt?"quoted-printable":"base64")),ge.push("Content-Type: "+qe(Je,Pe)),ge.push(""),ge.push(Nt?nt(He):Ie(He))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function Vn(ne){var ye={};return I(ye,ne),ye}function nn(ne,ye,fe,he){var ge=he&&he.unsafe;ge||I(ne);var be=!ge&&Br.find(ne,ye);if(!be){var Pe=ne.FullPaths[0];ye.slice(0,Pe.length)==Pe?Pe=ye:(Pe.slice(-1)!="/"&&(Pe+="/"),Pe=(Pe+ye).replace("//","/")),be={name:a(ye),type:2},ne.FileIndex.push(be),ne.FullPaths.push(Pe),ge||Br.utils.cfb_gc(ne)}return be.content=fe,be.size=fe?fe.length:0,he&&(he.CLSID&&(be.clsid=he.CLSID),he.mt&&(be.mt=he.mt),he.ct&&(be.ct=he.ct)),be}function Sr(ne,ye){I(ne);var fe=Br.find(ne,ye);if(fe){for(var he=0;he<ne.FileIndex.length;++he)if(ne.FileIndex[he]==fe)return ne.FileIndex.splice(he,1),ne.FullPaths.splice(he,1),!0}return!1}function jn(ne,ye,fe){I(ne);var he=Br.find(ne,ye);if(he){for(var ge=0;ge<ne.FileIndex.length;++ge)if(ne.FileIndex[ge]==he)return ne.FileIndex[ge].name=a(fe),ne.FullPaths[ge]=fe,!0}return!1}function ar(ne){P(ne,!0)}return t.find=O,t.read=Z,t.parse=m,t.write=me,t.writeFile=ce,t.utils={cfb_new:Vn,cfb_add:nn,cfb_del:Sr,cfb_mov:jn,cfb_gc:ar,ReadShift:yd,CheckField:o8,prep_blob:Ps,bconcat:Ci,use_zlib:N,_deflateRaw:tn,_inflateRaw:mn,consts:ae},t})();function UI(e){return typeof e=="string"?Ip(e):Array.isArray(e)?dI(e):e}function f1(e,t,n){if(typeof Deno<"u"){if(n&&typeof t=="string")switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=Ip(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r=n=="utf8"?Kd(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,e);if(typeof Blob<"u"){var a=new Blob([UI(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=u1(t)),c.write(t),c.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function ki(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function n6(e,t){for(var n=[],r=ki(e),a=0;a!==r.length;++a)n[e[r[a]][t]]==null&&(n[e[r[a]][t]]=r[a]);return n}function M5(e){for(var t=[],n=ki(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function Up(e){for(var t=[],n=ki(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}function HI(e){for(var t=[],n=ki(e),r=0;r!==n.length;++r)t[e[n[r]]]==null&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}var pp=new Date(1899,11,30,0,0,0);function ws(e,t){var n=e.getTime(),r=pp.getTime()+(e.getTimezoneOffset()-pp.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var GA=new Date,VI=pp.getTime()+(GA.getTimezoneOffset()-pp.getTimezoneOffset())*6e4,r6=GA.getTimezoneOffset();function qA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+VI),t.getTimezoneOffset()!==r6&&t.setTime(t.getTime()+(t.getTimezoneOffset()-r6)*6e4),t}var a6=new Date("2017-02-19T19:06:09.000Z"),WA=isNaN(a6.getFullYear())?new Date("2/19/17"):a6,GI=WA.getFullYear()==2017;function ts(e,t){var n=new Date(e);if(GI)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(WA.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Hp(e,t){if(wr&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return n[s]||s})}catch{}for(var r=[],a=0;a!=e.length;++a)r.push(String.fromCharCode(e[a]));return r.join("")}function Ss(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Ss(e[n]));return t}function Ca(e,t){for(var n="";n.length<t;)n+=e;return n}function yc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,s){return n=-n,s}),!isNaN(t=Number(r)))?t/n:t}var qI=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yd(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return n;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&qI.indexOf(l)==-1)return n}else if(l.match(/[a-z]/))return n;return r<0||r>8099?n:(a>0||s>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Bn(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return wr?r=Cc(n):r=mI(n),Br.utils.cfb_add(e,t,r)}Br.utils.cfb_add(e,t,n)}else e.file(t,n)}function z5(){return Br.utils.cfb_new()}var Wa=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,WI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},I5=M5(WI),P5=/[&<>'"]/g,$I=/[\u0000-\u0008\u000b-\u001f]/g;function kr(e){var t=e+"";return t.replace(P5,function(n){return I5[n]}).replace($I,function(n){return"_x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+"_"})}function i6(e){return kr(e).replace(/ /g,"_x0020_")}var $A=/[\u0000-\u001f]/g;function YI(e){var t=e+"";return t.replace(P5,function(n){return I5[n]}).replace(/\n/g,"<br/>").replace($A,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}function KI(e){var t=e+"";return t.replace(P5,function(n){return I5[n]}).replace($A,function(n){return"&#x"+n.charCodeAt(0).toString(16).toUpperCase()+";"})}function XI(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function ZI(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function wx(e){for(var t="",n=0,r=0,a=0,s=0,l=0,c=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(a=e.charCodeAt(n++),r>191&&r<224){l=(r&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(s=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63);continue}l=e.charCodeAt(n++),c=((r&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function s6(e){var t=yf(2*e.length),n,r,a=1,s=0,l=0,c;for(r=0;r<e.length;r+=a)a=1,(c=e.charCodeAt(r))<128?n=c:c<224?(n=(c&31)*64+(e.charCodeAt(r+1)&63),a=2):c<240?(n=(c&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),a=3):(a=4,n=(c&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,l=55296+(n>>>10&1023),n=56320+(n&1023)),l!==0&&(t[s++]=l&255,t[s++]=l>>>8,l=0),t[s++]=n%256,t[s++]=n>>>8;return t.slice(0,s).toString("ucs2")}function o6(e){return Cc(e,"binary").toString("utf8")}var Em="foo bar baz",vd=wr&&(o6(Em)==wx(Em)&&o6||s6(Em)==wx(Em)&&s6)||wx,Kd=wr?function(e){return Cc(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,a=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},JI=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)r=r.replace(e[a][0],e[a][1]);return r}})(),YA=/(^\s|\s$|\n)/;function ji(e,t){return"<"+e+(t.match(YA)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Xd(e){return ki(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function At(e,t,n){return"<"+e+(n!=null?Xd(n):"")+(t!=null?(t.match(YA)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Av(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(n){if(t)throw n}return""}function QI(e,t){switch(typeof e){case"string":var n=At("vt:lpwstr",kr(e));return n=n.replace(/&quot;/g,"_x0022_"),n;case"number":return At((e|0)==e?"vt:i4":"vt:r8",kr(String(e)));case"boolean":return At("vt:bool",e?"true":"false")}if(e instanceof Date)return At("vt:filetime",Av(e));throw new Error("Unable to serialize "+e)}var gi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},uh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Bs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eP(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return r==2047?a==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),n*Math.pow(2,r-52)*a)}function tP(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,l=r?-t:t;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var c=0;c<=5;++c,s/=256)e[n+c]=s&255;e[n+6]=(a&15)<<4|s&15,e[n+7]=a>>4|r}var l6=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var a=0,s=e[0][r].length;a<s;a+=n)t.push.apply(t,e[0][r].slice(a,a+n));return t},c6=wr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Cc(t)})):l6(e)}:l6,u6=function(e,t,n){for(var r=[],a=t;a<n;a+=2)r.push(String.fromCharCode(cd(e,a)));return r.join("").replace(xd,"")},B5=wr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(xd,""):u6(e,t,n)}:u6,f6=function(e,t,n){for(var r=[],a=t;a<t+n;++a)r.push(("0"+e[a].toString(16)).slice(-2));return r.join("")},KA=wr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):f6(e,t,n)}:f6,h6=function(e,t,n){for(var r=[],a=t;a<n;a++)r.push(String.fromCharCode(E0(e,a)));return r.join("")},h1=wr?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):h6(t,n,r)}:h6,XA=function(e,t){var n=Us(e,t);return n>0?h1(e,t+4,t+4+n-1):""},ZA=XA,JA=function(e,t){var n=Us(e,t);return n>0?h1(e,t+4,t+4+n-1):""},QA=JA,e8=function(e,t){var n=2*Us(e,t);return n>0?h1(e,t+4,t+4+n-1):""},t8=e8,n8=function(t,n){var r=Us(t,n);return r>0?B5(t,n+4,n+4+r):""},r8=n8,a8=function(e,t){var n=Us(e,t);return n>0?h1(e,t+4,t+4+n):""},i8=a8,s8=function(e,t){return eP(e,t)},gp=s8,U5=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};wr&&(ZA=function(t,n){if(!Buffer.isBuffer(t))return XA(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},QA=function(t,n){if(!Buffer.isBuffer(t))return JA(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},t8=function(t,n){if(!Buffer.isBuffer(t))return e8(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},r8=function(t,n){if(!Buffer.isBuffer(t))return n8(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},i8=function(t,n){if(!Buffer.isBuffer(t))return a8(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},gp=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):s8(t,n)},U5=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var E0=function(e,t){return e[t]},cd=function(e,t){return e[t+1]*256+e[t]},nP=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},Us=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},sf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},rP=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yd(e,t){var n="",r,a,s=[],l,c,d,h;switch(t){case"dbcs":if(h=this.l,wr&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)n+=String.fromCharCode(cd(this,h)),h+=2;e*=2;break;case"utf8":n=h1(this,this.l,this.l+e);break;case"utf16le":e*=2,n=B5(this,this.l,this.l+e);break;case"wstr":return yd.call(this,e,"dbcs");case"lpstr-ansi":n=ZA(this,this.l),e=4+Us(this,this.l);break;case"lpstr-cp":n=QA(this,this.l),e=4+Us(this,this.l);break;case"lpwstr":n=t8(this,this.l),e=4+2*Us(this,this.l);break;case"lpp4":e=4+Us(this,this.l),n=r8(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Us(this,this.l),n=i8(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(l=E0(this,this.l+e++))!==0;)s.push(_m(l));n=s.join("");break;case"_wstr":for(e=0,n="";(l=cd(this,this.l+e))!==0;)s.push(_m(l)),e+=2;e+=2,n=s.join("");break;case"dbcs-cont":for(n="",h=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=E0(this,h),this.l=h+1,c=yd.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(_m(cd(this,h))),h+=2}n=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",h=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=E0(this,h),this.l=h+1,c=yd.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+c;s.push(_m(E0(this,h))),h+=1}n=s.join("");break;default:switch(e){case 1:return r=E0(this,this.l),this.l++,r;case 2:return r=(t==="i"?nP:cd)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?sf:rP)(this,this.l),this.l+=4,r):(a=Us(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=gp(this,this.l):a=gp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:n=KA(this,this.l,e);break}}return this.l+=e,n}var aP=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},iP=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},sP=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function oP(e,t,n){var r=0,a=0;if(n==="dbcs"){for(a=0;a!=t.length;++a)sP(this,t.charCodeAt(a),this.l+2*a);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;r=t.length}else if(n==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(n==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,aP(this,t,this.l);break;case 8:if(r=8,n==="f"){tP(this,t,this.l);break}case 16:break;case-4:r=4,iP(this,t,this.l);break}return this.l+=r,this}function o8(e,t){var n=KA(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ps(e,t){e.l=t,e.read_shift=yd,e.chk=o8,e.write_shift=oP}function Ml(e,t){e.l+=t}function at(e){var t=yf(e);return Ps(t,0),t}function bs(){var e=[],t=wr?256:2048,n=function(h){var m=at(h);return Ps(m,0),m},r=n(t),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},s=function(h){return r&&h<r.length-r.l?r:(a(),r=n(Math.max(h+1,t)))},l=function(){return a(),Ci(e)},c=function(h){a(),r=h,r.l==null&&(r.l=r.length),s(t)};return{next:s,push:c,end:l,_bufs:e}}function pt(e,t,n,r){var a=+t,s;if(!isNaN(a)){r||(r=eq[a].p||(n||[]).length||0),s=1+(a>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var l=e.next(s);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var c=0;c!=4;++c)if(r>=128)l.write_shift(1,(r&127)+128),r>>=7;else{l.write_shift(1,r);break}r>0&&U5(n)&&e.push(n)}}function bd(e,t,n){var r=Ss(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function d6(e,t,n){var r=Ss(e);return r.s=bd(r.s,t.s,n),r.e=bd(r.e,t.s,n),r}function wd(e,t){if(e.cRel&&e.c<0)for(e=Ss(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ss(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Lr(e);return!e.cRel&&e.cRel!=null&&(n=uP(n)),!e.rRel&&e.rRel!=null&&(n=lP(n)),n}function Sx(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Hi(e.s.c)+":"+(e.e.cRel?"":"$")+Hi(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Di(e.s.r)+":"+(e.e.rRel?"":"$")+Di(e.e.r):wd(e.s,t.biff)+":"+wd(e.e,t.biff)}function H5(e){return parseInt(cP(e),10)-1}function Di(e){return""+(e+1)}function lP(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cP(e){return e.replace(/\$(\d+)$/,"$1")}function V5(e){for(var t=fP(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function Hi(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function uP(e){return e.replace(/^([A-Z])/,"$$$1")}function fP(e){return e.replace(/^\$([A-Z])/,"$1")}function hP(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function xi(e){for(var t=0,n=0,r=0;r<e.length;++r){var a=e.charCodeAt(r);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(n=26*n+(a-64))}return{c:n-1,r:t-1}}function Lr(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Ws(e){var t=e.indexOf(":");return t==-1?{s:xi(e),e:xi(e)}:{s:xi(e.slice(0,t)),e:xi(e.slice(t+1))}}function qa(e,t){return typeof t>"u"||typeof t=="number"?qa(e.s,e.e):(typeof e!="string"&&(e=Lr(e)),typeof t!="string"&&(t=Lr(t)),e==t?e:e+":"+t)}function Qr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,a=0,s=e.length;for(n=0;r<s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.s.c=--n,n=0;r<s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;if(t.s.r=--n,r===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=s&&!((a=e.charCodeAt(r)-64)<1||a>26);++r)n=26*n+a;for(t.e.c=--n,n=0;r!=s&&!((a=e.charCodeAt(r)-48)<0||a>9);++r)n=10*n+a;return t.e.r=--n,t}function m6(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Au(e.z,n?ws(t):t)}catch{}try{return e.w=Au((e.XF||{}).numFmtId||(n?14:0),n?ws(t):t)}catch{return""+t}}function Tc(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?d1[e.v]||e.v:t==null?m6(e,e.v):m6(e,t))}function Tf(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function l8(e,t,n){var r=n||{},a=e?Array.isArray(e):r.dense,s=e||(a?[]:{}),l=0,c=0;if(s&&r.origin!=null){if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?xi(r.origin):r.origin;l=d.r,c=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var m=Qr(s["!ref"]);h.s.c=m.s.c,h.s.r=m.s.r,h.e.c=Math.max(h.e.c,m.e.c),h.e.r=Math.max(h.e.r,m.e.r),l==-1&&(h.e.r=l=m.e.r+1)}for(var v=0;v!=t.length;++v)if(t[v]){if(!Array.isArray(t[v]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=t[v].length;++y)if(!(typeof t[v][y]>"u")){var g={v:t[v][y]},T=l+v,b=c+y;if(h.s.r>T&&(h.s.r=T),h.s.c>b&&(h.s.c=b),h.e.r<T&&(h.e.r=T),h.e.c<b&&(h.e.c=b),t[v][y]&&typeof t[v][y]=="object"&&!Array.isArray(t[v][y])&&!(t[v][y]instanceof Date))g=t[v][y];else if(Array.isArray(g.v)&&(g.f=t[v][y][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(r.nullError)g.t="e",g.v=0;else if(r.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=r.dateNF||ja[14],r.cellDates?(g.t="d",g.w=Au(g.z,ws(g.v))):(g.t="n",g.v=ws(g.v),g.w=Au(g.z,g.v))):g.t="s";if(a)s[T]||(s[T]=[]),s[T][b]&&s[T][b].z&&(g.z=s[T][b].z),s[T][b]=g;else{var A=Lr({c:b,r:T});s[A]&&s[A].z&&(g.z=s[A].z),s[A]=g}}}return h.s.c<1e7&&(s["!ref"]=qa(h)),s}function fh(e,t){return l8(null,e,t)}function dP(e){return e.read_shift(4,"i")}function Qo(e,t){return t||(t=at(4)),t.write_shift(4,e),t}function Vi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function vi(e,t){var n=!1;return t==null&&(n=!0,t=at(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function mP(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function pP(e,t){return t||(t=at(4)),t.write_shift(2,0),t.write_shift(2,0),t}function G5(e,t){var n=e.l,r=e.read_shift(1),a=Vi(e),s=[],l={t:a,h:a};if((r&1)!==0){for(var c=e.read_shift(4),d=0;d!=c;++d)s.push(mP(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=n+t,l}function gP(e,t){var n=!1;return t==null&&(n=!0,t=at(15+4*e.t.length)),t.write_shift(1,0),vi(e.t,t),n?t.slice(0,t.l):t}var xP=G5;function vP(e,t){var n=!1;return t==null&&(n=!0,t=at(23+4*e.t.length)),t.write_shift(1,1),vi(e.t,t),t.write_shift(4,1),pP({},t),n?t.slice(0,t.l):t}function vo(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function Af(e,t){return t==null&&(t=at(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function Ef(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Cf(e,t){return t==null&&(t=at(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var yP=Vi,c8=vi;function q5(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function xp(e,t){var n=!1;return t==null&&(n=!0,t=at(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var bP=Vi,Ev=q5,W5=xp;function u8(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var a=r===0?gp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):sf(t,0)>>2;return n?a/100:a}function f8(e,t){t==null&&(t=at(4));var n=0,r=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,n=1),r)t.write_shift(-4,((n?a:e)<<2)+(n+2));else throw new Error("unsupported RkNumber "+e)}function h8(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function wP(e,t){return t||(t=at(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var jf=h8,hh=wP;function dh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function bf(e,t){return(t||at(8)).write_shift(8,e,"f")}function SP(e){var t={},n=e.read_shift(1),r=n>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),l=e.read_shift(1),c=e.read_shift(1),d=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=a;var h=kP[a];h&&(t.rgb=T6(h));break;case 2:t.rgb=T6([l,c,d]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function vp(e,t){if(t||(t=at(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var r=e.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}return t}function NP(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function _P(e,t){t||(t=at(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,n),t.write_shift(1,0),t}var d8=2,Is=3,Cm=11,yp=19,jm=64,TP=65,AP=71,EP=4108,CP=4126,Ei=80,p6={1:{n:"CodePage",t:d8},2:{n:"Category",t:Ei},3:{n:"PresentationFormat",t:Ei},4:{n:"ByteCount",t:Is},5:{n:"LineCount",t:Is},6:{n:"ParagraphCount",t:Is},7:{n:"SlideCount",t:Is},8:{n:"NoteCount",t:Is},9:{n:"HiddenCount",t:Is},10:{n:"MultimediaClipCount",t:Is},11:{n:"ScaleCrop",t:Cm},12:{n:"HeadingPairs",t:EP},13:{n:"TitlesOfParts",t:CP},14:{n:"Manager",t:Ei},15:{n:"Company",t:Ei},16:{n:"LinksUpToDate",t:Cm},17:{n:"CharacterCount",t:Is},19:{n:"SharedDoc",t:Cm},22:{n:"HyperlinksChanged",t:Cm},23:{n:"AppVersion",t:Is,p:"version"},24:{n:"DigSig",t:TP},26:{n:"ContentType",t:Ei},27:{n:"ContentStatus",t:Ei},28:{n:"Language",t:Ei},29:{n:"Version",t:Ei},255:{},2147483648:{n:"Locale",t:yp},2147483651:{n:"Behavior",t:yp},1919054434:{}},g6={1:{n:"CodePage",t:d8},2:{n:"Title",t:Ei},3:{n:"Subject",t:Ei},4:{n:"Author",t:Ei},5:{n:"Keywords",t:Ei},6:{n:"Comments",t:Ei},7:{n:"Template",t:Ei},8:{n:"LastAuthor",t:Ei},9:{n:"RevNumber",t:Ei},10:{n:"EditTime",t:jm},11:{n:"LastPrinted",t:jm},12:{n:"CreatedDate",t:jm},13:{n:"ModifiedDate",t:jm},14:{n:"PageCount",t:Is},15:{n:"WordCount",t:Is},16:{n:"CharCount",t:Is},17:{n:"Thumbnail",t:AP},18:{n:"Application",t:Ei},19:{n:"DocSecurity",t:Is},255:{},2147483648:{n:"Locale",t:yp},2147483651:{n:"Behavior",t:yp},1919054434:{}};function jP(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var DP=jP([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),kP=Ss(DP),d1={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},LP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Dm={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function m8(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function p8(e,t){var n=HI(LP),r=[],a;r[r.length]=Wa,r[r.length]=At("Types",null,{xmlns:gi.CT,"xmlns:xsd":gi.xsd,"xmlns:xsi":gi.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return At("Default",null,{Extension:d[0],ContentType:d[1]})}));var s=function(d){e[d]&&e[d].length>0&&(a=e[d][0],r[r.length]=At("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Dm[d][t.bookType]||Dm[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(h){r[r.length]=At("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Dm[d][t.bookType]||Dm[d].xlsx})})},c=function(d){(e[d]||[]).forEach(function(h){r[r.length]=At("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:n[d][0]})})};return s("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var xr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function g8(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function $0(e){var t=[Wa,At("Relationships",null,{xmlns:gi.RELS})];return ki(e["!id"]).forEach(function(n){t[t.length]=At("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function jr(e,t,n,r,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=r,a.Target=n,[xr.HLINK,xr.XPATH,xr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function FP(e){var t=[Wa];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function x6(e,t,n){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function OP(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function RP(e){var t=[Wa];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var n=0;n!=e.length;++n)t.push(x6(e[n][0],e[n][1])),t.push(OP("",e[n][0]));return t.push(x6("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function x8(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+up.version+"</meta:generator></office:meta></office:document-meta>"}var mf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Nx(e,t,n,r,a){a[e]!=null||t==null||t===""||(a[e]=t,t=kr(t),r[r.length]=n?At(e,t,n):ji(e,t))}function v8(e,t){var n=t||{},r=[Wa,At("cp:coreProperties",null,{"xmlns:cp":gi.CORE_PROPS,"xmlns:dc":gi.dc,"xmlns:dcterms":gi.dcterms,"xmlns:dcmitype":gi.dcmitype,"xmlns:xsi":gi.xsi})],a={};if(!e&&!n.Props)return r.join("");e&&(e.CreatedDate!=null&&Nx("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Av(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),e.ModifiedDate!=null&&Nx("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Av(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var s=0;s!=mf.length;++s){var l=mf[s],c=n.Props&&n.Props[l[1]]!=null?n.Props[l[1]]:e?e[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&Nx(l[0],c,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Y0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],y8=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function b8(e){var t=[],n=At;return e||(e={}),e.Application="SheetJS",t[t.length]=Wa,t[t.length]=At("Properties",null,{xmlns:gi.EXT_PROPS,"xmlns:vt":gi.vt}),Y0.forEach(function(r){if(e[r[1]]!==void 0){var a;switch(r[2]){case"string":a=kr(String(e[r[1]]));break;case"bool":a=e[r[1]]?"true":"false";break}a!==void 0&&(t[t.length]=n(r[0],a))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(r){return"<vt:lpstr>"+kr(r)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function w8(e){var t=[Wa,At("Properties",null,{xmlns:gi.CUST_PROPS,"xmlns:vt":gi.vt})];if(!e)return t.join("");var n=1;return ki(e).forEach(function(a){++n,t[t.length]=At("property",QI(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:kr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var v6={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function MP(e,t){var n=[];return ki(v6).map(function(r){for(var a=0;a<mf.length;++a)if(mf[a][1]==r)return mf[a];for(a=0;a<Y0.length;++a)if(Y0[a][1]==r)return Y0[a];throw r}).forEach(function(r){if(e[r[1]]!=null){var a=t&&t.Props&&t.Props[r[1]]!=null?t.Props[r[1]]:e[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),n.push(ji(v6[r[1]]||r[1],a))}}),At("DocumentProperties",n.join(""),{xmlns:Bs.o})}function zP(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return e&&ki(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var l=0;l<mf.length;++l)if(s==mf[l][1])return;for(l=0;l<Y0.length;++l)if(s==Y0[l][1])return;for(l=0;l<n.length;++l)if(s==n[l])return;var c=e[s],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),a.push(At(i6(s),c,{"dt:dt":d}))}}),t&&ki(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var l=t[s],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),a.push(At(i6(s),l,{"dt:dt":c}))}}),"<"+r+' xmlns="'+Bs.o+'">'+a.join("")+"</"+r+">"}function IP(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,n=t.getTime()/1e3+11644473600,r=n%Math.pow(2,32),a=(n-r)/Math.pow(2,32);r*=1e7,a*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),a+=s);var l=at(8);return l.write_shift(4,r),l.write_shift(4,a),l}function y6(e,t){var n=at(4),r=at(4);switch(n.write_shift(4,e==80?31:e),e){case 3:r.write_shift(-4,t);break;case 5:r=at(8),r.write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=IP(t);break;case 31:case 80:for(r=at(4+2*(t.length+1)+(t.length%2?0:2)),r.write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ci([n,r])}var S8=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function PP(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function b6(e,t,n){var r=at(8),a=[],s=[],l=8,c=0,d=at(8),h=at(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),s.push(d),a.push(h),l+=8+d.length,!t){h=at(8),h.write_shift(4,0),a.unshift(h);var m=[at(4)];for(m[0].write_shift(4,e.length),c=0;c<e.length;++c){var v=e[c][0];for(d=at(8+2*(v.length+1)+(v.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,v.length+1),d.write_shift(0,v,"dbcs");d.l!=d.length;)d.write_shift(1,0);m.push(d)}d=Ci(m),s.unshift(d),l+=8+d.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(S8.indexOf(e[c][0])>-1||y8.indexOf(e[c][0])>-1)&&e[c][1]!=null){var y=e[c][1],g=0;if(t){g=+t[e[c][0]];var T=n[g];if(T.p=="version"&&typeof y=="string"){var b=y.split(".");y=(+b[0]<<16)+(+b[1]||0)}d=y6(T.t,y)}else{var A=PP(y);A==-1&&(A=31,y=String(y)),d=y6(A,y)}s.push(d),h=at(8),h.write_shift(4,t?g:2+c),a.push(h),l+=8+d.length}var E=8*(s.length+1);for(c=0;c<s.length;++c)a[c].write_shift(4,E),E+=s[c].length;return r.write_shift(4,l),r.write_shift(4,s.length),Ci([r].concat(a).concat(s))}function w6(e,t,n,r,a,s){var l=at(a?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Br.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var d=b6(e,n,r);if(c.push(d),a){var h=b6(a,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+d.length),c.push(h)}return Ci(c)}function BP(e,t){t||(t=at(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}function UP(e,t){return e.read_shift(t)===1}function Qi(e,t){return t||(t=at(2)),t.write_shift(2,+!!e),t}function N8(e){return e.read_shift(2,"u")}function ho(e,t){return t||(t=at(2)),t.write_shift(2,e),t}function _8(e,t,n){return n||(n=at(2)),n.write_shift(1,t=="e"?+e:+!!e),n.write_shift(1,t=="e"?1:0),n}function T8(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),a="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else n.biff==12&&(a="wstr");n.biff>=2&&n.biff<=5&&(a="cpstr");var l=r?e.read_shift(r,a):"";return l}function HP(e){var t=e.t||"",n=at(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=at(2*t.length);r.write_shift(2*t.length,t,"utf16le");var a=[n,r];return Ci(a)}function VP(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function GP(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):VP(e,r,n)}function qP(e,t,n){if(n.biff>5)return GP(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function A8(e,t,n){return n||(n=at(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function S6(e,t){t||(t=at(6+e.length*2)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function WP(e){var t=at(512),n=0,r=e.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),s=a>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}t.write_shift(4,2),t.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(n=0;n<l.length;++n)t.write_shift(4,l[n]);if(s==28)r=r.slice(1),S6(r,t);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<l.length;++n)t.write_shift(1,parseInt(l[n],16));var c=a>-1?r.slice(0,a):r;for(t.write_shift(4,2*(c.length+1)),n=0;n<c.length;++n)t.write_shift(2,c.charCodeAt(n));t.write_shift(2,0),s&8&&S6(a>-1?r.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<l.length;++n)t.write_shift(1,parseInt(l[n],16));for(var d=0;r.slice(d*3,d*3+3)=="../"||r.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,r.length-3*d+1),n=0;n<r.length-3*d;++n)t.write_shift(1,r.charCodeAt(n+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function wf(e,t,n,r){return r||(r=at(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function $P(e,t,n){var r=n.biff>8?4:2,a=e.read_shift(r),s=e.read_shift(r,"i"),l=e.read_shift(r,"i");return[a,s,l]}function YP(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),a=e.read_shift(2);return{s:{c:r,r:t},e:{c:a,r:n}}}function E8(e,t){return t||(t=at(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function $5(e,t,n){var r=1536,a=16;switch(n.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=at(a);return s.write_shift(2,r),s.write_shift(2,t),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function KP(e,t){var n=!t||t.biff==8,r=at(n?112:54);for(r.write_shift(t.biff==8?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}function XP(e,t){var n=!t||t.biff>=8?2:1,r=at(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function ZP(e,t){var n=at(8);n.write_shift(4,e.Count),n.write_shift(4,e.Unique);for(var r=[],a=0;a<e.length;++a)r[a]=HP(e[a]);var s=Ci([n].concat(r));return s.parts=[n.length].concat(r.map(function(l){return l.length})),s}function JP(){var e=at(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function QP(e){var t=at(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function eB(e,t){var n=e.name||"Arial",r=t&&t.biff==5,a=r?15+n.length:16+2*n.length,s=at(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}function tB(e,t,n,r){var a=at(10);return wf(e,t,r,a),a.write_shift(4,n),a}function nB(e,t,n,r,a){var s=!a||a.biff==8,l=at(8+ +s+(1+s)*n.length);return wf(e,t,r,l),l.write_shift(2,n.length),s&&l.write_shift(1,1),l.write_shift((1+s)*n.length,n,s?"utf16le":"sbcs"),l}function rB(e,t,n,r){var a=n&&n.biff==5;r||(r=at(a?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(a?1:2,t.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}function aB(e,t){var n=t.biff==8||!t.biff?4:2,r=at(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}function N6(e,t,n,r){var a=n&&n.biff==5;r||(r=at(a?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function iB(e){var t=at(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function sB(e,t,n,r,a,s){var l=at(8);return wf(e,t,r,l),_8(n,s,l),l}function oB(e,t,n,r){var a=at(14);return wf(e,t,r,a),bf(n,a),a}function lB(e,t,n){if(n.biff<8)return cB(e,t,n);for(var r=[],a=e.l+t,s=e.read_shift(n.biff>8?4:2);s--!==0;)r.push($P(e,n.biff>8?12:6,n));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return r}function cB(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=T8(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function uB(e){var t=at(2+e.length*8);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)E8(e[n],t);return t}function fB(e){var t=at(24),n=xi(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(r[a],16));return Ci([t,WP(e[1])])}function hB(e){var t=e[1].Tooltip,n=at(10+2*(t.length+1));n.write_shift(2,2048);var r=xi(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var a=0;a<t.length;++a)n.write_shift(2,t.charCodeAt(a));return n.write_shift(2,0),n}function dB(e){return e||(e=at(4)),e.write_shift(2,1),e.write_shift(2,1),e}function mB(e,t,n){if(!n.cellStyles)return Ml(e,t);var r=n&&n.biff>=12?4:2,a=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(r),c=e.read_shift(r),d=e.read_shift(2);r==2&&(e.l+=2);var h={s:a,e:s,w:l,ixfe:c,flags:d};return(n.biff>=5||!n.biff)&&(h.level=d>>8&7),h}function pB(e,t){var n=at(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,e.width*256),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}function gB(e){for(var t=at(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}function xB(e,t,n){var r=at(15);return p1(r,e,t),r.write_shift(8,n,"f"),r}function vB(e,t,n){var r=at(9);return p1(r,e,t),r.write_shift(2,n),r}var yB=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=M5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(c,d){var h=[],m=yf(1);switch(d.type){case"base64":m=Yo(_c(c));break;case"binary":m=Yo(c);break;case"buffer":case"array":m=c;break}Ps(m,0);var v=m.read_shift(1),y=!!(v&136),g=!1,T=!1;switch(v){case 2:break;case 3:break;case 48:g=!0,y=!0;break;case 49:g=!0,y=!0;break;case 131:break;case 139:break;case 140:T=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+v.toString(16))}var b=0,A=521;v==2&&(b=m.read_shift(2)),m.l+=3,v!=2&&(b=m.read_shift(4)),b>1048576&&(b=1e6),v!=2&&(A=m.read_shift(2));var E=m.read_shift(2),D=d.codepage||1252;v!=2&&(m.l+=16,m.read_shift(1),m[m.l]!==0&&(D=e[m[m.l]]),m.l+=1,m.l+=2),T&&(m.l+=36);for(var j=[],R={},q=Math.min(m.length,v==2?521:A-10-(g?264:0)),Z=T?32:11;m.l<q&&m[m.l]!=13;)switch(R={},R.name=fp.utils.decode(D,m.slice(m.l,m.l+Z)).replace(/[\u0000\r\n].*$/g,""),m.l+=Z,R.type=String.fromCharCode(m.read_shift(1)),v!=2&&!T&&(R.offset=m.read_shift(4)),R.len=m.read_shift(1),v==2&&(R.offset=m.read_shift(2)),R.dec=m.read_shift(1),R.name.length&&j.push(R),v!=2&&(m.l+=T?13:14),R.type){case"B":(!g||R.len!=8)&&d.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(m[m.l]!==13&&(m.l=A-1),m.read_shift(1)!==13)throw new Error("DBF Terminator not found "+m.l+" "+m[m.l]);m.l=A;var I=0,Y=0;for(h[0]=[],Y=0;Y!=j.length;++Y)h[0][Y]=j[Y].name;for(;b-- >0;){if(m[m.l]===42){m.l+=E;continue}for(++m.l,h[++I]=[],Y=0,Y=0;Y!=j.length;++Y){var P=m.slice(m.l,m.l+j[Y].len);m.l+=j[Y].len,Ps(P,0);var Q=fp.utils.decode(D,P);switch(j[Y].type){case"C":Q.trim().length&&(h[I][Y]=Q.replace(/\s+$/,""));break;case"D":Q.length===8?h[I][Y]=new Date(+Q.slice(0,4),+Q.slice(4,6)-1,+Q.slice(6,8)):h[I][Y]=Q;break;case"F":h[I][Y]=parseFloat(Q.trim());break;case"+":case"I":h[I][Y]=T?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(Q.trim().toUpperCase()){case"Y":case"T":h[I][Y]=!0;break;case"N":case"F":h[I][Y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+Q+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+v.toString(16));h[I][Y]="##MEMO##"+(T?parseInt(Q.trim(),10):P.read_shift(4));break;case"N":Q=Q.replace(/\u0000/g,"").trim(),Q&&Q!="."&&(h[I][Y]=+Q||0);break;case"@":h[I][Y]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":h[I][Y]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":h[I][Y]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[I][Y]=-P.read_shift(-8,"f");break;case"B":if(g&&j[Y].len==8){h[I][Y]=P.read_shift(8,"f");break}case"G":case"P":P.l+=j[Y].len;break;case"0":if(j[Y].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[Y].type)}}}if(v!=2&&m.l<m.length&&m[m.l++]!=26)throw new Error("DBF EOF Marker missing "+(m.l-1)+" of "+m.length+" "+m[m.l-1].toString(16));return d&&d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=j,h}function r(c,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var m=fh(n(c,h),h);return m["!cols"]=h.DBF.map(function(v){return{wch:v.len,DBF:v}}),delete h.DBF,m}function a(c,d){try{return Tf(r(c,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var h=d||{};if(+h.codepage>=0&&Wd(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var m=bs(),v=_p(c,{header:1,raw:!0,cellDates:!0}),y=v[0],g=v.slice(1),T=c["!cols"]||[],b=0,A=0,E=0,D=1;for(b=0;b<y.length;++b){if(((T[b]||{}).DBF||{}).name){y[b]=T[b].DBF.name,++E;continue}if(y[b]!=null){if(++E,typeof y[b]=="number"&&(y[b]=y[b].toString(10)),typeof y[b]!="string")throw new Error("DBF Invalid column name "+y[b]+" |"+typeof y[b]+"|");if(y.indexOf(y[b])!==b){for(A=0;A<1024;++A)if(y.indexOf(y[b]+"_"+A)==-1){y[b]+="_"+A;break}}}}var j=Qr(c["!ref"]),R=[],q=[],Z=[];for(b=0;b<=j.e.c-j.s.c;++b){var I="",Y="",P=0,Q=[];for(A=0;A<g.length;++A)g[A][b]!=null&&Q.push(g[A][b]);if(Q.length==0||y[b]==null){R[b]="?";continue}for(A=0;A<Q.length;++A){switch(typeof Q[A]){case"number":Y="B";break;case"string":Y="C";break;case"boolean":Y="L";break;case"object":Y=Q[A]instanceof Date?"D":"C";break;default:Y="C"}P=Math.max(P,String(Q[A]).length),I=I&&I!=Y?"C":Y}P>250&&(P=250),Y=((T[b]||{}).DBF||{}).type,Y=="C"&&T[b].DBF.len>P&&(P=T[b].DBF.len),I=="B"&&Y=="N"&&(I="N",Z[b]=T[b].DBF.dec,P=T[b].DBF.len),q[b]=I=="C"||Y=="N"?P:s[I]||0,D+=q[b],R[b]=I}var O=m.next(32);for(O.write_shift(4,318902576),O.write_shift(4,g.length),O.write_shift(2,296+32*E),O.write_shift(2,D),b=0;b<4;++b)O.write_shift(4,0);for(O.write_shift(4,0|(+t[jA]||3)<<8),b=0,A=0;b<y.length;++b)if(y[b]!=null){var G=m.next(32),K=(y[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);G.write_shift(1,K,"sbcs"),G.write_shift(1,R[b]=="?"?"C":R[b],"sbcs"),G.write_shift(4,A),G.write_shift(1,q[b]||s[R[b]]||0),G.write_shift(1,Z[b]||0),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(1,0),G.write_shift(4,0),G.write_shift(4,0),A+=q[b]||s[R[b]]||0}var X=m.next(264);for(X.write_shift(4,13),b=0;b<65;++b)X.write_shift(4,0);for(b=0;b<g.length;++b){var H=m.next(D);for(H.write_shift(1,0),A=0;A<y.length;++A)if(y[A]!=null)switch(R[A]){case"L":H.write_shift(1,g[b][A]==null?63:g[b][A]?84:70);break;case"B":H.write_shift(8,g[b][A]||0,"f");break;case"N":var V="0";for(typeof g[b][A]=="number"&&(V=g[b][A].toFixed(Z[A]||0)),E=0;E<q[A]-V.length;++E)H.write_shift(1,32);H.write_shift(1,V,"sbcs");break;case"D":g[b][A]?(H.write_shift(4,("0000"+g[b][A].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(g[b][A].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+g[b][A].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var ae=String(g[b][A]!=null?g[b][A]:"").slice(0,q[A]);for(H.write_shift(1,ae,"sbcs"),E=0;E<q[A]-ae.length;++E)H.write_shift(1,32);break}}return m.next(1).write_shift(1,26),m.end()}return{to_workbook:a,to_sheet:r,from_sheet:l}})(),bB=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ki(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(y,g){var T=e[g];return typeof T=="number"?$S(T):T},r=function(y,g,T){var b=g.charCodeAt(0)-32<<4|T.charCodeAt(0)-48;return b==59?y:$S(b)};e["|"]=254;function a(y,g){switch(g.type){case"base64":return s(_c(y),g);case"binary":return s(y,g);case"buffer":return s(wr&&Buffer.isBuffer(y)?y.toString("binary"):u1(y),g);case"array":return s(Hp(y),g)}throw new Error("Unrecognized type "+g.type)}function s(y,g){var T=y.split(/[\n\r]+/),b=-1,A=-1,E=0,D=0,j=[],R=[],q=null,Z={},I=[],Y=[],P=[],Q=0,O;for(+g.codepage>=0&&Wd(+g.codepage);E!==T.length;++E){Q=0;var G=T[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),K=G.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),X=K[0],H;if(G.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":K[1].charAt(0)=="P"&&R.push(G.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,ae=!1,ce=!1,le=!1,me=-1,M=-1;for(D=1;D<K.length;++D)switch(K[D].charAt(0)){case"A":break;case"X":A=parseInt(K[D].slice(1))-1,ae=!0;break;case"Y":for(b=parseInt(K[D].slice(1))-1,ae||(A=0),O=j.length;O<=b;++O)j[O]=[];break;case"K":H=K[D].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(yc(H))?isNaN(Yd(H).getDate())||(H=ts(H)):(H=yc(H),q!==null&&UA(q)&&(H=qA(H))),V=!0;break;case"E":le=!0;var N=vU(K[D].slice(1),{r:b,c:A});j[b][A]=[j[b][A],N];break;case"S":ce=!0,j[b][A]=[j[b][A],"S5S"];break;case"G":break;case"R":me=parseInt(K[D].slice(1))-1;break;case"C":M=parseInt(K[D].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+G)}if(V&&(j[b][A]&&j[b][A].length==2?j[b][A][0]=H:j[b][A]=H,q=null),ce){if(le)throw new Error("SYLK shared formula cannot have own formula");var F=me>-1&&j[me][M];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");j[b][A][1]=yU(F[1],{r:b-me,c:A-M})}break;case"F":var L=0;for(D=1;D<K.length;++D)switch(K[D].charAt(0)){case"X":A=parseInt(K[D].slice(1))-1,++L;break;case"Y":for(b=parseInt(K[D].slice(1))-1,O=j.length;O<=b;++O)j[O]=[];break;case"M":Q=parseInt(K[D].slice(1))/20;break;case"F":break;case"G":break;case"P":q=R[parseInt(K[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=K[D].slice(1).split(" "),O=parseInt(P[0],10);O<=parseInt(P[1],10);++O)Q=parseInt(P[2],10),Y[O-1]=Q===0?{hidden:!0}:{wch:Q},Y5(Y[O-1]);break;case"C":A=parseInt(K[D].slice(1))-1,Y[A]||(Y[A]={});break;case"R":b=parseInt(K[D].slice(1))-1,I[b]||(I[b]={}),Q>0?(I[b].hpt=Q,I[b].hpx=L8(Q)):Q===0&&(I[b].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+G)}L<1&&(q=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+G)}}return I.length>0&&(Z["!rows"]=I),Y.length>0&&(Z["!cols"]=Y),g&&g.sheetRows&&(j=j.slice(0,g.sheetRows)),[j,Z]}function l(y,g){var T=a(y,g),b=T[0],A=T[1],E=fh(b,g);return ki(A).forEach(function(D){E[D]=A[D]}),E}function c(y,g){return Tf(l(y,g),g)}function d(y,g,T,b){var A="C;Y"+(T+1)+";X"+(b+1)+";K";switch(y.t){case"n":A+=y.v||0,y.f&&!y.F&&(A+=";E"+X5(y.f,{r:T,c:b}));break;case"b":A+=y.v?"TRUE":"FALSE";break;case"e":A+=y.w||y.v;break;case"d":A+='"'+(y.w||y.v)+'"';break;case"s":A+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return A}function h(y,g){g.forEach(function(T,b){var A="F;W"+(b+1)+" "+(b+1)+" ";T.hidden?A+="0":(typeof T.width=="number"&&!T.wpx&&(T.wpx=bp(T.width)),typeof T.wpx=="number"&&!T.wch&&(T.wch=wp(T.wpx)),typeof T.wch=="number"&&(A+=Math.round(T.wch))),A.charAt(A.length-1)!=" "&&y.push(A)})}function m(y,g){g.forEach(function(T,b){var A="F;";T.hidden?A+="M0;":T.hpt?A+="M"+20*T.hpt+";":T.hpx&&(A+="M"+20*Sp(T.hpx)+";"),A.length>2&&y.push(A+"R"+(b+1))})}function v(y,g){var T=["ID;PWXL;N;E"],b=[],A=Qr(y["!ref"]),E,D=Array.isArray(y),j=`\r
`;T.push("P;PGeneral"),T.push("F;P0;DG0G8;M255"),y["!cols"]&&h(T,y["!cols"]),y["!rows"]&&m(T,y["!rows"]),T.push("B;Y"+(A.e.r-A.s.r+1)+";X"+(A.e.c-A.s.c+1)+";D"+[A.s.c,A.s.r,A.e.c,A.e.r].join(" "));for(var R=A.s.r;R<=A.e.r;++R)for(var q=A.s.c;q<=A.e.c;++q){var Z=Lr({r:R,c:q});E=D?(y[R]||[])[q]:y[Z],!(!E||E.v==null&&(!E.f||E.F))&&b.push(d(E,y,R,q))}return T.join(j)+j+b.join(j)+j+"E"+j}return{to_workbook:c,to_sheet:l,from_sheet:v}})(),wB=(function(){function e(s,l){switch(l.type){case"base64":return t(_c(s),l);case"binary":return t(s,l);case"buffer":return t(wr&&Buffer.isBuffer(s)?s.toString("binary"):u1(s),l);case"array":return t(Hp(s),l)}throw new Error("Unrecognized type "+l.type)}function t(s,l){for(var c=s.split(`
`),d=-1,h=-1,m=0,v=[];m!==c.length;++m){if(c[m].trim()==="BOT"){v[++d]=[],h=0;continue}if(!(d<0)){var y=c[m].trim().split(","),g=y[0],T=y[1];++m;for(var b=c[m]||"";(b.match(/["]/g)||[]).length&1&&m<c.length-1;)b+=`
`+c[++m];switch(b=b.trim(),+g){case-1:if(b==="BOT"){v[++d]=[],h=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?v[d][h]=!0:b==="FALSE"?v[d][h]=!1:isNaN(yc(T))?isNaN(Yd(T).getDate())?v[d][h]=T:v[d][h]=ts(T):v[d][h]=yc(T),++h;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),v[d][h++]=b!==""?b:null;break}if(b==="EOD")break}}return l&&l.sheetRows&&(v=v.slice(0,l.sheetRows)),v}function n(s,l){return fh(e(s,l),l)}function r(s,l){return Tf(n(s,l),l)}var a=(function(){var s=function(d,h,m,v,y){d.push(h),d.push(m+","+v),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,h,m,v){d.push(h+","+m),d.push(h==1?'"'+v.replace(/"/g,'""')+'"':v)};return function(d){var h=[],m=Qr(d["!ref"]),v,y=Array.isArray(d);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,m.e.r-m.s.r+1,""),s(h,"TUPLES",0,m.e.c-m.s.c+1,""),s(h,"DATA",0,0,"");for(var g=m.s.r;g<=m.e.r;++g){l(h,-1,0,"BOT");for(var T=m.s.c;T<=m.e.c;++T){var b=Lr({r:g,c:T});if(v=y?(d[g]||[])[T]:d[b],!v){l(h,1,0,"");continue}switch(v.t){case"n":var A=v.w;!A&&v.v!=null&&(A=v.v),A==null?v.f&&!v.F?l(h,1,0,"="+v.f):l(h,1,0,""):l(h,0,A,"V");break;case"b":l(h,0,v.v?1:0,v.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(v.v)?v.v:'="'+v.v+'"');break;case"d":v.w||(v.w=Au(v.z||ja[14],ws(ts(v.v)))),l(h,0,v.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var E=`\r
`,D=h.join(E);return D}})();return{to_workbook:r,to_sheet:n,from_sheet:a}})(),C8=(function(){function e(v){return v.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(v){return v.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(v,y){for(var g=v.split(`
`),T=-1,b=-1,A=0,E=[];A!==g.length;++A){var D=g[A].trim().split(":");if(D[0]==="cell"){var j=xi(D[1]);if(E.length<=j.r)for(T=E.length;T<=j.r;++T)E[T]||(E[T]=[]);switch(T=j.r,b=j.c,D[2]){case"t":E[T][b]=e(D[3]);break;case"v":E[T][b]=+D[3];break;case"vtf":var R=D[D.length-1];case"vtc":switch(D[3]){case"nl":E[T][b]=!!+D[4];break;default:E[T][b]=+D[4];break}D[2]=="vtf"&&(E[T][b]=[E[T][b],R])}}}return y&&y.sheetRows&&(E=E.slice(0,y.sheetRows)),E}function r(v,y){return fh(n(v,y),y)}function a(v,y){return Tf(r(v,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(v){if(!v||!v["!ref"])return"";for(var y=[],g=[],T,b="",A=Ws(v["!ref"]),E=Array.isArray(v),D=A.s.r;D<=A.e.r;++D)for(var j=A.s.c;j<=A.e.c;++j)if(b=Lr({r:D,c:j}),T=E?(v[D]||[])[j]:v[b],!(!T||T.v==null||T.t==="z")){switch(g=["cell",b,"t"],T.t){case"s":case"str":g.push(t(T.v));break;case"n":T.f?(g[2]="vtf",g[3]="n",g[4]=T.v,g[5]=t(T.f)):(g[2]="v",g[3]=T.v);break;case"b":g[2]="vt"+(T.f?"f":"c"),g[3]="nl",g[4]=T.v?"1":"0",g[5]=t(T.f||(T.v?"TRUE":"FALSE"));break;case"d":var R=ws(ts(T.v));g[2]="vtc",g[3]="nd",g[4]=""+R,g[5]=T.w||Au(T.z||ja[14],R);break;case"e":continue}y.push(g.join(":"))}return y.push("sheet:c:"+(A.e.c-A.s.c+1)+":r:"+(A.e.r-A.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function m(v){return[s,l,c,l,h(v),d].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:m}})(),SB=(function(){function e(m,v,y,g,T){T.raw?v[y][g]=m:m===""||(m==="TRUE"?v[y][g]=!0:m==="FALSE"?v[y][g]=!1:isNaN(yc(m))?isNaN(Yd(m).getDate())?v[y][g]=m:v[y][g]=ts(m):v[y][g]=yc(m))}function t(m,v){var y=v||{},g=[];if(!m||m.length===0)return g;for(var T=m.split(/[\r\n]/),b=T.length-1;b>=0&&T[b].length===0;)--b;for(var A=10,E=0,D=0;D<=b;++D)E=T[D].indexOf(" "),E==-1?E=T[D].length:E++,A=Math.max(A,E);for(D=0;D<=b;++D){g[D]=[];var j=0;for(e(T[D].slice(0,A).trim(),g,D,j,y),j=1;j<=(T[D].length-A)/10+1;++j)e(T[D].slice(A+(j-1)*10,A+j*10).trim(),g,D,j,y)}return y.sheetRows&&(g=g.slice(0,y.sheetRows)),g}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(m){for(var v={},y=!1,g=0,T=0;g<m.length;++g)(T=m.charCodeAt(g))==34?y=!y:!y&&T in n&&(v[T]=(v[T]||0)+1);T=[];for(g in v)Object.prototype.hasOwnProperty.call(v,g)&&T.push([v[g],g]);if(!T.length){v=r;for(g in v)Object.prototype.hasOwnProperty.call(v,g)&&T.push([v[g],g])}return T.sort(function(b,A){return b[0]-A[0]||r[b[1]]-r[A[1]]}),n[T.pop()[1]]||44}function s(m,v){var y=v||{},g="",T=y.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};m.slice(0,4)=="sep="?m.charCodeAt(5)==13&&m.charCodeAt(6)==10?(g=m.charAt(4),m=m.slice(7)):m.charCodeAt(5)==13||m.charCodeAt(5)==10?(g=m.charAt(4),m=m.slice(6)):g=a(m.slice(0,1024)):y&&y.FS?g=y.FS:g=a(m.slice(0,1024));var A=0,E=0,D=0,j=0,R=0,q=g.charCodeAt(0),Z=!1,I=0,Y=m.charCodeAt(0);m=m.replace(/\r\n/mg,`
`);var P=y.dateNF!=null?II(y.dateNF):null;function Q(){var O=m.slice(j,R),G={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)G.t="z";else if(y.raw)G.t="s",G.v=O;else if(O.trim().length===0)G.t="s",G.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(G.t="s",G.v=O.slice(2,-1).replace(/""/g,'"')):bU(O)?(G.t="n",G.f=O.slice(1)):(G.t="s",G.v=O);else if(O=="TRUE")G.t="b",G.v=!0;else if(O=="FALSE")G.t="b",G.v=!1;else if(!isNaN(D=yc(O)))G.t="n",y.cellText!==!1&&(G.w=O),G.v=D;else if(!isNaN(Yd(O).getDate())||P&&O.match(P)){G.z=y.dateNF||ja[14];var K=0;P&&O.match(P)&&(O=PI(O,y.dateNF,O.match(P)||[]),K=1),y.cellDates?(G.t="d",G.v=ts(O,K)):(G.t="n",G.v=ws(ts(O,K))),y.cellText!==!1&&(G.w=Au(G.z,G.v instanceof Date?ws(G.v):G.v)),y.cellNF||delete G.z}else G.t="s",G.v=O;if(G.t=="z"||(y.dense?(T[A]||(T[A]=[]),T[A][E]=G):T[Lr({c:E,r:A})]=G),j=R+1,Y=m.charCodeAt(j),b.e.c<E&&(b.e.c=E),b.e.r<A&&(b.e.r=A),I==q)++E;else if(E=0,++A,y.sheetRows&&y.sheetRows<=A)return!0}e:for(;R<m.length;++R)switch(I=m.charCodeAt(R)){case 34:Y===34&&(Z=!Z);break;case q:case 10:case 13:if(!Z&&Q())break e;break}return R-j>0&&Q(),T["!ref"]=qa(b),T}function l(m,v){return!(v&&v.PRN)||v.FS||m.slice(0,4)=="sep="||m.indexOf("	")>=0||m.indexOf(",")>=0||m.indexOf(";")>=0?s(m,v):fh(t(m,v),v)}function c(m,v){var y="",g=v.type=="string"?[0,0,0,0]:Oq(m,v);switch(v.type){case"base64":y=_c(m);break;case"binary":y=m;break;case"buffer":v.codepage==65001?y=m.toString("utf8"):v.codepage&&typeof fp<"u"||(y=wr&&Buffer.isBuffer(m)?m.toString("binary"):u1(m));break;case"array":y=Hp(m);break;case"string":y=m;break;default:throw new Error("Unrecognized type "+v.type)}return g[0]==239&&g[1]==187&&g[2]==191?y=vd(y.slice(3)):v.type!="string"&&v.type!="buffer"&&v.codepage==65001?y=vd(y):v.type=="binary"&&typeof fp<"u",y.slice(0,19)=="socialcalc:version:"?C8.to_sheet(v.type=="string"?y:vd(y),v):l(y,v)}function d(m,v){return Tf(c(m,v),v)}function h(m){for(var v=[],y=Qr(m["!ref"]),g,T=Array.isArray(m),b=y.s.r;b<=y.e.r;++b){for(var A=[],E=y.s.c;E<=y.e.c;++E){var D=Lr({r:b,c:E});if(g=T?(m[b]||[])[E]:m[D],!g||g.v==null){A.push("          ");continue}for(var j=(g.w||(Tc(g),g.w)||"").slice(0,10);j.length<10;)j+=" ";A.push(j+(E===0?" ":""))}v.push(A.join(""))}return v.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:h}})(),_6=(function(){function e(N,F,L){if(N){Ps(N,N.l||0);for(var B=L.Enum||me;N.l<N.length;){var te=N.read_shift(2),de=B[te]||B[65535],Ne=N.read_shift(2),se=N.l+Ne,ve=de.f&&de.f(N,Ne,L);if(N.l=se,F(ve,de,te))return}}}function t(N,F){switch(F.type){case"base64":return n(Yo(_c(N)),F);case"binary":return n(Yo(N),F);case"buffer":case"array":return n(N,F)}throw"Unsupported type "+F.type}function n(N,F){if(!N)return N;var L=F||{},B=L.dense?[]:{},te="Sheet1",de="",Ne=0,se={},ve=[],je=[],ke={s:{r:0,c:0},e:{r:0,c:0}},Ge=L.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)L.Enum=me,e(N,function(Xe,wt,Ze){switch(Ze){case 0:L.vers=Xe,Xe>=4096&&(L.qpro=!0);break;case 6:ke=Xe;break;case 204:Xe&&(de=Xe);break;case 222:de=Xe;break;case 15:case 51:L.qpro||(Xe[1].v=Xe[1].v.slice(1));case 13:case 14:case 16:Ze==14&&(Xe[2]&112)==112&&(Xe[2]&15)>1&&(Xe[2]&15)<15&&(Xe[1].z=L.dateNF||ja[14],L.cellDates&&(Xe[1].t="d",Xe[1].v=qA(Xe[1].v))),L.qpro&&Xe[3]>Ne&&(B["!ref"]=qa(ke),se[te]=B,ve.push(te),B=L.dense?[]:{},ke={s:{r:0,c:0},e:{r:0,c:0}},Ne=Xe[3],te=de||"Sheet"+(Ne+1),de="");var Et=L.dense?(B[Xe[0].r]||[])[Xe[0].c]:B[Lr(Xe[0])];if(Et){Et.t=Xe[1].t,Et.v=Xe[1].v,Xe[1].z!=null&&(Et.z=Xe[1].z),Xe[1].f!=null&&(Et.f=Xe[1].f);break}L.dense?(B[Xe[0].r]||(B[Xe[0].r]=[]),B[Xe[0].r][Xe[0].c]=Xe[1]):B[Lr(Xe[0])]=Xe[1];break}},L);else if(N[2]==26||N[2]==14)L.Enum=M,N[2]==14&&(L.qpro=!0,N.l=0),e(N,function(Xe,wt,Ze){switch(Ze){case 204:te=Xe;break;case 22:Xe[1].v=Xe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Xe[3]>Ne&&(B["!ref"]=qa(ke),se[te]=B,ve.push(te),B=L.dense?[]:{},ke={s:{r:0,c:0},e:{r:0,c:0}},Ne=Xe[3],te="Sheet"+(Ne+1)),Ge>0&&Xe[0].r>=Ge)break;L.dense?(B[Xe[0].r]||(B[Xe[0].r]=[]),B[Xe[0].r][Xe[0].c]=Xe[1]):B[Lr(Xe[0])]=Xe[1],ke.e.c<Xe[0].c&&(ke.e.c=Xe[0].c),ke.e.r<Xe[0].r&&(ke.e.r=Xe[0].r);break;case 27:Xe[14e3]&&(je[Xe[14e3][0]]=Xe[14e3][1]);break;case 1537:je[Xe[0]]=Xe[1],Xe[0]==Ne&&(te=Xe[1]);break}},L);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(B["!ref"]=qa(ke),se[de||te]=B,ve.push(de||te),!je.length)return{SheetNames:ve,Sheets:se};for(var Te={},xe=[],gt=0;gt<je.length;++gt)se[ve[gt]]?(xe.push(je[gt]||ve[gt]),Te[je[gt]]=se[je[gt]]||se[ve[gt]]):(xe.push(je[gt]),Te[je[gt]]={"!ref":"A1"});return{SheetNames:xe,Sheets:Te}}function r(N,F){var L=F||{};if(+L.codepage>=0&&Wd(+L.codepage),L.type=="string")throw new Error("Cannot write WK1 to JS string");var B=bs(),te=Qr(N["!ref"]),de=Array.isArray(N),Ne=[];Ct(B,0,s(1030)),Ct(B,6,d(te));for(var se=Math.min(te.e.r,8191),ve=te.s.r;ve<=se;++ve)for(var je=Di(ve),ke=te.s.c;ke<=te.e.c;++ke){ve===te.s.r&&(Ne[ke]=Hi(ke));var Ge=Ne[ke]+je,Te=de?(N[ve]||[])[ke]:N[Ge];if(!(!Te||Te.t=="z"))if(Te.t=="n")(Te.v|0)==Te.v&&Te.v>=-32768&&Te.v<=32767?Ct(B,13,g(ve,ke,Te.v)):Ct(B,14,b(ve,ke,Te.v));else{var xe=Tc(Te);Ct(B,15,v(ve,ke,xe.slice(0,239)))}}return Ct(B,1),B.end()}function a(N,F){var L=F||{};if(+L.codepage>=0&&Wd(+L.codepage),L.type=="string")throw new Error("Cannot write WK3 to JS string");var B=bs();Ct(B,0,l(N));for(var te=0,de=0;te<N.SheetNames.length;++te)(N.Sheets[N.SheetNames[te]]||{})["!ref"]&&Ct(B,27,le(N.SheetNames[te],de++));var Ne=0;for(te=0;te<N.SheetNames.length;++te){var se=N.Sheets[N.SheetNames[te]];if(!(!se||!se["!ref"])){for(var ve=Qr(se["!ref"]),je=Array.isArray(se),ke=[],Ge=Math.min(ve.e.r,8191),Te=ve.s.r;Te<=Ge;++Te)for(var xe=Di(Te),gt=ve.s.c;gt<=ve.e.c;++gt){Te===ve.s.r&&(ke[gt]=Hi(gt));var Xe=ke[gt]+xe,wt=je?(se[Te]||[])[gt]:se[Xe];if(!(!wt||wt.t=="z"))if(wt.t=="n")Ct(B,23,Q(Te,gt,Ne,wt.v));else{var Ze=Tc(wt);Ct(B,22,I(Te,gt,Ne,Ze.slice(0,239)))}}++Ne}}return Ct(B,1),B.end()}function s(N){var F=at(2);return F.write_shift(2,N),F}function l(N){var F=at(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var L=0,B=0,te=0,de=0;de<N.SheetNames.length;++de){var Ne=N.SheetNames[de],se=N.Sheets[Ne];if(!(!se||!se["!ref"])){++te;var ve=Ws(se["!ref"]);L<ve.e.r&&(L=ve.e.r),B<ve.e.c&&(B=ve.e.c)}}return L>8191&&(L=8191),F.write_shift(2,L),F.write_shift(1,te),F.write_shift(1,B),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function c(N,F,L){var B={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&L.qpro?(B.s.c=N.read_shift(1),N.l++,B.s.r=N.read_shift(2),B.e.c=N.read_shift(1),N.l++,B.e.r=N.read_shift(2),B):(B.s.c=N.read_shift(2),B.s.r=N.read_shift(2),F==12&&L.qpro&&(N.l+=2),B.e.c=N.read_shift(2),B.e.r=N.read_shift(2),F==12&&L.qpro&&(N.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function d(N){var F=at(8);return F.write_shift(2,N.s.c),F.write_shift(2,N.s.r),F.write_shift(2,N.e.c),F.write_shift(2,N.e.r),F}function h(N,F,L){var B=[{c:0,r:0},{t:"n",v:0},0,0];return L.qpro&&L.vers!=20768?(B[0].c=N.read_shift(1),B[3]=N.read_shift(1),B[0].r=N.read_shift(2),N.l+=2):(B[2]=N.read_shift(1),B[0].c=N.read_shift(2),B[0].r=N.read_shift(2)),B}function m(N,F,L){var B=N.l+F,te=h(N,F,L);if(te[1].t="s",L.vers==20768){N.l++;var de=N.read_shift(1);return te[1].v=N.read_shift(de,"utf8"),te}return L.qpro&&N.l++,te[1].v=N.read_shift(B-N.l,"cstr"),te}function v(N,F,L){var B=at(7+L.length);B.write_shift(1,255),B.write_shift(2,F),B.write_shift(2,N),B.write_shift(1,39);for(var te=0;te<B.length;++te){var de=L.charCodeAt(te);B.write_shift(1,de>=128?95:de)}return B.write_shift(1,0),B}function y(N,F,L){var B=h(N,F,L);return B[1].v=N.read_shift(2,"i"),B}function g(N,F,L){var B=at(7);return B.write_shift(1,255),B.write_shift(2,F),B.write_shift(2,N),B.write_shift(2,L,"i"),B}function T(N,F,L){var B=h(N,F,L);return B[1].v=N.read_shift(8,"f"),B}function b(N,F,L){var B=at(13);return B.write_shift(1,255),B.write_shift(2,F),B.write_shift(2,N),B.write_shift(8,L,"f"),B}function A(N,F,L){var B=N.l+F,te=h(N,F,L);if(te[1].v=N.read_shift(8,"f"),L.qpro)N.l=B;else{var de=N.read_shift(2);R(N.slice(N.l,N.l+de),te),N.l+=de}return te}function E(N,F,L){var B=F&32768;return F&=-32769,F=(B?N:0)+(F>=8192?F-16384:F),(B?"":"$")+(L?Hi(F):Di(F))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(N,F){Ps(N,0);for(var L=[],B=0,te="",de="",Ne="",se="";N.l<N.length;){var ve=N[N.l++];switch(ve){case 0:L.push(N.read_shift(8,"f"));break;case 1:de=E(F[0].c,N.read_shift(2),!0),te=E(F[0].r,N.read_shift(2),!1),L.push(de+te);break;case 2:{var je=E(F[0].c,N.read_shift(2),!0),ke=E(F[0].r,N.read_shift(2),!1);de=E(F[0].c,N.read_shift(2),!0),te=E(F[0].r,N.read_shift(2),!1),L.push(je+ke+":"+de+te)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:L.push("("+L.pop()+")");break;case 5:L.push(N.read_shift(2));break;case 6:{for(var Ge="";ve=N[N.l++];)Ge+=String.fromCharCode(ve);L.push('"'+Ge.replace(/"/g,'""')+'"')}break;case 8:L.push("-"+L.pop());break;case 23:L.push("+"+L.pop());break;case 22:L.push("NOT("+L.pop()+")");break;case 20:case 21:se=L.pop(),Ne=L.pop(),L.push(["AND","OR"][ve-20]+"("+Ne+","+se+")");break;default:if(ve<32&&j[ve])se=L.pop(),Ne=L.pop(),L.push(Ne+j[ve]+se);else if(D[ve]){if(B=D[ve][1],B==69&&(B=N[N.l++]),B>L.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+L.join("|")+"|");return}var Te=L.slice(-B);L.length-=B,L.push(D[ve][0]+"("+Te.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}L.length==1?F[1].f=""+L[0]:console.error("WK1 bad formula parse |"+L.join("|")+"|")}function q(N){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=N.read_shift(2),F[3]=N[N.l++],F[0].c=N[N.l++],F}function Z(N,F){var L=q(N);return L[1].t="s",L[1].v=N.read_shift(F-4,"cstr"),L}function I(N,F,L,B){var te=at(6+B.length);te.write_shift(2,N),te.write_shift(1,L),te.write_shift(1,F),te.write_shift(1,39);for(var de=0;de<B.length;++de){var Ne=B.charCodeAt(de);te.write_shift(1,Ne>=128?95:Ne)}return te.write_shift(1,0),te}function Y(N,F){var L=q(N);L[1].v=N.read_shift(2);var B=L[1].v>>1;if(L[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return L[1].v=B,L}function P(N,F){var L=q(N),B=N.read_shift(4),te=N.read_shift(4),de=N.read_shift(2);if(de==65535)return B===0&&te===3221225472?(L[1].t="e",L[1].v=15):B===0&&te===3489660928?(L[1].t="e",L[1].v=42):L[1].v=0,L;var Ne=de&32768;return de=(de&32767)-16446,L[1].v=(1-Ne*2)*(te*Math.pow(2,de+32)+B*Math.pow(2,de)),L}function Q(N,F,L,B){var te=at(14);if(te.write_shift(2,N),te.write_shift(1,L),te.write_shift(1,F),B==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var de=0,Ne=0,se=0,ve=0;return B<0&&(de=1,B=-B),Ne=Math.log2(B)|0,B/=Math.pow(2,Ne-31),ve=B>>>0,(ve&2147483648)==0&&(B/=2,++Ne,ve=B>>>0),B-=ve,ve|=2147483648,ve>>>=0,B*=Math.pow(2,32),se=B>>>0,te.write_shift(4,se),te.write_shift(4,ve),Ne+=16383+(de?32768:0),te.write_shift(2,Ne),te}function O(N,F){var L=P(N);return N.l+=F-14,L}function G(N,F){var L=q(N),B=N.read_shift(4);return L[1].v=B>>6,L}function K(N,F){var L=q(N),B=N.read_shift(8,"f");return L[1].v=B,L}function X(N,F){var L=K(N);return N.l+=F-10,L}function H(N,F){return N[N.l+F-1]==0?N.read_shift(F,"cstr"):""}function V(N,F){var L=N[N.l++];L>F-1&&(L=F-1);for(var B="";B.length<L;)B+=String.fromCharCode(N[N.l++]);return B}function ae(N,F,L){if(!(!L.qpro||F<21)){var B=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var te=N.read_shift(F-21,"cstr");return[B,te]}}function ce(N,F){for(var L={},B=N.l+F;N.l<B;){var te=N.read_shift(2);if(te==14e3){for(L[te]=[0,""],L[te][0]=N.read_shift(2);N[N.l];)L[te][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return L}function le(N,F){var L=at(5+N.length);L.write_shift(2,14e3),L.write_shift(2,F);for(var B=0;B<N.length;++B){var te=N.charCodeAt(B);L[L.l++]=te>127?95:te}return L[L.l++]=0,L}var me={0:{n:"BOF",f:N8},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:T},15:{n:"LABEL",f:m},16:{n:"FORMULA",f:A},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:m},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},M={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:Z},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:Y},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:G},38:{n:"??"},39:{n:"NUMBER27",f:K},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ae},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:t}})(),NB=/^\s|\s$|[\t\n\r]/;function j8(e,t){if(!t.bookSST)return"";var n=[Wa];n[n.length]=At("sst",null,{xmlns:uh[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(e[r]!=null){var a=e[r],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(NB)&&(s+=' xml:space="preserve"'),s+=">"+kr(a.t)+"</t>"),s+="</si>",n[n.length]=s}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}function _B(e){return[e.read_shift(4),e.read_shift(4)]}function TB(e,t){return t||(t=at(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var AB=gP;function EB(e){var t=bs();pt(t,159,TB(e));for(var n=0;n<e.length;++n)pt(t,19,AB(e[n]));return pt(t,160),t.end()}function CB(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function D8(e){var t=0,n,r=CB(e),a=r.length+1,s,l,c,d,h;for(n=yf(a),n[0]=r.length,s=1;s!=a;++s)n[s]=r[s-1];for(s=a-1;s>=0;--s)l=n[s],c=(t&16384)===0?0:1,d=t<<1&32767,h=c|d,t=h^l;return t^52811}var jB=(function(){function e(a,s){switch(s.type){case"base64":return t(_c(a),s);case"binary":return t(a,s);case"buffer":return t(wr&&Buffer.isBuffer(a)?a.toString("binary"):u1(a),s);case"array":return t(Hp(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var l=s||{},c=l.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(m,v){Array.isArray(c)&&(c[v]=[]);for(var y=/\\\w+\b/g,g=0,T,b=-1;T=y.exec(m);){switch(T[0]){case"\\cell":var A=m.slice(g,y.lastIndex-T[0].length);if(A[0]==" "&&(A=A.slice(1)),++b,A.length){var E={v:A,t:"s"};Array.isArray(c)?c[v][b]=E:c[Lr({r:v,c:b})]=E}break}g=y.lastIndex}b>h.e.c&&(h.e.c=b)}),c["!ref"]=qa(h),c}function n(a,s){return Tf(e(a,s),s)}function r(a){for(var s=["{\\rtf1\\ansi"],l=Qr(a["!ref"]),c,d=Array.isArray(a),h=l.s.r;h<=l.e.r;++h){s.push("\\trowd\\trautofit1");for(var m=l.s.c;m<=l.e.c;++m)s.push("\\cellx"+(m+1));for(s.push("\\pard\\intbl"),m=l.s.c;m<=l.e.c;++m){var v=Lr({r:h,c:m});c=d?(a[h]||[])[m]:a[v],!(!c||c.v==null&&(!c.f||c.F))&&(s.push(" "+(c.w||(Tc(c),c.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function T6(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var DB=6,bc=DB;function bp(e){return Math.floor((e+Math.round(128/bc)/256)*bc)}function wp(e){return Math.floor((e-5)/bc*100+.5)/100}function Cv(e){return Math.round((e*bc+5)/bc*256)/256}function Y5(e){e.width?(e.wpx=bp(e.width),e.wch=wp(e.wpx),e.MDW=bc):e.wpx?(e.wch=wp(e.wpx),e.width=Cv(e.wch),e.MDW=bc):typeof e.wch=="number"&&(e.width=Cv(e.wch),e.wpx=bp(e.width),e.MDW=bc),e.customWidth&&delete e.customWidth}var kB=96,k8=kB;function Sp(e){return e*96/k8}function L8(e){return e*k8/96}function LB(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)e[r]!=null&&(t[t.length]=At("numFmt",null,{numFmtId:r,formatCode:kr(e[r])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=At("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function FB(e){var t=[];return t[t.length]=At("cellXfs",null),e.forEach(function(n){t[t.length]=At("xf",null,n)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=At("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function F8(e,t){var n=[Wa,At("styleSheet",null,{xmlns:uh[0],"xmlns:vt":gi.vt})],r;return e.SSF&&(r=LB(e.SSF))!=null&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=FB(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function OB(e,t){var n=e.read_shift(2),r=Vi(e);return[n,r]}function RB(e,t,n){n||(n=at(6+4*t.length)),n.write_shift(2,e),vi(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return n.l==null&&(n.l=n.length),r}function MB(e,t,n){var r={};r.sz=e.read_shift(2)/20;var a=NP(e);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var s=e.read_shift(2);switch(s===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(r.underline=l);var c=e.read_shift(1);c>0&&(r.family=c);var d=e.read_shift(1);switch(d>0&&(r.charset=d),e.l++,r.color=SP(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Vi(e),r}function zB(e,t){t||(t=at(153)),t.write_shift(2,e.sz*20),_P(e,t),t.write_shift(2,e.bold?700:400);var n=0;e.vertAlign=="superscript"?n=1:e.vertAlign=="subscript"&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),vp(e.color,t);var r=0;return r=2,t.write_shift(1,r),vi(e.name,t),t.length>t.l?t.slice(0,t.l):t}var IB=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],_x,PB=Ml;function A6(e,t){t||(t=at(84)),_x||(_x=M5(IB));var n=_x[e.patternType];n==null&&(n=40),t.write_shift(4,n);var r=0;if(n!=40)for(vp({auto:1},t),vp({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function BB(e,t){var n=e.l+t,r=e.read_shift(2),a=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:a}}function O8(e,t,n){n||(n=at(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);var r=0;return n.write_shift(1,r),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function id(e,t){return t||(t=at(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var UB=Ml;function HB(e,t){return t||(t=at(51)),t.write_shift(1,0),id(null,t),id(null,t),id(null,t),id(null,t),id(null,t),t.length>t.l?t.slice(0,t.l):t}function VB(e,t){return t||(t=at(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),xp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function GB(e,t,n){var r=at(2052);return r.write_shift(4,e),xp(t,r),xp(n,r),r.length>r.l?r.slice(0,r.l):r}function qB(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&++n}),n!=0&&(pt(e,615,Qo(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&pt(e,44,RB(a,t[a]))}),pt(e,616))}}function WB(e){var t=1;pt(e,611,Qo(t)),pt(e,43,zB({sz:12,color:{theme:1},name:"Calibri",family:2})),pt(e,612)}function $B(e){var t=2;pt(e,603,Qo(t)),pt(e,45,A6({patternType:"none"})),pt(e,45,A6({patternType:"gray125"})),pt(e,604)}function YB(e){var t=1;pt(e,613,Qo(t)),pt(e,46,HB()),pt(e,614)}function KB(e){var t=1;pt(e,626,Qo(t)),pt(e,47,O8({numFmtId:0},65535)),pt(e,627)}function XB(e,t){pt(e,617,Qo(t.length)),t.forEach(function(n){pt(e,47,O8(n,0))}),pt(e,618)}function ZB(e){var t=1;pt(e,619,Qo(t)),pt(e,48,VB({xfId:0,name:"Normal"})),pt(e,620)}function JB(e){var t=0;pt(e,505,Qo(t)),pt(e,506)}function QB(e){var t=0;pt(e,508,GB(t,"TableStyleMedium9","PivotStyleMedium4")),pt(e,509)}function eU(e,t){var n=bs();return pt(n,278),qB(n,e.SSF),WB(n),$B(n),YB(n),KB(n),XB(n,t.cellXfs),ZB(n),JB(n),QB(n),pt(n,279),n.end()}function R8(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var n=[Wa];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function tU(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Vi(e)}}function nU(e){var t=at(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),vi(e.name,t),t.slice(0,t.l)}function rU(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function aU(e){var t=at(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}function iU(e,t){var n=at(8+2*t.length);return n.write_shift(4,e),vi(t,n),n.slice(0,n.l)}function sU(e){return e.l+=4,e.read_shift(4)!=0}function oU(e,t){var n=at(8);return n.write_shift(4,e),n.write_shift(4,1),n}function lU(){var e=bs();return pt(e,332),pt(e,334,Qo(1)),pt(e,335,nU({name:"XLDAPR",version:12e4,flags:3496657072})),pt(e,336),pt(e,339,iU(1,"XLDAPR")),pt(e,52),pt(e,35,Qo(514)),pt(e,4096,Qo(0)),pt(e,4097,ho(1)),pt(e,36),pt(e,53),pt(e,340),pt(e,337,oU(1)),pt(e,51,aU([[1,0]])),pt(e,338),pt(e,333),e.end()}function M8(){var e=[Wa];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function cU(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Lr(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}var M0=1024;function z8(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),a=[At("xml",null,{"xmlns:v":Bs.v,"xmlns:o":Bs.o,"xmlns:x":Bs.x,"xmlns:mv":Bs.mv}).replace(/\/>/,">"),At("o:shapelayout",At("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),At("v:shapetype",[At("v:stroke",null,{joinstyle:"miter"}),At("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];M0<e*1e3;)M0+=1e3;return t.forEach(function(s){var l=xi(s[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?At("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=At("v:fill",d,c),m={on:"t",obscured:"t"};++M0,a=a.concat(["<v:shape"+Xd({id:"_x0000_s"+M0,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,At("v:shadow",null,m),At("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ji("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ji("x:AutoFill","False"),ji("x:Row",String(l.r)),ji("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function I8(e){var t=[Wa,At("comments",null,{xmlns:uh[0]})],n=[];return t.push("<authors>"),e.forEach(function(r){r[1].forEach(function(a){var s=kr(a.a);n.indexOf(s)==-1&&(n.push(s),t.push("<author>"+s+"</author>")),a.T&&a.ID&&n.indexOf("tc="+a.ID)==-1&&(n.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),n.length==0&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(r){var a=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=n.indexOf("tc="+r[1][0].ID):r[1].forEach(function(d){d.a&&(a=n.indexOf(kr(d.a))),s.push(d.t||"")}),t.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),s.length<=1)t.push(ji("t",kr(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,c=1;c<s.length;++c)l+=`Reply:
    `+s[c]+`
`;t.push(ji("t",kr(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function uU(e,t,n){var r=[Wa,At("ThreadedComments",null,{xmlns:gi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};c==0?s=d.id:d.parentId=s,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),r.push(At("threadedComment",ji("text",l.t||""),d))})}),r.push("</ThreadedComments>"),r.join("")}function fU(e){var t=[Wa,At("personList",null,{xmlns:gi.TCMNT,"xmlns:x":uh[0]}).replace(/[\/]>/,">")];return e.forEach(function(n,r){t.push(At("person",null,{displayName:n,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:n,providerId:"None"}))}),t.push("</personList>"),t.join("")}function hU(e){var t={};t.iauthor=e.read_shift(4);var n=jf(e);return t.rfx=n.s,t.ref=Lr(n.s),e.l+=16,t}function dU(e,t){return t==null&&(t=at(36)),t.write_shift(4,e[1].iauthor),hh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var mU=Vi;function pU(e){return vi(e.slice(0,54))}function gU(e){var t=bs(),n=[];return pt(t,628),pt(t,630),e.forEach(function(r){r[1].forEach(function(a){n.indexOf(a.a)>-1||(n.push(a.a.slice(0,54)),pt(t,632,pU(a.a)))})}),pt(t,631),pt(t,633),e.forEach(function(r){r[1].forEach(function(a){a.iauthor=n.indexOf(a.a);var s={s:xi(r[0]),e:xi(r[0])};pt(t,635,dU([s,a])),a.t&&a.t.length>0&&pt(t,637,vP(a)),pt(t,636),delete a.iauthor})}),pt(t,634),pt(t,629),t.end()}function xU(e,t){t.FullPaths.forEach(function(n,r){if(r!=0){var a=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Br.utils.cfb_add(e,a,t.FileIndex[r].content)}})}var P8=["xlsb","xlsm","xlam","biff8","xla"],vU=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,a,s,l){var c=!1,d=!1;s.length==0?d=!0:s.charAt(0)=="["&&(d=!0,s=s.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,m=l.length>0?parseInt(l,10)|0:0;return c?m+=t.c:--m,d?h+=t.r:--h,a+(c?"":"$")+Hi(m)+(d?"":"$")+Di(h)}return function(a,s){return t=s,a.replace(e,n)}})(),K5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,X5=(function(){return function(t,n){return t.replace(K5,function(r,a,s,l,c,d){var h=V5(l)-(s?0:n.c),m=H5(d)-(c?0:n.r),v=m==0?"":c?m+1:"["+m+"]",y=h==0?"":s?h+1:"["+h+"]";return a+"R"+v+"C"+y})}})();function yU(e,t){return e.replace(K5,function(n,r,a,s,l,c){return r+(a=="$"?a+s:Hi(V5(s)+t.c))+(l=="$"?l+c:Di(H5(c)+t.r))})}function bU(e){return e.length!=1}function Va(e){e.l+=1}function Eu(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function B8(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return U8(e);n.biff==12&&(r=4)}var a=e.read_shift(r),s=e.read_shift(r),l=Eu(e),c=Eu(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:c[0],cRel:c[1],rRel:c[2]}}}function U8(e){var t=Eu(e),n=Eu(e),r=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:a,cRel:n[1],rRel:n[2]}}}function wU(e,t,n){if(n.biff<8)return U8(e);var r=e.read_shift(n.biff==12?4:2),a=e.read_shift(n.biff==12?4:2),s=Eu(e),l=Eu(e);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function H8(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return SU(e);var r=e.read_shift(n&&n.biff==12?4:2),a=Eu(e);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function SU(e){var t=Eu(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function NU(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function _U(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return TU(e);var a=e.read_shift(r>=12?4:2),s=e.read_shift(2),l=(s&16384)>>14,c=(s&32768)>>15;if(s&=16383,c==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:c}}function TU(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),a==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:a,rRel:r}}function AU(e,t,n){var r=(e[e.l++]&96)>>5,a=B8(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,a]}function EU(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var l=B8(e,s,n);return[r,a,l]}function CU(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function jU(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(n)switch(n.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[r,a]}function DU(e,t,n){var r=(e[e.l++]&96)>>5,a=wU(e,t-1,n);return[r,a]}function kU(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function E6(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function LU(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),a=[],s=0;s<=r;++s)a.push(e.read_shift(n&&n.biff==2?1:2));return a}function FU(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function OU(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function RU(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function MU(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function V8(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function zU(e){return e.read_shift(2),V8(e)}function IU(e){return e.read_shift(2),V8(e)}function PU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=H8(e,0,n);return[r,a]}function BU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=_U(e,0,n);return[r,a]}function UU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var s=H8(e,0,n);return[r,a,s]}function HU(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(n&&n.biff<=3?1:2);return[HH[a],W8[a],r]}function VU(e,t,n){var r=e[e.l++],a=e.read_shift(1),s=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:GU(e);return[a,(s[0]===0?W8:UH)[s[1]]]}function GU(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function qU(e,t,n){e.l+=n&&n.biff==2?3:4}function WU(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function $U(e){return e.l++,d1[e.read_shift(1)]}function YU(e){return e.l++,e.read_shift(2)}function KU(e){return e.l++,e.read_shift(1)!==0}function XU(e){return e.l++,dh(e)}function ZU(e,t,n){return e.l++,T8(e,t-1,n)}function JU(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=UP(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=d1[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=dh(e);break;case 2:n[1]=qP(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function QU(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),a=[],s=0;s!=r;++s)a.push((n.biff==12?jf:YP)(e));return a}function eH(e,t,n){var r=0,a=0;n.biff==12?(r=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--a==0&&(a=256));for(var s=0,l=[];s!=r&&(l[s]=[]);++s)for(var c=0;c!=a;++c)l[s][c]=JU(e,n.biff);return l}function tH(e,t,n){var r=e.read_shift(1)>>>5&3,a=!n||n.biff>=8?4:2,s=e.read_shift(a);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,s]}function nH(e,t,n){if(n.biff==5)return rH(e);var r=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[r,a,s]}function rH(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function aH(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function iH(e,t,n){var r=e.read_shift(1)>>>5&3,a=e.read_shift(n&&n.biff==2?1:2);return[r,a]}function sH(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function oH(e,t,n){var r=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(n)switch(n.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[r,a]}var lH=Ml,cH=Ml,uH=Ml;function m1(e,t,n){return e.l+=2,[NU(e)]}function Z5(e){return e.l+=6,[]}var fH=m1,hH=Z5,dH=Z5,mH=m1;function G8(e){return e.l+=2,[N8(e),e.read_shift(2)&1]}var pH=m1,gH=G8,xH=Z5,vH=m1,yH=m1,bH=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function wH(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),l=bH[n>>2&31];return{ixti:t,coltype:n&3,rt:l,idx:r,c:a,C:s}}function SH(e){return e.l+=2,[e.read_shift(4)]}function NH(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function _H(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function TH(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function AH(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function EH(e){return e.l+=4,[0,0]}var C6={1:{n:"PtgExp",f:WU},2:{n:"PtgTbl",f:uH},3:{n:"PtgAdd",f:Va},4:{n:"PtgSub",f:Va},5:{n:"PtgMul",f:Va},6:{n:"PtgDiv",f:Va},7:{n:"PtgPower",f:Va},8:{n:"PtgConcat",f:Va},9:{n:"PtgLt",f:Va},10:{n:"PtgLe",f:Va},11:{n:"PtgEq",f:Va},12:{n:"PtgGe",f:Va},13:{n:"PtgGt",f:Va},14:{n:"PtgNe",f:Va},15:{n:"PtgIsect",f:Va},16:{n:"PtgUnion",f:Va},17:{n:"PtgRange",f:Va},18:{n:"PtgUplus",f:Va},19:{n:"PtgUminus",f:Va},20:{n:"PtgPercent",f:Va},21:{n:"PtgParen",f:Va},22:{n:"PtgMissArg",f:Va},23:{n:"PtgStr",f:ZU},26:{n:"PtgSheet",f:NH},27:{n:"PtgEndSheet",f:_H},28:{n:"PtgErr",f:$U},29:{n:"PtgBool",f:KU},30:{n:"PtgInt",f:YU},31:{n:"PtgNum",f:XU},32:{n:"PtgArray",f:kU},33:{n:"PtgFunc",f:HU},34:{n:"PtgFuncVar",f:VU},35:{n:"PtgName",f:tH},36:{n:"PtgRef",f:PU},37:{n:"PtgArea",f:AU},38:{n:"PtgMemArea",f:aH},39:{n:"PtgMemErr",f:lH},40:{n:"PtgMemNoMem",f:cH},41:{n:"PtgMemFunc",f:iH},42:{n:"PtgRefErr",f:sH},43:{n:"PtgAreaErr",f:CU},44:{n:"PtgRefN",f:BU},45:{n:"PtgAreaN",f:DU},46:{n:"PtgMemAreaN",f:TH},47:{n:"PtgMemNoMemN",f:AH},57:{n:"PtgNameX",f:nH},58:{n:"PtgRef3d",f:UU},59:{n:"PtgArea3d",f:EU},60:{n:"PtgRefErr3d",f:oH},61:{n:"PtgAreaErr3d",f:jU},255:{}},CH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},jH={1:{n:"PtgElfLel",f:G8},2:{n:"PtgElfRw",f:vH},3:{n:"PtgElfCol",f:fH},6:{n:"PtgElfRwV",f:yH},7:{n:"PtgElfColV",f:mH},10:{n:"PtgElfRadical",f:pH},11:{n:"PtgElfRadicalS",f:xH},13:{n:"PtgElfColS",f:hH},15:{n:"PtgElfColSV",f:dH},16:{n:"PtgElfRadicalLel",f:gH},25:{n:"PtgList",f:wH},29:{n:"PtgSxName",f:SH},255:{}},DH={0:{n:"PtgAttrNoop",f:EH},1:{n:"PtgAttrSemi",f:MU},2:{n:"PtgAttrIf",f:OU},4:{n:"PtgAttrChoose",f:LU},8:{n:"PtgAttrGoto",f:FU},16:{n:"PtgAttrSum",f:qU},32:{n:"PtgAttrBaxcel",f:E6},33:{n:"PtgAttrBaxcel",f:E6},64:{n:"PtgAttrSpace",f:zU},65:{n:"PtgAttrSpaceSemi",f:IU},128:{n:"PtgAttrIfError",f:RU},255:{}};function kH(e,t,n,r){if(r.biff<8)return Ml(e,t);for(var a=e.l+t,s=[],l=0;l!==n.length;++l)switch(n[l][0]){case"PtgArray":n[l][1]=eH(e,0,r),s.push(n[l][1]);break;case"PtgMemArea":n[l][2]=QU(e,n[l][1],r),s.push(n[l][2]);break;case"PtgExp":r&&r.biff==12&&(n[l][1][1]=e.read_shift(4),s.push(n[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[l][0]}return t=a-e.l,t!==0&&s.push(Ml(e,t)),s}function LH(e,t,n){for(var r=e.l+t,a,s,l=[];r!=e.l;)t=r-e.l,s=e[e.l],a=C6[s]||C6[CH[s]],(s===24||s===25)&&(a=(s===24?jH:DH)[e[e.l+1]]),!a||!a.f?Ml(e,t):l.push([a.n,a.f(e,t,n)]);return l}function FH(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],a=[],s=0;s<r.length;++s){var l=r[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var OH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RH(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function q8(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var a="";if(n.biff>8)switch(e[r[0]][0]){case 357:return a=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[r[0]][0][3]?(a=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function j6(e,t,n){var r=q8(e,t,n);return r=="#REF"?r:RH(r,n)}function rh(e,t,n,r,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},c=[],d,h,m,v=0,y=0,g,T="";if(!e[0]||!e[0][0])return"";for(var b=-1,A="",E=0,D=e[0].length;E<D;++E){var j=e[0][E];switch(j[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),h=c.pop(),b>=0){switch(e[0][b][1][0]){case 0:A=Ca(" ",e[0][b][1][1]);break;case 1:A=Ca("\r",e[0][b][1][1]);break;default:if(A="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}h=h+A,b=-1}c.push(h+OH[j[0]]+d);break;case"PtgIsect":d=c.pop(),h=c.pop(),c.push(h+" "+d);break;case"PtgUnion":d=c.pop(),h=c.pop(),c.push(h+","+d);break;case"PtgRange":d=c.pop(),h=c.pop(),c.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":m=bd(j[1][1],l,a),c.push(wd(m,s));break;case"PtgRefN":m=n?bd(j[1][1],n,a):j[1][1],c.push(wd(m,s));break;case"PtgRef3d":v=j[1][1],m=bd(j[1][2],l,a),T=j6(r,v,a),c.push(T+"!"+wd(m,s));break;case"PtgFunc":case"PtgFuncVar":var R=j[1][0],q=j[1][1];R||(R=0),R&=127;var Z=R==0?[]:c.slice(-R);c.length-=R,q==="User"&&(q=Z.shift()),c.push(q+"("+Z.join(",")+")");break;case"PtgBool":c.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(j[1]);break;case"PtgNum":c.push(String(j[1]));break;case"PtgStr":c.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(j[1]);break;case"PtgAreaN":g=d6(j[1][1],n?{s:n}:l,a),c.push(Sx(g,a));break;case"PtgArea":g=d6(j[1][1],l,a),c.push(Sx(g,a));break;case"PtgArea3d":v=j[1][1],g=j[1][2],T=j6(r,v,a),c.push(T+"!"+Sx(g,a));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=j[1][2];var I=(r.names||[])[y-1]||(r[0]||[])[y],Y=I?I.Name:"SH33TJSNAME"+String(y);Y&&Y.slice(0,6)=="_xlfn."&&!a.xlfn&&(Y=Y.slice(6)),c.push(Y);break;case"PtgNameX":var P=j[1][1];y=j[1][2];var Q;if(a.biff<=5)P<0&&(P=-P),r[P]&&(Q=r[P][y]);else{var O="";if(((r[P]||[])[0]||[])[0]==14849||(((r[P]||[])[0]||[])[0]==1025?r[P][y]&&r[P][y].itab>0&&(O=r.SheetNames[r[P][y].itab-1]+"!"):O=r.SheetNames[y-1]+"!"),r[P]&&r[P][y])O+=r[P][y].Name;else if(r[0]&&r[0][y])O+=r[0][y].Name;else{var G=(q8(r,P,a)||"").split(";;");G[y-1]?O=G[y-1]:O+="SH33TJSERRX"}c.push(O);break}Q||(Q={Name:"SH33TJSERRY"}),c.push(Q.Name);break;case"PtgParen":var K="(",X=")";if(b>=0){switch(A="",e[0][b][1][0]){case 2:K=Ca(" ",e[0][b][1][1])+K;break;case 3:K=Ca("\r",e[0][b][1][1])+K;break;case 4:X=Ca(" ",e[0][b][1][1])+X;break;case 5:X=Ca("\r",e[0][b][1][1])+X;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][b][1][0])}b=-1}c.push(K+c.pop()+X);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":m={c:j[1][1],r:j[1][0]};var H={c:n.c,r:n.r};if(r.sharedf[Lr(m)]){var V=r.sharedf[Lr(m)];c.push(rh(V,l,H,r,a))}else{var ae=!1;for(d=0;d!=r.arrayf.length;++d)if(h=r.arrayf[d],!(m.c<h[0].s.c||m.c>h[0].e.c)&&!(m.r<h[0].s.r||m.r>h[0].e.r)){c.push(rh(h[1],l,H,r,a)),ae=!0;break}ae||c.push(j[1])}break;case"PtgArray":c.push("{"+FH(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&b>=0&&ce.indexOf(e[0][E][0])==-1){j=e[0][b];var le=!0;switch(j[1][0]){case 4:le=!1;case 0:A=Ca(" ",j[1][1]);break;case 5:le=!1;case 1:A=Ca("\r",j[1][1]);break;default:if(A="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}c.push((le?A:"")+c.pop()+(le?"":A)),b=-1}}if(c.length>1&&a.WTF)throw new Error("bad formula stack");return c[0]}function MH(e){if(e==null){var t=at(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return bf(e);return bf(0)}function zH(e,t,n,r,a){var s=wf(t,n,a),l=MH(e.v),c=at(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var h=at(e.bf.length),m=0;m<e.bf.length;++m)h[m]=e.bf[m];var v=Ci([s,l,c,h]);return v}function Vp(e,t,n){var r=e.read_shift(4),a=LH(e,r,n),s=e.read_shift(4),l=s>0?kH(e,s,a,n):null;return[a,l]}var IH=Vp,Gp=Vp,PH=Vp,BH=Vp,UH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},W8={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},HH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function VH(e){var t="of:="+e.replace(K5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function GH(e){return e.replace(/\./,"!")}var Sd=typeof Map<"u";function J5(e,t,n){var r=0,a=e.length;if(n){if(Sd?n.has(t):Object.prototype.hasOwnProperty.call(n,t)){for(var s=Sd?n.get(t):n[t];r<s.length;++r)if(e[s[r]].t===t)return e.Count++,s[r]}}else for(;r<a;++r)if(e[r].t===t)return e.Count++,r;return e[a]={t},e.Count++,e.Unique++,n&&(Sd?(n.has(t)||n.set(t,[]),n.get(t).push(a)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(a))),a}function qp(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(bc=t.MDW),t.width!=null?n.customWidth=1:t.wpx!=null?r=wp(t.wpx):t.wch!=null&&(r=t.wch),r>-1?(n.width=Cv(r),n.customWidth=1):t.width!=null&&(n.width=t.width),t.hidden&&(n.hidden=!0),t.level!=null&&(n.outlineLevel=n.level=t.level),n}function $8(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function Lu(e,t,n){var r=n.revssf[t.z!=null?t.z:"General"],a=60,s=e.length;if(r==null&&n.ssf){for(;a<392;++a)if(n.ssf[a]==null){HA(t.z,a),n.ssf[a]=t.z,n.revssf[t.z]=r=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===r)return a;return e[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function qH(e,t,n){if(e&&e["!ref"]){var r=Qr(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}function WH(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+qa(e[n])+'"/>';return t+"</mergeCells>"}function $H(e,t,n,r,a){var s=!1,l={},c=null;if(r.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[n];try{t.Workbook&&(d=t.Workbook.Sheets[n].CodeName||d)}catch{}s=!0,l.codeName=Kd(kr(d))}if(e&&e["!outline"]){var h={summaryBelow:1,summaryRight:1};e["!outline"].above&&(h.summaryBelow=0),e["!outline"].left&&(h.summaryRight=0),c=(c||"")+At("outlinePr",null,h)}!s&&!c||(a[a.length]=At("sheetPr",c,l))}var YH=["objects","scenarios","selectLockedCells","selectUnlockedCells"],KH=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function XH(e){var t={sheet:1};return YH.forEach(function(n){e[n]!=null&&e[n]&&(t[n]="1")}),KH.forEach(function(n){e[n]!=null&&!e[n]&&(t[n]="0")}),e.password&&(t.password=D8(e.password).toString(16).toUpperCase()),At("sheetProtection",null,t)}function ZH(e){return $8(e),At("pageMargins",null,e)}function JH(e,t){for(var n=["<cols>"],r,a=0;a!=t.length;++a)(r=t[a])&&(n[n.length]=At("col",null,qp(a,r)));return n[n.length]="</cols>",n.join("")}function QH(e,t,n,r){var a=typeof e.ref=="string"?e.ref:qa(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,l=Ws(a);l.s.r==l.e.r&&(l.e.r=Ws(t["!ref"]).e.r,a=qa(l));for(var c=0;c<s.length;++c){var d=s[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+n.SheetNames[r]+"'!"+a;break}}return c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),At("autoFilter",null,{ref:a})}function eV(e,t,n,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),At("sheetViews",At("sheetView",null,a),{})}function tV(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=d1[e.v];break;case"d":r&&r.cellDates?a=ts(e.v,-1).toISOString():(e=Ss(e),e.t="n",a=""+(e.v=ws(ts(e.v)))),typeof e.z>"u"&&(e.z=ja[14]);break;default:a=e.v;break}var c=ji("v",kr(a)),d={r:t},h=Lu(r.cellXfs,e,r);switch(h!==0&&(d.s=h),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){c=ji("v",""+J5(r.Strings,e.v,r.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=s&&(e.t=s,e.v=l),typeof e.f=="string"&&e.f){var m=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=At("f",kr(e.f),m)+(e.v!=null?c:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(d.cm=1),At("c",c,d)}function nV(e,t,n,r){var a=[],s=[],l=Qr(e["!ref"]),c="",d,h="",m=[],v=0,y=0,g=e["!rows"],T=Array.isArray(e),b={r:h},A,E=-1;for(y=l.s.c;y<=l.e.c;++y)m[y]=Hi(y);for(v=l.s.r;v<=l.e.r;++v){for(s=[],h=Di(v),y=l.s.c;y<=l.e.c;++y){d=m[y]+h;var D=T?(e[v]||[])[y]:e[d];D!==void 0&&(c=tV(D,d,e,t))!=null&&s.push(c)}(s.length>0||g&&g[v])&&(b={r:h},g&&g[v]&&(A=g[v],A.hidden&&(b.hidden=1),E=-1,A.hpx?E=Sp(A.hpx):A.hpt&&(E=A.hpt),E>-1&&(b.ht=E,b.customHeight=1),A.level&&(b.outlineLevel=A.level)),a[a.length]=At("row",s.join(""),b))}if(g)for(;v<g.length;++v)g&&g[v]&&(b={r:v+1},A=g[v],A.hidden&&(b.hidden=1),E=-1,A.hpx?E=Sp(A.hpx):A.hpt&&(E=A.hpt),E>-1&&(b.ht=E,b.customHeight=1),A.level&&(b.outlineLevel=A.level),a[a.length]=At("row","",b));return a.join("")}function Y8(e,t,n,r){var a=[Wa,At("worksheet",null,{xmlns:uh[0],"xmlns:r":gi.r})],s=n.SheetNames[e],l=0,c="",d=n.Sheets[s];d==null&&(d={});var h=d["!ref"]||"A1",m=Qr(h);if(m.e.c>16383||m.e.r>1048575){if(t.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575),h=qa(m)}r||(r={}),d["!comments"]=[];var v=[];$H(d,n,e,t,a),a[a.length]=At("dimension",null,{ref:h}),a[a.length]=eV(d,t,e,n),t.sheetFormat&&(a[a.length]=At("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=JH(d,d["!cols"])),a[l=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=nV(d,t),c.length>0&&(a[a.length]=c)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),d["!protect"]&&(a[a.length]=XH(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=QH(d["!autofilter"],d,n,e)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=WH(d["!merges"]));var y=-1,g,T=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(b){b[1].Target&&(g={ref:b[0]},b[1].Target.charAt(0)!="#"&&(T=jr(r,-1,kr(b[1].Target).replace(/#.*$/,""),xr.HLINK),g["r:id"]="rId"+T),(y=b[1].Target.indexOf("#"))>-1&&(g.location=kr(b[1].Target.slice(y+1))),b[1].Tooltip&&(g.tooltip=kr(b[1].Tooltip)),a[a.length]=At("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=ZH(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ji("ignoredErrors",At("ignoredError",null,{numberStoredAsText:1,sqref:h}))),v.length>0&&(T=jr(r,-1,"../drawings/drawing"+(e+1)+".xml",xr.DRAW),a[a.length]=At("drawing",null,{"r:id":"rId"+T}),d["!drawing"]=v),d["!comments"].length>0&&(T=jr(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",xr.VML),a[a.length]=At("legacyDrawing",null,{"r:id":"rId"+T}),d["!legacy"]=T),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function rV(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=r,s&7&&(n.level=s&7),s&16&&(n.hidden=!0),s&32&&(n.hpt=a/20),n}function aV(e,t,n){var r=at(145),a=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var s=320;a.hpx?s=Sp(a.hpx)*20:a.hpt&&(s=a.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),r.write_shift(1,l),r.write_shift(1,0);var c=0,d=r.l;r.l+=4;for(var h={r:e,c:0},m=0;m<16;++m)if(!(t.s.c>m+1<<10||t.e.c<m<<10)){for(var v=-1,y=-1,g=m<<10;g<m+1<<10;++g){h.c=g;var T=Array.isArray(n)?(n[h.r]||[])[h.c]:n[Lr(h)];T&&(v<0&&(v=g),y=g)}v<0||(++c,r.write_shift(4,v),r.write_shift(4,y))}var b=r.l;return r.l=d,r.write_shift(4,c),r.l=b,r.length>r.l?r.slice(0,r.l):r}function iV(e,t,n,r){var a=aV(r,n,t);(a.length>17||(t["!rows"]||[])[r])&&pt(e,0,a)}var sV=jf,oV=hh;function lV(){}function cV(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=yP(e),n}function uV(e,t,n){n==null&&(n=at(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var a=1;a<3;++a)n.write_shift(1,0);return vp({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),c8(e,n),n.slice(0,n.l)}function fV(e){var t=vo(e);return[t]}function hV(e,t,n){return n==null&&(n=at(8)),Af(t,n)}function dV(e){var t=Ef(e);return[t]}function mV(e,t,n){return n==null&&(n=at(4)),Cf(t,n)}function pV(e){var t=vo(e),n=e.read_shift(1);return[t,n,"b"]}function gV(e,t,n){return n==null&&(n=at(9)),Af(t,n),n.write_shift(1,e.v?1:0),n}function xV(e){var t=Ef(e),n=e.read_shift(1);return[t,n,"b"]}function vV(e,t,n){return n==null&&(n=at(5)),Cf(t,n),n.write_shift(1,e.v?1:0),n}function yV(e){var t=vo(e),n=e.read_shift(1);return[t,n,"e"]}function bV(e,t,n){return n==null&&(n=at(9)),Af(t,n),n.write_shift(1,e.v),n}function wV(e){var t=Ef(e),n=e.read_shift(1);return[t,n,"e"]}function SV(e,t,n){return n==null&&(n=at(8)),Cf(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}function NV(e){var t=vo(e),n=e.read_shift(4);return[t,n,"s"]}function _V(e,t,n){return n==null&&(n=at(12)),Af(t,n),n.write_shift(4,t.v),n}function TV(e){var t=Ef(e),n=e.read_shift(4);return[t,n,"s"]}function AV(e,t,n){return n==null&&(n=at(8)),Cf(t,n),n.write_shift(4,t.v),n}function EV(e){var t=vo(e),n=dh(e);return[t,n,"n"]}function CV(e,t,n){return n==null&&(n=at(16)),Af(t,n),bf(e.v,n),n}function jV(e){var t=Ef(e),n=dh(e);return[t,n,"n"]}function DV(e,t,n){return n==null&&(n=at(12)),Cf(t,n),bf(e.v,n),n}function kV(e){var t=vo(e),n=u8(e);return[t,n,"n"]}function LV(e,t,n){return n==null&&(n=at(12)),Af(t,n),f8(e.v,n),n}function FV(e){var t=Ef(e),n=u8(e);return[t,n,"n"]}function OV(e,t,n){return n==null&&(n=at(8)),Cf(t,n),f8(e.v,n),n}function RV(e){var t=vo(e),n=G5(e);return[t,n,"is"]}function MV(e){var t=vo(e),n=Vi(e);return[t,n,"str"]}function zV(e,t,n){return n==null&&(n=at(12+4*e.v.length)),Af(t,n),vi(e.v,n),n.length>n.l?n.slice(0,n.l):n}function IV(e){var t=Ef(e),n=Vi(e);return[t,n,"str"]}function PV(e,t,n){return n==null&&(n=at(8+4*e.v.length)),Cf(t,n),vi(e.v,n),n.length>n.l?n.slice(0,n.l):n}function BV(e,t,n){var r=e.l+t,a=vo(e);a.r=n["!row"];var s=e.read_shift(1),l=[a,s,"b"];if(n.cellFormula){e.l+=2;var c=Gp(e,r-e.l,n);l[3]=rh(c,null,a,n.supbooks,n)}else e.l=r;return l}function UV(e,t,n){var r=e.l+t,a=vo(e);a.r=n["!row"];var s=e.read_shift(1),l=[a,s,"e"];if(n.cellFormula){e.l+=2;var c=Gp(e,r-e.l,n);l[3]=rh(c,null,a,n.supbooks,n)}else e.l=r;return l}function HV(e,t,n){var r=e.l+t,a=vo(e);a.r=n["!row"];var s=dh(e),l=[a,s,"n"];if(n.cellFormula){e.l+=2;var c=Gp(e,r-e.l,n);l[3]=rh(c,null,a,n.supbooks,n)}else e.l=r;return l}function VV(e,t,n){var r=e.l+t,a=vo(e);a.r=n["!row"];var s=Vi(e),l=[a,s,"str"];if(n.cellFormula){e.l+=2;var c=Gp(e,r-e.l,n);l[3]=rh(c,null,a,n.supbooks,n)}else e.l=r;return l}var GV=jf,qV=hh;function WV(e,t){return t==null&&(t=at(4)),t.write_shift(4,e),t}function $V(e,t){var n=e.l+t,r=jf(e),a=q5(e),s=Vi(e),l=Vi(e),c=Vi(e);e.l=n;var d={rfx:r,relId:a,loc:s,display:c};return l&&(d.Tooltip=l),d}function YV(e,t){var n=at(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));hh({s:xi(e[0]),e:xi(e[0])},n),W5("rId"+t,n);var r=e[1].Target.indexOf("#"),a=r==-1?"":e[1].Target.slice(r+1);return vi(a||"",n),vi(e[1].Tooltip||"",n),vi("",n),n.slice(0,n.l)}function KV(){}function XV(e,t,n){var r=e.l+t,a=h8(e),s=e.read_shift(1),l=[a];if(l[2]=s,n.cellFormula){var c=IH(e,r-e.l,n);l[1]=c}else e.l=r;return l}function ZV(e,t,n){var r=e.l+t,a=jf(e),s=[a];if(n.cellFormula){var l=BH(e,r-e.l,n);s[1]=l,e.l=r}else e.l=r;return s}function JV(e,t,n){n==null&&(n=at(18));var r=qp(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,(r.width||10)*256),n.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),n.write_shift(2,a),n}var K8=["left","right","top","bottom","header","footer"];function QV(e){var t={};return K8.forEach(function(n){t[n]=dh(e)}),t}function eG(e,t){return t==null&&(t=at(48)),$8(e),K8.forEach(function(n){bf(e[n],t)}),t}function tG(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function nG(e,t,n){n==null&&(n=at(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}function rG(e){var t=at(24);return t.write_shift(4,4),t.write_shift(4,1),hh(e,t),t}function aG(e,t){return t==null&&(t=at(66)),t.write_shift(2,e.password?D8(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(n){n[1]?t.write_shift(4,e[n[0]]!=null&&!e[n[0]]?1:0):t.write_shift(4,e[n[0]]!=null&&e[n[0]]?0:1)}),t}function iG(){}function sG(){}function oG(e,t,n,r,a,s,l){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=Ss(t),t.z=t.z||ja[14],t.v=ws(ts(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var d={r:n,c:r};switch(d.s=Lu(a.cellXfs,t,a),t.l&&s["!links"].push([Lr(d),t.l]),t.c&&s["!comments"].push([Lr(d),t.c]),t.t){case"s":case"str":return a.bookSST?(c=J5(a.Strings,t.v,a.revStrings),d.t="s",d.v=c,l?pt(e,18,AV(t,d)):pt(e,7,_V(t,d))):(d.t="str",l?pt(e,17,PV(t,d)):pt(e,6,zV(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?pt(e,13,OV(t,d)):pt(e,2,LV(t,d)):l?pt(e,16,DV(t,d)):pt(e,5,CV(t,d)),!0;case"b":return d.t="b",l?pt(e,15,vV(t,d)):pt(e,4,gV(t,d)),!0;case"e":return d.t="e",l?pt(e,14,SV(t,d)):pt(e,3,bV(t,d)),!0}return l?pt(e,12,mV(t,d)):pt(e,1,hV(t,d)),!0}function lG(e,t,n,r){var a=Qr(t["!ref"]||"A1"),s,l="",c=[];pt(e,145);var d=Array.isArray(t),h=a.e.r;t["!rows"]&&(h=Math.max(a.e.r,t["!rows"].length-1));for(var m=a.s.r;m<=h;++m){l=Di(m),iV(e,t,a,m);var v=!1;if(m<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){m===a.s.r&&(c[y]=Hi(y)),s=c[y]+l;var g=d?(t[m]||[])[y]:t[s];if(!g){v=!1;continue}v=oG(e,g,m,y,r,t,v)}}pt(e,146)}function cG(e,t){!t||!t["!merges"]||(pt(e,177,WV(t["!merges"].length)),t["!merges"].forEach(function(n){pt(e,176,qV(n))}),pt(e,178))}function uG(e,t){!t||!t["!cols"]||(pt(e,390),t["!cols"].forEach(function(n,r){n&&pt(e,60,JV(r,n))}),pt(e,391))}function fG(e,t){!t||!t["!ref"]||(pt(e,648),pt(e,649,rG(Qr(t["!ref"]))),pt(e,650))}function hG(e,t,n){t["!links"].forEach(function(r){if(r[1].Target){var a=jr(n,-1,r[1].Target.replace(/#.*$/,""),xr.HLINK);pt(e,494,YV(r,a))}}),delete t["!links"]}function dG(e,t,n,r){if(t["!comments"].length>0){var a=jr(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",xr.VML);pt(e,551,W5("rId"+a)),t["!legacy"]=a}}function mG(e,t,n,r){if(t["!autofilter"]){var a=t["!autofilter"],s=typeof a.ref=="string"?a.ref:qa(a.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var l=n.Workbook.Names,c=Ws(s);c.s.r==c.e.r&&(c.e.r=Ws(t["!ref"]).e.r,s=qa(c));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+n.SheetNames[r]+"'!"+s;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),pt(e,161,hh(Qr(s))),pt(e,162)}}function pG(e,t,n){pt(e,133),pt(e,137,nG(t,n)),pt(e,138),pt(e,134)}function gG(e,t){t["!protect"]&&pt(e,535,aG(t["!protect"]))}function xG(e,t,n,r){var a=bs(),s=n.SheetNames[e],l=n.Sheets[s]||{},c=s;try{n&&n.Workbook&&(c=n.Workbook.Sheets[e].CodeName||c)}catch{}var d=Qr(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],pt(a,129),(n.vbaraw||l["!outline"])&&pt(a,147,uV(c,l["!outline"])),pt(a,148,oV(d)),pG(a,l,n.Workbook),uG(a,l),lG(a,l,e,t),gG(a,l),mG(a,l,n,e),cG(a,l),hG(a,l,r),l["!margins"]&&pt(a,476,eG(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&fG(a,l),dG(a,l,e,r),pt(a,130),a.end()}function vG(e,t){e.l+=10;var n=Vi(e);return{name:n}}var yG=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function bG(e){return!e.Workbook||!e.Workbook.WBProps?"false":ZI(e.Workbook.WBProps.date1904)?"true":"false"}var wG="][*?/\\".split("");function X8(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return wG.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}function SG(e,t,n){e.forEach(function(r,a){X8(r);for(var s=0;s<a;++s)if(r==e[s])throw new Error("Duplicate Sheet Name: "+r);if(n){var l=t&&t[a]&&t[a].CodeName||r;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function NG(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];SG(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)qH(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function Z8(e){var t=[Wa];t[t.length]=At("workbook",null,{xmlns:uh[0],"xmlns:r":gi.r});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(yG.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(r[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=At("workbookPr",null,r);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),t[t.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:kr(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=At("sheet",null,l)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(t[t.length]=At("definedName",kr(c.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function _G(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=Ev(e),n.name=Vi(e),n}function TG(e,t){return t||(t=at(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),W5(e.strRelID,t),vi(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function AG(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var a=t>8?Vi(e):"";return a.length>0&&(n.CodeName=a),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function EG(e,t){t||(t=at(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),c8(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function CG(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=bP(e),l=PH(e,0,n),c=q5(e);e.l=r;var d={Name:s,Ptg:l};return a<268435455&&(d.Sheet=a),c&&(d.Comment=c),d}function jG(e,t){pt(e,143);for(var n=0;n!=t.SheetNames.length;++n){var r=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,a={Hidden:r,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]};pt(e,156,TG(a))}pt(e,144)}function DG(e,t){t||(t=at(127));for(var n=0;n!=4;++n)t.write_shift(4,0);return vi("SheetJS",t),vi(up.version,t),vi(up.version,t),vi("7262",t),t.length>t.l?t.slice(0,t.l):t}function kG(e,t){t||(t=at(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var n=120;return t.write_shift(1,n),t.length>t.l?t.slice(0,t.l):t}function LG(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var n=t.Workbook.Sheets,r=0,a=-1,s=-1;r<n.length;++r)!n[r]||!n[r].Hidden&&a==-1?a=r:n[r].Hidden==1&&s==-1&&(s=r);s>a||(pt(e,135),pt(e,158,kG(a)),pt(e,136))}}function FG(e,t){var n=bs();return pt(n,131),pt(n,128,DG()),pt(n,153,EG(e.Workbook&&e.Workbook.WBProps||null)),LG(n,e),jG(n,e),pt(n,132),n.end()}function OG(e,t,n){return(t.slice(-4)===".bin"?FG:Z8)(e)}function RG(e,t,n,r,a){return(t.slice(-4)===".bin"?xG:Y8)(e,n,r,a)}function MG(e,t,n){return(t.slice(-4)===".bin"?eU:F8)(e,n)}function zG(e,t,n){return(t.slice(-4)===".bin"?EB:j8)(e,n)}function IG(e,t,n){return(t.slice(-4)===".bin"?gU:I8)(e)}function PG(e){return(e.slice(-4)===".bin"?lU:M8)()}function BG(e,t){var n=[];return e.Props&&n.push(MP(e.Props,t)),e.Custprops&&n.push(zP(e.Props,e.Custprops)),n.join("")}function UG(){return""}function HG(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(r,a){var s=[];s.push(At("NumberFormat",null,{"ss:Format":kr(ja[r.numFmtId])}));var l={"ss:ID":"s"+(21+a)};n.push(At("Style",s.join(""),l))}),At("Styles",n.join(""))}function J8(e){return At("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+X5(e.Ref,{r:0,c:0})})}function VG(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var a=t[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||n.push(J8(a)))}return At("Names",n.join(""))}function GG(e,t,n,r){if(!e||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,s=[],l=0;l<a.length;++l){var c=a[l];c.Sheet==n&&(c.Name.match(/^_xlfn\./)||s.push(J8(c)))}return s.join("")}function qG(e,t,n,r){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(At("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(At("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(At("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)a.push(At("Visible",r.Workbook.Sheets[n].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<n&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==n&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ji("ProtectContents","True")),e["!protect"].objects&&a.push(ji("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ji("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ji("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ji("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":At("WorksheetOptions",a.join(""),{xmlns:Bs.x})}function WG(e){return e.map(function(t){var n=XI(t.t||""),r=At("ss:Data",n,{xmlns:"http://www.w3.org/TR/REC-html40"});return At("Comment",r,{"ss:Author":t.a})}).join("")}function $G(e,t,n,r,a,s,l){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+kr(X5(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var d=xi(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=kr(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=kr(e.l.Tooltip))),n["!merges"])for(var h=n["!merges"],m=0;m!=h.length;++m)h[m].s.c!=l.c||h[m].s.r!=l.r||(h[m].e.c>h[m].s.c&&(c["ss:MergeAcross"]=h[m].e.c-h[m].s.c),h[m].e.r>h[m].s.r&&(c["ss:MergeDown"]=h[m].e.r-h[m].s.r));var v="",y="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":v="Number",y=String(e.v);break;case"b":v="Boolean",y=e.v?"1":"0";break;case"e":v="Error",y=d1[e.v];break;case"d":v="DateTime",y=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ja[14]);break;case"s":v="String",y=KI(e.v||"");break}var g=Lu(r.cellXfs,e,r);c["ss:StyleID"]="s"+(21+g),c["ss:Index"]=l.c+1;var T=e.v!=null?y:"",b=e.t=="z"?"":'<Data ss:Type="'+v+'">'+T+"</Data>";return(e.c||[]).length>0&&(b+=WG(e.c)),At("Cell",b,c)}function YG(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=L8(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function KG(e,t,n,r){if(!e["!ref"])return"";var a=Qr(e["!ref"]),s=e["!merges"]||[],l=0,c=[];e["!cols"]&&e["!cols"].forEach(function(A,E){Y5(A);var D=!!A.width,j=qp(E,A),R={"ss:Index":E+1};D&&(R["ss:Width"]=bp(j.width)),A.hidden&&(R["ss:Hidden"]="1"),c.push(At("Column",null,R))});for(var d=Array.isArray(e),h=a.s.r;h<=a.e.r;++h){for(var m=[YG(h,(e["!rows"]||[])[h])],v=a.s.c;v<=a.e.c;++v){var y=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>v)&&!(s[l].s.r>h)&&!(s[l].e.c<v)&&!(s[l].e.r<h)){(s[l].s.c!=v||s[l].s.r!=h)&&(y=!0);break}if(!y){var g={r:h,c:v},T=Lr(g),b=d?(e[h]||[])[v]:e[T];m.push($G(b,T,e,t,n,r,g))}}m.push("</Row>"),m.length>2&&c.push(m.join(""))}return c.join("")}function XG(e,t,n){var r=[],a=n.SheetNames[e],s=n.Sheets[a],l=s?GG(s,t,e,n):"";return l.length>0&&r.push("<Names>"+l+"</Names>"),l=s?KG(s,t,e,n):"",l.length>0&&r.push("<Table>"+l+"</Table>"),r.push(qG(s,t,e,n)),r.join("")}function ZG(e,t){t||(t={}),e.SSF||(e.SSF=Ss(ja)),e.SSF&&(Bp(),Pp(e.SSF),t.revssf=Up(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Lu(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(BG(e,t)),n.push(UG()),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(At("Worksheet",XG(r,t,e),{"ss:Name":kr(e.SheetNames[r])}));return n[2]=HG(e,t),n[3]=VG(e),Wa+At("Workbook",n.join(""),{xmlns:Bs.ss,"xmlns:o":Bs.o,"xmlns:x":Bs.x,"xmlns:ss":Bs.ss,"xmlns:dt":Bs.dt,"xmlns:html":Bs.html})}var Tx={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JG(e,t){var n=[],r=[],a=[],s=0,l,c=n6(p6,"n"),d=n6(g6,"n");if(e.Props)for(l=ki(e.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(c,l[s])?n:Object.prototype.hasOwnProperty.call(d,l[s])?r:a).push([l[s],e.Props[l[s]]]);if(e.Custprops)for(l=ki(e.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(c,l[s])?n:Object.prototype.hasOwnProperty.call(d,l[s])?r:a).push([l[s],e.Custprops[l[s]]]);var h=[];for(s=0;s<a.length;++s)S8.indexOf(a[s][0])>-1||y8.indexOf(a[s][0])>-1||a[s][1]!=null&&h.push(a[s]);r.length&&Br.utils.cfb_add(t,"/SummaryInformation",w6(r,Tx.SI,d,g6)),(n.length||h.length)&&Br.utils.cfb_add(t,"/DocumentSummaryInformation",w6(n,Tx.DSI,c,p6,h.length?h:null,Tx.UDI))}function QG(e,t){var n=t||{},r=Br.utils.cfb_new({root:"R"}),a="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":a="/Workbook",n.biff=8;break;case"biff5":a="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Br.utils.cfb_add(r,a,Q8(e,n)),n.biff==8&&(e.Props||e.Custprops)&&JG(e,r),n.biff==8&&e.vbaraw&&xU(r,Br.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),r}var eq={0:{f:rV},1:{f:fV},2:{f:kV},3:{f:yV},4:{f:pV},5:{f:EV},6:{f:MV},7:{f:NV},8:{f:VV},9:{f:HV},10:{f:BV},11:{f:UV},12:{f:dV},13:{f:FV},14:{f:wV},15:{f:xV},16:{f:jV},17:{f:IV},18:{f:TV},19:{f:G5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:CG},40:{},42:{},43:{f:MB},44:{f:OB},45:{f:PB},46:{f:UB},47:{f:BB},48:{},49:{f:dP},50:{},51:{f:rU},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mB},62:{f:RV},63:{f:cU},64:{f:iG},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ml,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tG},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cV},148:{f:sV,p:16},151:{f:KV},152:{},153:{f:AG},154:{},155:{},156:{f:_G},157:{},158:{},159:{T:1,f:_B},160:{T:-1},161:{T:1,f:jf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:GV},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tU},336:{T:-1},337:{f:sU,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Ev},357:{},358:{},359:{},360:{T:1},361:{},362:{f:lB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:XV},427:{f:ZV},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:QV},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:lV},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:$V},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Ev},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mU},633:{T:1},634:{T:-1},635:{T:1,f:hU},636:{T:-1},637:{f:xP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:vG},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sG},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Ct(e,t,n,r){var a=t;if(!isNaN(a)){var s=r||(n||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&U5(n)&&e.push(n)}}function tq(e,t,n,r){var a=(n||[]).length||0;if(a<=8224)return Ct(e,t,n,a);var s=t;if(!isNaN(s)){for(var l=n.parts||[],c=0,d=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var m=e.next(4);for(m.write_shift(2,s),m.write_shift(2,h),e.push(n.slice(d,d+h)),d+=h;d<a;){for(m=e.next(4),m.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;m.write_shift(2,h),e.push(n.slice(d,d+h)),d+=h}}}function p1(e,t,n){return e||(e=at(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function nq(e,t,n,r){var a=at(9);return p1(a,e,t),_8(n,r||"b",a),a}function rq(e,t,n){var r=at(8+2*n.length);return p1(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function aq(e,t,n,r){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?ws(ts(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Ct(e,2,vB(n,r,a)):Ct(e,3,xB(n,r,a));return;case"b":case"e":Ct(e,5,nq(n,r,t.v,t.t));return;case"s":case"str":Ct(e,4,rq(n,r,(t.v||"").slice(0,255)));return}Ct(e,1,p1(null,n,r))}function iq(e,t,n,r){var a=Array.isArray(t),s=Qr(t["!ref"]||"A1"),l,c="",d=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=qa(s)}for(var h=s.s.r;h<=s.e.r;++h){c=Di(h);for(var m=s.s.c;m<=s.e.c;++m){h===s.s.r&&(d[m]=Hi(m)),l=d[m]+c;var v=a?(t[h]||[])[m]:t[l];v&&aq(e,v,h,m)}}}function sq(e,t){for(var n=t||{},r=bs(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==n.sheet&&(a=s);if(a==0&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Ct(r,n.biff==4?1033:n.biff==3?521:9,$5(e,16,n)),iq(r,e.Sheets[e.SheetNames[a]],a,n),Ct(r,10),r.end()}function oq(e,t,n){Ct(e,49,eB({sz:12,name:"Arial"},n))}function lq(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)t[a]!=null&&Ct(e,1054,rB(a,t[a],n))})}function cq(e,t){var n=at(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Ct(e,2151,n),n=at(39),n.write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),E8(Qr(t["!ref"]||"A1"),n),n.write_shift(4,4),Ct(e,2152,n)}function uq(e,t){for(var n=0;n<16;++n)Ct(e,224,N6({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Ct(e,224,N6(r,0,t))})}function fq(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Ct(e,440,fB(r)),r[1].Tooltip&&Ct(e,2048,hB(r))}delete t["!links"]}function hq(e,t){if(t){var n=0;t.forEach(function(r,a){++n<=256&&r&&Ct(e,125,pB(qp(a,r),a))})}}function dq(e,t,n,r,a){var s=16+Lu(a.cellXfs,t,a);if(t.v==null&&!t.bf){Ct(e,513,wf(n,r,s));return}if(t.bf)Ct(e,6,zH(t,n,r,a,s));else switch(t.t){case"d":case"n":var l=t.t=="d"?ws(ts(t.v)):t.v;Ct(e,515,oB(n,r,l,s));break;case"b":case"e":Ct(e,517,sB(n,r,t.v,s,a,t.t));break;case"s":case"str":if(a.bookSST){var c=J5(a.Strings,t.v,a.revStrings);Ct(e,253,tB(n,r,c,s))}else Ct(e,516,nB(n,r,(t.v||"").slice(0,255),s,a));break;default:Ct(e,513,wf(n,r,s))}}function mq(e,t,n){var r=bs(),a=n.SheetNames[e],s=n.Sheets[a]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[e]||{},d=Array.isArray(s),h=t.biff==8,m,v="",y=[],g=Qr(s["!ref"]||"A1"),T=h?65536:16384;if(g.e.c>255||g.e.r>=T){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,T-1)}Ct(r,2057,$5(n,16,t)),Ct(r,13,ho(1)),Ct(r,12,ho(100)),Ct(r,15,Qi(!0)),Ct(r,17,Qi(!1)),Ct(r,16,bf(.001)),Ct(r,95,Qi(!0)),Ct(r,42,Qi(!1)),Ct(r,43,Qi(!1)),Ct(r,130,ho(1)),Ct(r,128,iB()),Ct(r,131,Qi(!1)),Ct(r,132,Qi(!1)),h&&hq(r,s["!cols"]),Ct(r,512,aB(g,t)),h&&(s["!links"]=[]);for(var b=g.s.r;b<=g.e.r;++b){v=Di(b);for(var A=g.s.c;A<=g.e.c;++A){b===g.s.r&&(y[A]=Hi(A)),m=y[A]+v;var E=d?(s[b]||[])[A]:s[m];E&&(dq(r,E,b,A,t),h&&E.l&&s["!links"].push([m,E.l]))}}var D=c.CodeName||c.name||a;return h&&Ct(r,574,QP((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&Ct(r,229,uB(s["!merges"])),h&&fq(r,s),Ct(r,442,A8(D)),h&&cq(r,s),Ct(r,10),r.end()}function pq(e,t,n){var r=bs(),a=(e||{}).Workbook||{},s=a.Sheets||[],l=a.WBProps||{},c=n.biff==8,d=n.biff==5;if(Ct(r,2057,$5(e,5,n)),n.bookType=="xla"&&Ct(r,135),Ct(r,225,c?ho(1200):null),Ct(r,193,BP(2)),d&&Ct(r,191),d&&Ct(r,192),Ct(r,226),Ct(r,92,KP("SheetJS",n)),Ct(r,66,ho(c?1200:1252)),c&&Ct(r,353,ho(0)),c&&Ct(r,448),Ct(r,317,gB(e.SheetNames.length)),c&&e.vbaraw&&Ct(r,211),c&&e.vbaraw){var h=l.CodeName||"ThisWorkbook";Ct(r,442,A8(h))}Ct(r,156,ho(17)),Ct(r,25,Qi(!1)),Ct(r,18,Qi(!1)),Ct(r,19,ho(0)),c&&Ct(r,431,Qi(!1)),c&&Ct(r,444,ho(0)),Ct(r,61,JP()),Ct(r,64,Qi(!1)),Ct(r,141,ho(0)),Ct(r,34,Qi(bG(e)=="true")),Ct(r,14,Qi(!0)),c&&Ct(r,439,Qi(!1)),Ct(r,218,ho(0)),oq(r,e,n),lq(r,e.SSF,n),uq(r,n),c&&Ct(r,352,Qi(!1));var m=r.end(),v=bs();c&&Ct(v,140,dB()),c&&n.Strings&&tq(v,252,ZP(n.Strings)),Ct(v,10);var y=v.end(),g=bs(),T=0,b=0;for(b=0;b<e.SheetNames.length;++b)T+=(c?12:11)+(c?2:1)*e.SheetNames[b].length;var A=m.length+T+y.length;for(b=0;b<e.SheetNames.length;++b){var E=s[b]||{};Ct(g,133,XP({pos:A,hs:E.Hidden||0,dt:0,name:e.SheetNames[b]},n)),A+=t[b].length}var D=g.end();if(T!=D.length)throw new Error("BS8 "+T+" != "+D.length);var j=[];return m.length&&j.push(m),D.length&&j.push(D),y.length&&j.push(y),Ci(j)}function gq(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=Ss(ja)),e&&e.SSF&&(Bp(),Pp(e.SSF),n.revssf=Up(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,Q5(n),n.cellXfs=[],Lu(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)r[r.length]=mq(a,n,e);return r.unshift(pq(e,r,n)),Ci(r)}function Q8(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(!(!r||!r["!ref"])){var a=Ws(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}}var s=t||{};switch(s.biff||2){case 8:case 5:return gq(e,t);case 4:case 3:case 2:return sq(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function xq(e,t,n,r){for(var a=e["!merges"]||[],s=[],l=t.s.c;l<=t.e.c;++l){for(var c=0,d=0,h=0;h<a.length;++h)if(!(a[h].s.r>n||a[h].s.c>l)&&!(a[h].e.r<n||a[h].e.c<l)){if(a[h].s.r<n||a[h].s.c<l){c=-1;break}c=a[h].e.r-a[h].s.r+1,d=a[h].e.c-a[h].s.c+1;break}if(!(c<0)){var m=Lr({r:n,c:l}),v=r.dense?(e[n]||[])[l]:e[m],y=v&&v.v!=null&&(v.h||YI(v.w||(Tc(v),v.w)||""))||"",g={};c>1&&(g.rowspan=c),d>1&&(g.colspan=d),r.editable?y='<span contenteditable="true">'+y+"</span>":v&&(g["data-t"]=v&&v.t||"z",v.v!=null&&(g["data-v"]=v.v),v.z!=null&&(g["data-z"]=v.z),v.l&&(v.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+v.l.Target+'">'+y+"</a>")),g.id=(r.id||"sjs")+"-"+m,s.push(At("td",y,g))}}var T="<tr>";return T+s.join("")+"</tr>"}var vq='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yq="</body></html>";function bq(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function eE(e,t){var n=t||{},r=n.header!=null?n.header:vq,a=n.footer!=null?n.footer:yq,s=[r],l=Ws(e["!ref"]);n.dense=Array.isArray(e),s.push(bq(e,l,n));for(var c=l.s.r;c<=l.e.r;++c)s.push(xq(e,l,c,n));return s.push("</table>"+a),s.join("")}function tE(e,t,n){var r=n||{},a=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var l=typeof r.origin=="string"?xi(r.origin):r.origin;a=l.r,s=l.c}var c=t.getElementsByTagName("tr"),d=Math.min(r.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var m=Ws(e["!ref"]);h.s.r=Math.min(h.s.r,m.s.r),h.s.c=Math.min(h.s.c,m.s.c),h.e.r=Math.max(h.e.r,m.e.r),h.e.c=Math.max(h.e.c,m.e.c),a==-1&&(h.e.r=a=m.e.r+1)}var v=[],y=0,g=e["!rows"]||(e["!rows"]=[]),T=0,b=0,A=0,E=0,D=0,j=0;for(e["!cols"]||(e["!cols"]=[]);T<c.length&&b<d;++T){var R=c[T];if(D6(R)){if(r.display)continue;g[b]={hidden:!0}}var q=R.children;for(A=E=0;A<q.length;++A){var Z=q[A];if(!(r.display&&D6(Z))){var I=Z.hasAttribute("data-v")?Z.getAttribute("data-v"):Z.hasAttribute("v")?Z.getAttribute("v"):JI(Z.innerHTML),Y=Z.getAttribute("data-z")||Z.getAttribute("z");for(y=0;y<v.length;++y){var P=v[y];P.s.c==E+s&&P.s.r<b+a&&b+a<=P.e.r&&(E=P.e.c+1-s,y=-1)}j=+Z.getAttribute("colspan")||1,((D=+Z.getAttribute("rowspan")||1)>1||j>1)&&v.push({s:{r:b+a,c:E+s},e:{r:b+a+(D||1)-1,c:E+s+(j||1)-1}});var Q={t:"s",v:I},O=Z.getAttribute("data-t")||Z.getAttribute("t")||"";I!=null&&(I.length==0?Q.t=O||"z":r.raw||I.trim().length==0||O=="s"||(I==="TRUE"?Q={t:"b",v:!0}:I==="FALSE"?Q={t:"b",v:!1}:isNaN(yc(I))?isNaN(Yd(I).getDate())||(Q={t:"d",v:ts(I)},r.cellDates||(Q={t:"n",v:ws(Q.v)}),Q.z=r.dateNF||ja[14]):Q={t:"n",v:yc(I)})),Q.z===void 0&&Y!=null&&(Q.z=Y);var G="",K=Z.getElementsByTagName("A");if(K&&K.length)for(var X=0;X<K.length&&!(K[X].hasAttribute("href")&&(G=K[X].getAttribute("href"),G.charAt(0)!="#"));++X);G&&G.charAt(0)!="#"&&(Q.l={Target:G}),r.dense?(e[b+a]||(e[b+a]=[]),e[b+a][E+s]=Q):e[Lr({c:E+s,r:b+a})]=Q,h.e.c<E+s&&(h.e.c=E+s),E+=j}}++b}return v.length&&(e["!merges"]=(e["!merges"]||[]).concat(v)),h.e.r=Math.max(h.e.r,b-1+a),e["!ref"]=qa(h),b>=d&&(e["!fullref"]=qa((h.e.r=c.length-T+b-1+a,h))),e}function nE(e,t){var n=t||{},r=n.dense?[]:{};return tE(r,e,t)}function wq(e,t){return Tf(nE(e,t),t)}function D6(e){var t="",n=Sq(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Sq(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Nq=(function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Xd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Wa+t}})(),k6=(function(){var e=function(s){return kr(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,n=`          <table:covered-table-cell/>
`,r=function(s,l,c){var d=[];d.push('      <table:table table:name="'+kr(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,m=0,v=Ws(s["!ref"]||"A1"),y=s["!merges"]||[],g=0,T=Array.isArray(s);if(s["!cols"])for(m=0;m<=v.e.c;++m)d.push("        <table:table-column"+(s["!cols"][m]?' table:style-name="co'+s["!cols"][m].ods+'"':"")+`></table:table-column>
`);var b="",A=s["!rows"]||[];for(h=0;h<v.s.r;++h)b=A[h]?' table:style-name="ro'+A[h].ods+'"':"",d.push("        <table:table-row"+b+`></table:table-row>
`);for(;h<=v.e.r;++h){for(b=A[h]?' table:style-name="ro'+A[h].ods+'"':"",d.push("        <table:table-row"+b+`>
`),m=0;m<v.s.c;++m)d.push(t);for(;m<=v.e.c;++m){var E=!1,D={},j="";for(g=0;g!=y.length;++g)if(!(y[g].s.c>m)&&!(y[g].s.r>h)&&!(y[g].e.c<m)&&!(y[g].e.r<h)){(y[g].s.c!=m||y[g].s.r!=h)&&(E=!0),D["table:number-columns-spanned"]=y[g].e.c-y[g].s.c+1,D["table:number-rows-spanned"]=y[g].e.r-y[g].s.r+1;break}if(E){d.push(n);continue}var R=Lr({r:h,c:m}),q=T?(s[h]||[])[m]:s[R];if(q&&q.f&&(D["table:formula"]=kr(VH(q.f)),q.F&&q.F.slice(0,R.length)==R)){var Z=Ws(q.F);D["table:number-matrix-columns-spanned"]=Z.e.c-Z.s.c+1,D["table:number-matrix-rows-spanned"]=Z.e.r-Z.s.r+1}if(!q){d.push(t);continue}switch(q.t){case"b":j=q.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=q.v?"true":"false";break;case"n":j=q.w||String(q.v||0),D["office:value-type"]="float",D["office:value"]=q.v||0;break;case"s":case"str":j=q.v==null?"":q.v,D["office:value-type"]="string";break;case"d":j=q.w||ts(q.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=ts(q.v).toISOString(),D["table:style-name"]="ce1";break;default:d.push(t);continue}var I=e(j);if(q.l&&q.l.Target){var Y=q.l.Target;Y=Y.charAt(0)=="#"?"#"+GH(Y.slice(1)):Y,Y.charAt(0)!="#"&&!Y.match(/^\w+:/)&&(Y="../"+Y),I=At("text:a",I,{"xlink:href":Y.replace(/&/g,"&amp;")})}d.push("          "+At("table:table-cell",At("text:p",I,{}),D)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var m=0;m<h["!cols"].length;++m)if(h["!cols"][m]){var v=h["!cols"][m];if(v.width==null&&v.wpx==null&&v.wch==null)continue;Y5(v),v.ods=c;var y=h["!cols"][m].wpx+"px";s.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),s.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var m=0;m<h["!rows"].length;++m)if(h["!rows"][m]){h["!rows"][m].ods=d;var v=h["!rows"][m].hpx+"px";s.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+v+`"/>
`),s.push(`  </style:style>
`),++d}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,c){var d=[Wa],h=Xd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),m=Xd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+h+m+`>
`),d.push(x8().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),a(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var v=0;v!=l.SheetNames.length;++v)d.push(r(l.Sheets[l.SheetNames[v]],l,v));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}})();function rE(e,t){if(t.bookType=="fods")return k6(e,t);var n=z5(),r="",a=[],s=[];return r="mimetype",Bn(n,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",Bn(n,r,k6(e,t)),a.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",Bn(n,r,Nq(e,t)),a.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",Bn(n,r,Wa+x8()),a.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",Bn(n,r,RP(s)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",Bn(n,r,FP(a)),n}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Np(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _q(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Yo(Kd(e))}function Tq(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}function Cu(e){var t=e.reduce(function(a,s){return a+s.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(a){n.set(a,r),r+=a.length}),n}function Aq(e,t,n){var r=Math.floor(n==0?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,a=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(r&127)<<1;for(var s=0;a>=1;++s,a/=256)e[t+s]=a&255;e[t+15]|=n>=0?0:128}function Zd(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function Cr(e){var t=new Uint8Array(7);t[0]=e&127;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383||(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)||(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)||(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)||(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103))break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function K0(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function ai(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],a=Zd(e,n),s=a&7;a=Math.floor(a/8);var l=0,c;if(a==0)break;switch(s){case 0:{for(var d=n[0];e[n[0]++]>=128;);c=e.slice(d,n[0])}break;case 5:l=4,c=e.slice(n[0],n[0]+l),n[0]+=l;break;case 1:l=8,c=e.slice(n[0],n[0]+l),n[0]+=l;break;case 2:l=Zd(e,n),c=e.slice(n[0],n[0]+l),n[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(r))}var h={data:c,type:s};t[a]==null?t[a]=[h]:t[a].push(h)}return t}function Ti(e){var t=[];return e.forEach(function(n,r){n.forEach(function(a){a.data&&(t.push(Cr(r*8+a.type)),a.type==2&&t.push(Cr(a.data.length)),t.push(a.data))})}),Cu(t)}function Go(e){for(var t,n=[],r=[0];r[0]<e.length;){var a=Zd(e,r),s=ai(e.slice(r[0],r[0]+a));r[0]+=a;var l={id:K0(s[1][0].data),messages:[]};s[2].forEach(function(c){var d=ai(c.data),h=K0(d[3][0].data);l.messages.push({meta:d,data:e.slice(r[0],r[0]+h)}),r[0]+=h}),(t=s[3])!=null&&t[0]&&(l.merge=K0(s[3][0].data)>>>0>0),n.push(l)}return n}function w0(e){var t=[];return e.forEach(function(n){var r=[];r[1]=[{data:Cr(n.id),type:0}],r[2]=[],n.merge!=null&&(r[3]=[{data:Cr(+!!n.merge),type:0}]);var a=[];n.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Cr(l.data.length)}],r[2].push({data:Ti(l.meta),type:2})});var s=Ti(r);t.push(Cr(s.length)),t.push(s),a.forEach(function(l){return t.push(l)})}),Cu(t)}function Eq(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=Zd(t,n),a=[];n[0]<t.length;){var s=t[n[0]]&3;if(s==0){var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}a.push(t.slice(n[0],n[0]+l)),n[0]+=l;continue}else{var d=0,h=0;if(s==1?(h=(t[n[0]]>>2&7)+4,d=(t[n[0]++]&224)<<3,d|=t[n[0]++]):(h=(t[n[0]++]>>2)+1,s==2?(d=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(d=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),a=[Cu(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(a.push(a[0].slice(-d)),h-=d;h>=a[a.length-1].length;)a.push(a[a.length-1]),h-=a[a.length-1].length;a.push(a[0].slice(-d,-d+h))}}var m=Cu(a);if(m.length!=r)throw new Error("Unexpected length: ".concat(m.length," != ").concat(r));return m}function qo(e){for(var t=[],n=0;n<e.length;){var r=e[n++],a=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(Eq(r,e.slice(n,n+a))),n+=a}if(n!==e.length)throw new Error("data is not a valid framed stream!");return Cu(t)}function S0(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),a=new Uint8Array(4);t.push(a);var s=Cr(r),l=s.length;t.push(s),r<=60?(l++,t.push(new Uint8Array([r-1<<2]))):r<=256?(l+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(l+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(l+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(l+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),l+=r,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,n+=r}return Cu(t)}function Ax(e,t){var n=new Uint8Array(32),r=Np(n),a=12,s=0;switch(n[0]=5,e.t){case"n":n[1]=2,Aq(n,a,e.v),s|=1,a+=16;break;case"b":n[1]=6,r.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(a,t.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,s,!0),n.slice(0,a)}function Ex(e,t){var n=new Uint8Array(32),r=Np(n),a=12,s=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":n[2]=6,r.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(a,t.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,s,!0),n.slice(0,a)}function fu(e){var t=ai(e);return Zd(t[1][0].data)}function Cq(e,t,n){var r,a,s,l;if(!((r=e[6])!=null&&r[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(s=e[8])==null?void 0:s[0])==null?void 0:l.data)&&K0(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,h=Np(e[7][0].data),m=0,v=[],y=Np(e[4][0].data),g=0,T=[],b=0;b<t.length;++b){if(t[b]==null){h.setUint16(b*2,65535,!0),y.setUint16(b*2,65535);continue}h.setUint16(b*2,m,!0),y.setUint16(b*2,g,!0);var A,E;switch(typeof t[b]){case"string":A=Ax({t:"s",v:t[b]},n),E=Ex({t:"s",v:t[b]},n);break;case"number":A=Ax({t:"n",v:t[b]},n),E=Ex({t:"n",v:t[b]},n);break;case"boolean":A=Ax({t:"b",v:t[b]},n),E=Ex({t:"b",v:t[b]},n);break;default:throw new Error("Unsupported value "+t[b])}v.push(A),m+=A.length,T.push(E),g+=E.length,++d}for(e[2][0].data=Cr(d);b<e[7][0].data.length/2;++b)h.setUint16(b*2,65535,!0),y.setUint16(b*2,65535,!0);return e[6][0].data=Cu(v),e[3][0].data=Cu(T),d}function jq(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Ws(n["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(qa(r)));var s=_p(n,{range:r,header:1}),l=["~Sh33tJ5~"];s.forEach(function(F){return F.forEach(function(L){typeof L=="string"&&l.push(L)})});var c={},d=[],h=Br.read(t.numbers,{type:"base64"});h.FileIndex.map(function(F,L){return[F,h.FullPaths[L]]}).forEach(function(F){var L=F[0],B=F[1];if(L.type==2&&L.name.match(/\.iwa/)){var te=L.content,de=qo(te),Ne=Go(de);Ne.forEach(function(se){d.push(se.id),c[se.id]={deps:[],location:B,type:K0(se.messages[0].meta[1][0].data)}})}}),d.sort(function(F,L){return F-L});var m=d.filter(function(F){return F>1}).map(function(F){return[F,Cr(F)]});h.FileIndex.map(function(F,L){return[F,h.FullPaths[L]]}).forEach(function(F){var L=F[0];if(F[1],!!L.name.match(/\.iwa/)){var B=Go(qo(L.content));B.forEach(function(te){te.messages.forEach(function(de){m.forEach(function(Ne){te.messages.some(function(se){return K0(se.meta[1][0].data)!=11006&&Tq(se.data,Ne[1])})&&c[Ne[0]].deps.push(te.id)})})})}});for(var v=Br.find(h,c[1].location),y=Go(qo(v.content)),g,T=0;T<y.length;++T){var b=y[T];b.id==1&&(g=b)}var A=fu(ai(g.messages[0].data)[1][0].data);for(v=Br.find(h,c[A].location),y=Go(qo(v.content)),T=0;T<y.length;++T)b=y[T],b.id==A&&(g=b);for(A=fu(ai(g.messages[0].data)[2][0].data),v=Br.find(h,c[A].location),y=Go(qo(v.content)),T=0;T<y.length;++T)b=y[T],b.id==A&&(g=b);for(A=fu(ai(g.messages[0].data)[2][0].data),v=Br.find(h,c[A].location),y=Go(qo(v.content)),T=0;T<y.length;++T)b=y[T],b.id==A&&(g=b);var E=ai(g.messages[0].data);{E[6][0].data=Cr(r.e.r+1),E[7][0].data=Cr(r.e.c+1);var D=fu(E[46][0].data),j=Br.find(h,c[D].location),R=Go(qo(j.content));{for(var q=0;q<R.length&&R[q].id!=D;++q);if(R[q].id!=D)throw"Bad ColumnRowUIDMapArchive";var Z=ai(R[q].messages[0].data);Z[1]=[],Z[2]=[],Z[3]=[];for(var I=0;I<=r.e.c;++I){var Y=[];Y[1]=Y[2]=[{type:0,data:Cr(I+420690)}],Z[1].push({type:2,data:Ti(Y)}),Z[2].push({type:0,data:Cr(I)}),Z[3].push({type:0,data:Cr(I)})}Z[4]=[],Z[5]=[],Z[6]=[];for(var P=0;P<=r.e.r;++P)Y=[],Y[1]=Y[2]=[{type:0,data:Cr(P+726270)}],Z[4].push({type:2,data:Ti(Y)}),Z[5].push({type:0,data:Cr(P)}),Z[6].push({type:0,data:Cr(P)});R[q].messages[0].data=Ti(Z)}j.content=S0(w0(R)),j.size=j.content.length,delete E[46];var Q=ai(E[4][0].data);{Q[7][0].data=Cr(r.e.r+1);var O=ai(Q[1][0].data),G=fu(O[2][0].data);j=Br.find(h,c[G].location),R=Go(qo(j.content));{if(R[0].id!=G)throw"Bad HeaderStorageBucket";var K=ai(R[0].messages[0].data);for(P=0;P<s.length;++P){var X=ai(K[2][0].data);X[1][0].data=Cr(P),X[4][0].data=Cr(s[P].length),K[2][P]={type:K[2][0].type,data:Ti(X)}}R[0].messages[0].data=Ti(K)}j.content=S0(w0(R)),j.size=j.content.length;var H=fu(Q[2][0].data);j=Br.find(h,c[H].location),R=Go(qo(j.content));{if(R[0].id!=H)throw"Bad HeaderStorageBucket";for(K=ai(R[0].messages[0].data),I=0;I<=r.e.c;++I)X=ai(K[2][0].data),X[1][0].data=Cr(I),X[4][0].data=Cr(r.e.r+1),K[2][I]={type:K[2][0].type,data:Ti(X)};R[0].messages[0].data=Ti(K)}j.content=S0(w0(R)),j.size=j.content.length;var V=fu(Q[4][0].data);(function(){for(var F=Br.find(h,c[V].location),L=Go(qo(F.content)),B,te=0;te<L.length;++te){var de=L[te];de.id==V&&(B=de)}var Ne=ai(B.messages[0].data);{Ne[3]=[];var se=[];l.forEach(function(ke,Ge){se[1]=[{type:0,data:Cr(Ge)}],se[2]=[{type:0,data:Cr(1)}],se[3]=[{type:2,data:_q(ke)}],Ne[3].push({type:2,data:Ti(se)})})}B.messages[0].data=Ti(Ne);var ve=w0(L),je=S0(ve);F.content=je,F.size=F.content.length})();var ae=ai(Q[3][0].data);{var ce=ae[1][0];delete ae[2];var le=ai(ce.data);{var me=fu(le[2][0].data);(function(){for(var F=Br.find(h,c[me].location),L=Go(qo(F.content)),B,te=0;te<L.length;++te){var de=L[te];de.id==me&&(B=de)}var Ne=ai(B.messages[0].data);{delete Ne[6],delete ae[7];var se=new Uint8Array(Ne[5][0].data);Ne[5]=[];for(var ve=0,je=0;je<=r.e.r;++je){var ke=ai(se);ve+=Cq(ke,s[je],l),ke[1][0].data=Cr(je),Ne[5].push({data:Ti(ke),type:2})}Ne[1]=[{type:0,data:Cr(r.e.c+1)}],Ne[2]=[{type:0,data:Cr(r.e.r+1)}],Ne[3]=[{type:0,data:Cr(ve)}],Ne[4]=[{type:0,data:Cr(r.e.r+1)}]}B.messages[0].data=Ti(Ne);var Ge=w0(L),Te=S0(Ge);F.content=Te,F.size=F.content.length})()}ce.data=Ti(le)}Q[3][0].data=Ti(ae)}E[4][0].data=Ti(Q)}g.messages[0].data=Ti(E);var M=w0(y),N=S0(M);return v.content=N,v.size=v.content.length,h}function Dq(e){return function(n){for(var r=0;r!=e.length;++r){var a=e[r];n[a[0]]===void 0&&(n[a[0]]=a[1]),a[2]==="n"&&(n[a[0]]=Number(n[a[0]]))}}}function Q5(e){Dq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function kq(e,t){return t.bookType=="ods"?rE(e,t):t.bookType=="numbers"?jq(e,t):t.bookType=="xlsb"?Lq(e,t):Fq(e,t)}function Lq(e,t){M0=1024,e&&!e.SSF&&(e.SSF=Ss(ja)),e&&e.SSF&&(Bp(),Pp(e.SSF),t.revssf=Up(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n=t.bookType=="xlsb"?"bin":"xml",r=P8.indexOf(t.bookType)>-1,a=m8();Q5(t=t||{});var s=z5(),l="",c=0;if(t.cellXfs=[],Lu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Bn(s,l,v8(e.Props,t)),a.coreprops.push(l),jr(t.rels,2,l,xr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(e.SheetNames[h]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,Bn(s,l,b8(e.Props)),a.extprops.push(l),jr(t.rels,3,l,xr.EXT_PROPS),e.Custprops!==e.Props&&ki(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Bn(s,l,w8(e.Custprops)),a.custprops.push(l),jr(t.rels,4,l,xr.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var m={"!id":{}},v=e.Sheets[e.SheetNames[c-1]],y=(v||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,Bn(s,l,RG(c-1,l,t,e,m)),a.sheets.push(l),jr(t.wbrels,-1,"worksheets/sheet"+c+"."+n,xr.WS[0])}if(v){var g=v["!comments"],T=!1,b="";g&&g.length>0&&(b="xl/comments"+c+"."+n,Bn(s,b,IG(g,b)),a.comments.push(b),jr(m,-1,"../comments"+c+"."+n,xr.CMNT),T=!0),v["!legacy"]&&T&&Bn(s,"xl/drawings/vmlDrawing"+c+".vml",z8(c,v["!comments"])),delete v["!comments"],delete v["!legacy"]}m["!id"].rId1&&Bn(s,g8(l),$0(m))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+n,Bn(s,l,zG(t.Strings,l,t)),a.strs.push(l),jr(t.wbrels,-1,"sharedStrings."+n,xr.SST)),l="xl/workbook."+n,Bn(s,l,OG(e,l)),a.workbooks.push(l),jr(t.rels,1,l,xr.WB),l="xl/theme/theme1.xml",Bn(s,l,R8(e.Themes,t)),a.themes.push(l),jr(t.wbrels,-1,"theme/theme1.xml",xr.THEME),l="xl/styles."+n,Bn(s,l,MG(e,l,t)),a.styles.push(l),jr(t.wbrels,-1,"styles."+n,xr.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",Bn(s,l,e.vbaraw),a.vba.push(l),jr(t.wbrels,-1,"vbaProject.bin",xr.VBA)),l="xl/metadata."+n,Bn(s,l,PG(l)),a.metadata.push(l),jr(t.wbrels,-1,"metadata."+n,xr.XLMETA),Bn(s,"[Content_Types].xml",p8(a,t)),Bn(s,"_rels/.rels",$0(t.rels)),Bn(s,"xl/_rels/workbook."+n+".rels",$0(t.wbrels)),delete t.revssf,delete t.ssf,s}function Fq(e,t){M0=1024,e&&!e.SSF&&(e.SSF=Ss(ja)),e&&e.SSF&&(Bp(),Pp(e.SSF),t.revssf=Up(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sd?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=P8.indexOf(t.bookType)>-1,a=m8();Q5(t=t||{});var s=z5(),l="",c=0;if(t.cellXfs=[],Lu(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Bn(s,l,v8(e.Props,t)),a.coreprops.push(l),jr(t.rels,2,l,xr.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(e.SheetNames[h]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,Bn(s,l,b8(e.Props)),a.extprops.push(l),jr(t.rels,3,l,xr.EXT_PROPS),e.Custprops!==e.Props&&ki(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Bn(s,l,w8(e.Custprops)),a.custprops.push(l),jr(t.rels,4,l,xr.CUST_PROPS));var m=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var v={"!id":{}},y=e.Sheets[e.SheetNames[c-1]],g=(y||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+n,Bn(s,l,Y8(c-1,t,e,v)),a.sheets.push(l),jr(t.wbrels,-1,"worksheets/sheet"+c+"."+n,xr.WS[0])}if(y){var T=y["!comments"],b=!1,A="";if(T&&T.length>0){var E=!1;T.forEach(function(D){D[1].forEach(function(j){j.T==!0&&(E=!0)})}),E&&(A="xl/threadedComments/threadedComment"+c+"."+n,Bn(s,A,uU(T,m,t)),a.threadedcomments.push(A),jr(v,-1,"../threadedComments/threadedComment"+c+"."+n,xr.TCMNT)),A="xl/comments"+c+"."+n,Bn(s,A,I8(T)),a.comments.push(A),jr(v,-1,"../comments"+c+"."+n,xr.CMNT),b=!0}y["!legacy"]&&b&&Bn(s,"xl/drawings/vmlDrawing"+c+".vml",z8(c,y["!comments"])),delete y["!comments"],delete y["!legacy"]}v["!id"].rId1&&Bn(s,g8(l),$0(v))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+n,Bn(s,l,j8(t.Strings,t)),a.strs.push(l),jr(t.wbrels,-1,"sharedStrings."+n,xr.SST)),l="xl/workbook."+n,Bn(s,l,Z8(e)),a.workbooks.push(l),jr(t.rels,1,l,xr.WB),l="xl/theme/theme1.xml",Bn(s,l,R8(e.Themes,t)),a.themes.push(l),jr(t.wbrels,-1,"theme/theme1.xml",xr.THEME),l="xl/styles."+n,Bn(s,l,F8(e,t)),a.styles.push(l),jr(t.wbrels,-1,"styles."+n,xr.STY),e.vbaraw&&r&&(l="xl/vbaProject.bin",Bn(s,l,e.vbaraw),a.vba.push(l),jr(t.wbrels,-1,"vbaProject.bin",xr.VBA)),l="xl/metadata."+n,Bn(s,l,M8()),a.metadata.push(l),jr(t.wbrels,-1,"metadata."+n,xr.XLMETA),m.length>1&&(l="xl/persons/person.xml",Bn(s,l,fU(m)),a.people.push(l),jr(t.wbrels,-1,"persons/person.xml",xr.PEOPLE)),Bn(s,"[Content_Types].xml",p8(a,t)),Bn(s,"_rels/.rels",$0(t.rels)),Bn(s,"xl/_rels/workbook."+n+".rels",$0(t.wbrels)),delete t.revssf,delete t.ssf,s}function Oq(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=_c(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function aE(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return f1(t.file,Br.write(e,{type:wr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Br.write(e,t)}function Rq(e,t){var n=Ss(t||{}),r=kq(e,n);return Mq(r,n)}function Mq(e,t){var n={},r=wr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Br.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Ip(a))}return t.password&&typeof encrypt_agile<"u"?aE(encrypt_agile(a,t.password),t):t.type==="file"?f1(t.file,a):t.type=="string"?vd(a):a}function zq(e,t){var n=t||{},r=QG(e,n);return aE(r,n)}function jl(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return $d(Kd(r));case"binary":return Kd(r);case"string":return e;case"file":return f1(t.file,r,"utf8");case"buffer":return wr?Cc(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):jl(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Iq(e,t){switch(t.type){case"base64":return $d(e);case"binary":return e;case"string":return e;case"file":return f1(t.file,e,"binary");case"buffer":return wr?Cc(e,"binary"):e.split("").map(function(n){return n.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function km(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return t.type=="base64"?$d(n):t.type=="string"?vd(n):n;case"file":return f1(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function iE(e,t){hI(),NG(e);var n=Ss(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),n.type=="array"){n.type="binary";var r=iE(e,n);return n.type="array",Ip(r)}var a=0;if(n.sheet&&(typeof n.sheet=="number"?a=n.sheet:a=e.SheetNames.indexOf(n.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return jl(ZG(e,n),n);case"slk":case"sylk":return jl(bB.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"htm":case"html":return jl(eE(e.Sheets[e.SheetNames[a]],n),n);case"txt":return Iq(oE(e.Sheets[e.SheetNames[a]],n),n);case"csv":return jl(ey(e.Sheets[e.SheetNames[a]],n),n,"\uFEFF");case"dif":return jl(wB.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"dbf":return km(yB.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"prn":return jl(SB.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"rtf":return jl(jB.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"eth":return jl(C8.from_sheet(e.Sheets[e.SheetNames[a]],n),n);case"fods":return jl(rE(e,n),n);case"wk1":return km(_6.sheet_to_wk1(e.Sheets[e.SheetNames[a]],n),n);case"wk3":return km(_6.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),km(Q8(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),zq(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Rq(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function Pq(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},n=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();n.match(/^\.[a-z]+$/)&&(e.bookType=n.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function sE(e,t,n){var r={};return r.type="file",r.file=t,Pq(r),iE(e,r)}function Bq(e,t,n,r,a,s,l,c){var d=Di(n),h=c.defval,m=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),v=!0,y=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:n,enumerable:!1})}catch{y.__rowNum__=n}else y.__rowNum__=n;if(!l||e[n])for(var g=t.s.c;g<=t.e.c;++g){var T=l?e[n][g]:e[r[g]+d];if(T===void 0||T.t===void 0){if(h===void 0)continue;s[g]!=null&&(y[s[g]]=h);continue}var b=T.v;switch(T.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+T.t)}if(s[g]!=null){if(b==null)if(T.t=="e"&&b===null)y[s[g]]=null;else if(h!==void 0)y[s[g]]=h;else if(m&&b===null)y[s[g]]=null;else continue;else y[s[g]]=m&&(T.t!=="n"||T.t==="n"&&c.rawNumbers!==!1)?b:Tc(T,b,c);b!=null&&(v=!1)}}return{row:y,isempty:v}}function _p(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,a=1,s=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=t||{},m=h.range!=null?h.range:e["!ref"];switch(h.header===1?r=1:h.header==="A"?r=2:Array.isArray(h.header)?r=3:h.header==null&&(r=0),typeof m){case"string":d=Qr(m);break;case"number":d=Qr(e["!ref"]),d.s.r=m;break;default:d=m}r>0&&(a=0);var v=Di(d.s.r),y=[],g=[],T=0,b=0,A=Array.isArray(e),E=d.s.r,D=0,j={};A&&!e[E]&&(e[E]=[]);var R=h.skipHidden&&e["!cols"]||[],q=h.skipHidden&&e["!rows"]||[];for(D=d.s.c;D<=d.e.c;++D)if(!(R[D]||{}).hidden)switch(y[D]=Hi(D),n=A?e[E][D]:e[y[D]+v],r){case 1:s[D]=D-d.s.c;break;case 2:s[D]=y[D];break;case 3:s[D]=h.header[D-d.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),c=l=Tc(n,null,h),b=j[l]||0,!b)j[l]=1;else{do c=l+"_"+b++;while(j[c]);j[l]=b,j[c]=1}s[D]=c}for(E=d.s.r+a;E<=d.e.r;++E)if(!(q[E]||{}).hidden){var Z=Bq(e,d,E,y,r,s,A,h);(Z.isempty===!1||(r===1?h.blankrows!==!1:h.blankrows))&&(g[T++]=Z.row)}return g.length=T,g}var L6=/"/g;function Uq(e,t,n,r,a,s,l,c){for(var d=!0,h=[],m="",v=Di(n),y=t.s.c;y<=t.e.c;++y)if(r[y]){var g=c.dense?(e[n]||[])[y]:e[r[y]+v];if(g==null)m="";else if(g.v!=null){d=!1,m=""+(c.rawNumbers&&g.t=="n"?g.v:Tc(g,null,c));for(var T=0,b=0;T!==m.length;++T)if((b=m.charCodeAt(T))===a||b===s||b===34||c.forceQuotes){m='"'+m.replace(L6,'""')+'"';break}m=="ID"&&(m='"ID"')}else g.f!=null&&!g.F?(d=!1,m="="+g.f,m.indexOf(",")>=0&&(m='"'+m.replace(L6,'""')+'"')):m="";h.push(m)}return c.blankrows===!1&&d?null:h.join(l)}function ey(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var a=Qr(e["!ref"]),s=r.FS!==void 0?r.FS:",",l=s.charCodeAt(0),c=r.RS!==void 0?r.RS:`
`,d=c.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),m="",v=[];r.dense=Array.isArray(e);for(var y=r.skipHidden&&e["!cols"]||[],g=r.skipHidden&&e["!rows"]||[],T=a.s.c;T<=a.e.c;++T)(y[T]||{}).hidden||(v[T]=Hi(T));for(var b=0,A=a.s.r;A<=a.e.r;++A)(g[A]||{}).hidden||(m=Uq(e,a,A,v,l,d,s,r),m!=null&&(r.strip&&(m=m.replace(h,"")),(m||r.blankrows!==!1)&&n.push((b++?c:"")+m)));return delete r.dense,n.join("")}function oE(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=ey(e,t);return n}function Hq(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var a=Qr(e["!ref"]),s="",l=[],c,d=[],h=Array.isArray(e);for(c=a.s.c;c<=a.e.c;++c)l[c]=Hi(c);for(var m=a.s.r;m<=a.e.r;++m)for(s=Di(m),c=a.s.c;c<=a.e.c;++c)if(t=l[c]+s,n=h?(e[m]||[])[c]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}d[d.length]=t+"="+r}return d}function lE(e,t,n){var r=n||{},a=+!r.skipHeader,s=e||{},l=0,c=0;if(s&&r.origin!=null)if(typeof r.origin=="number")l=r.origin;else{var d=typeof r.origin=="string"?xi(r.origin):r.origin;l=d.r,c=d.c}var h,m={s:{c:0,r:0},e:{c,r:l+t.length-1+a}};if(s["!ref"]){var v=Qr(s["!ref"]);m.e.c=Math.max(m.e.c,v.e.c),m.e.r=Math.max(m.e.r,v.e.r),l==-1&&(l=v.e.r+1,m.e.r=l+t.length-1+a)}else l==-1&&(l=0,m.e.r=t.length-1+a);var y=r.header||[],g=0;t.forEach(function(b,A){ki(b).forEach(function(E){(g=y.indexOf(E))==-1&&(y[g=y.length]=E);var D=b[E],j="z",R="",q=Lr({c:c+g,r:l+A+a});h=Jd(s,q),D&&typeof D=="object"&&!(D instanceof Date)?s[q]=D:(typeof D=="number"?j="n":typeof D=="boolean"?j="b":typeof D=="string"?j="s":D instanceof Date?(j="d",r.cellDates||(j="n",D=ws(D)),R=r.dateNF||ja[14]):D===null&&r.nullError&&(j="e",D=0),h?(h.t=j,h.v=D,delete h.w,delete h.R,R&&(h.z=R)):s[q]=h={t:j,v:D},R&&(h.z=R))})}),m.e.c=Math.max(m.e.c,c+y.length-1);var T=Di(l);if(a)for(g=0;g<y.length;++g)s[Hi(g+c)+T]={t:"s",v:y[g]};return s["!ref"]=qa(m),s}function Vq(e,t){return lE(null,e,t)}function Jd(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=xi(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Jd(e,Lr(t)):Jd(e,Lr({r:t,c:n||0}))}function Gq(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function qq(){return{SheetNames:[],Sheets:{}}}function Wq(e,t,n,r){var a=1;if(!n)for(;a<=65535&&e.SheetNames.indexOf(n="Sheet"+a)!=-1;++a,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var s=n.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||n;for(++a;a<=65535&&e.SheetNames.indexOf(n=l+a)!=-1;++a);}if(X8(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function $q(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=Gq(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function Yq(e,t){return e.z=t,e}function cE(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function Kq(e,t,n){return cE(e,"#"+t,n)}function Xq(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function Zq(e,t,n,r){for(var a=typeof t!="string"?t:Qr(t),s=typeof t=="string"?t:qa(t),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=Jd(e,l,c);d.t="n",d.F=s,delete d.v,l==a.s.r&&c==a.s.c&&(d.f=n,r&&(d.D=!0))}return e}var mi={encode_col:Hi,encode_row:Di,encode_cell:Lr,encode_range:qa,decode_col:V5,decode_row:H5,split_cell:hP,decode_cell:xi,decode_range:Ws,format_cell:Tc,sheet_add_aoa:l8,sheet_add_json:lE,sheet_add_dom:tE,aoa_to_sheet:fh,json_to_sheet:Vq,table_to_sheet:nE,table_to_book:wq,sheet_to_csv:ey,sheet_to_txt:oE,sheet_to_json:_p,sheet_to_html:eE,sheet_to_formulae:Hq,sheet_to_row_object_array:_p,sheet_get_cell:Jd,book_new:qq,book_append_sheet:Wq,book_set_sheet_visibility:$q,cell_set_number_format:Yq,cell_set_hyperlink:cE,cell_set_internal_link:Kq,cell_add_comment:Xq,sheet_set_array_formula:Zq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function uE(e,t,n,r,a){r=r||{};var s=1.15,l=a.internal.scaleFactor,c=a.internal.getFontSize()/l,d=a.getLineHeightFactor?a.getLineHeightFactor():s,h=c*d,m=/\r\n|\r|\n/g,v="",y=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(v=typeof e=="string"?e.split(m):e,y=v.length||1),n+=c*(2-s),r.valign==="middle"?n-=y/2*h:r.valign==="bottom"&&(n-=y*h),r.halign==="center"||r.halign==="right"){var g=c;if(r.halign==="center"&&(g*=.5),v&&y>=1){for(var T=0;T<v.length;T++)a.text(v[T],t-a.getStringUnitWidth(v[T])*g,n),n+=h;return a}t-=a.getStringUnitWidth(e)*g}return r.halign==="justify"?a.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):a.text(e,t,n),a}var F6={},X0=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=t:F6=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,n){var r,a,s;n===void 0&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(t.font&&(d=t.font),t.fontStyle){c=t.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),c=h[0])}if(this.jsPDFDocument.setFont(d,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var m=e.unifyColor(t.fillColor);m&&(r=this.jsPDFDocument).setFillColor.apply(r,m),m=e.unifyColor(t.textColor),m&&(a=this.jsPDFDocument).setTextColor.apply(a,m),m=e.unifyColor(t.lineColor),m&&(s=this.jsPDFDocument).setDrawColor.apply(s,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,n,r){return this.jsPDFDocument.splitTextToSize(t,n,r)},e.prototype.rect=function(t,n,r,a,s){return this.jsPDFDocument.rect(t,n,r,a,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return F6||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),jv=function(e,t){return jv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},jv(e,t)};function fE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var hE=(function(e){fE(t,e);function t(n){var r=e.call(this)||this;return r._element=n,r}return t})(Array);function Jq(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Qq(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Tp(e,t,n){n.applyStyles(t,!0);var r=Array.isArray(e)?e:[e],a=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,l){return Math.max(s,l)},0);return a}function dE(e,t,n,r){var a=t.settings.tableLineWidth,s=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:s});var l=mE(a,!1);l&&e.rect(n.x,n.y,t.getWidth(e.pageSize().width),r.y-n.y,l)}function mE(e,t){var n=e>0,r=t||t===0;return n&&r?"DF":n?"S":r?"F":null}function Wp(e,t){var n,r,a,s;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(n=e.left)!==null&&n!==void 0?n:t,top:(r=e.top)!==null&&r!==void 0?r:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(s=e.bottom)!==null&&s!==void 0?s:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function pE(e,t){var n=Wp(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}function eW(e,t,n,r,a){var s={},l=1.3333333333333333,c=Cx(t,function(j){return a.getComputedStyle(j).backgroundColor});c!=null&&(s.fillColor=c);var d=Cx(t,function(j){return a.getComputedStyle(j).color});d!=null&&(s.textColor=d);var h=nW(r,n);h&&(s.cellPadding=h);var m="borderTopColor",v=l*n,y=r.borderTopWidth;if(r.borderBottomWidth===y&&r.borderRightWidth===y&&r.borderLeftWidth===y){var g=(parseFloat(y)||0)/v;g&&(s.lineWidth=g)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/v,right:(parseFloat(r.borderRightWidth)||0)/v,bottom:(parseFloat(r.borderBottomWidth)||0)/v,left:(parseFloat(r.borderLeftWidth)||0)/v},s.lineWidth.top||(s.lineWidth.right?m="borderRightColor":s.lineWidth.bottom?m="borderBottomColor":s.lineWidth.left&&(m="borderLeftColor"));var T=Cx(t,function(j){return a.getComputedStyle(j)[m]});T!=null&&(s.lineColor=T);var b=["left","right","center","justify"];b.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),b=["middle","bottom","top"],b.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var A=parseInt(r.fontSize||"");isNaN(A)||(s.fontSize=A/l);var E=tW(r);E&&(s.fontStyle=E);var D=(r.fontFamily||"").toLowerCase();return e.indexOf(D)!==-1&&(s.font=D),s}function tW(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Cx(e,t){var n=gE(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var a=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function gE(e,t){var n=t(e);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?e.parentElement==null?null:gE(e.parentElement,t):n}function nW(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],r=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,s=n.map(function(c){return parseInt(c||"0")/r}),l=Wp(s,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function xE(e,t,n,r,a){var s,l;r===void 0&&(r=!1),a===void 0&&(a=!1);var c;typeof t=="string"?c=n.document.querySelector(t):c=t;var d=Object.keys(e.getFontList()),h=e.scaleFactor(),m=[],v=[],y=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:m,body:v,foot:y};for(var g=0;g<c.rows.length;g++){var T=c.rows[g],b=(l=(s=T==null?void 0:T.parentElement)===null||s===void 0?void 0:s.tagName)===null||l===void 0?void 0:l.toLowerCase(),A=rW(d,h,n,T,r,a);A&&(b==="thead"?m.push(A):b==="tfoot"?y.push(A):v.push(A))}return{head:m,body:v,foot:y}}function rW(e,t,n,r,a,s){for(var l=new hE(r),c=0;c<r.cells.length;c++){var d=r.cells[c],h=n.getComputedStyle(d);if(a||h.display!=="none"){var m=void 0;s&&(m=eW(e,d,t,h,n)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:m,_element:d,content:aW(d)})}}var v=n.getComputedStyle(r);if(l.length>0&&(a||v.display!=="none"))return l}function aW(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),t.innerText||t.textContent||""}function iW(e,t,n){for(var r=0,a=[e,t,n];r<a.length;r++){var s=a[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function xc(e,t,n,r,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(e),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(s[d]=c[d])}return s}function vE(e,t){var n=new X0(e),r=n.getDocumentOptions(),a=n.getGlobalOptions();iW(a,r,t);var s=xc({},a,r,t),l;typeof window<"u"&&(l=window);var c=sW(a,r,t),d=oW(a,r,t),h=lW(n,s),m=uW(n,s,l);return{id:t.tableId,content:m,hooks:d,styles:c,settings:h}}function sW(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var h=e[d],m=t[d],v=n[d];r.columnStyles=xc({},h,m,v)}else{var y=[e,t,n],g=y.map(function(T){return T[d]||{}});r[d]=xc({},g[0],g[1],g[2])}},s=0,l=Object.keys(r);s<l.length;s++){var c=l[s];a(c)}return r}function oW(e,t,n){for(var r=[e,t,n],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,l=r;s<l.length;s++){var c=l[s];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function lW(e,t){var n,r,a,s,l,c,d,h,m,v,y,g,T=Wp(t.margin,40/e.scaleFactor()),b=(n=cW(e,t.startY))!==null&&n!==void 0?n:T.top,A;t.showFoot===!0?A="everyPage":t.showFoot===!1?A="never":A=(r=t.showFoot)!==null&&r!==void 0?r:"everyPage";var E;t.showHead===!0?E="everyPage":t.showHead===!1?E="never":E=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var D=(s=t.useCss)!==null&&s!==void 0?s:!1,j=t.theme||(D?"plain":"striped"),R=!!t.horizontalPageBreak,q=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:D,theme:j,startY:b,margin:T,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=t.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:E,showFoot:A,tableLineWidth:(v=t.tableLineWidth)!==null&&v!==void 0?v:0,tableLineColor:(y=t.tableLineColor)!==null&&y!==void 0?y:200,horizontalPageBreak:R,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function cW(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),a=e.pageNumber(),s=!1;if(n&&n.startPageNumber){var l=n.startPageNumber+n.pageNumber-1;s=l===a}return typeof t=="number"?t:(t==null||t===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function uW(e,t,n){var r=t.head||[],a=t.body||[],s=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(n){var c=xE(e,t.html,n,l,t.useCss)||{};r=c.head||r,a=c.body||r,s=c.foot||r}else console.error("Cannot parse html in non browser environment")}var d=t.columns||fW(r,a,s);return{columns:d,head:r,body:a,foot:s}}function fW(e,t,n){var r=e[0]||t[0]||n[0]||[],a=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var l=1,c;Array.isArray(r)?c=r[parseInt(s)]:c=r[s],typeof c=="object"&&!Array.isArray(c)&&(l=(c==null?void 0:c.colSpan)||1);for(var d=0;d<l;d++){var h=void 0;Array.isArray(r)?h=a.length:h=s+(d>0?"_".concat(d):"");var m={dataKey:h};a.push(m)}}),a}var Dv=(function(){function e(t,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=t.getDocument()}return e})(),hW=(function(e){fE(t,e);function t(n,r,a,s,l,c){var d=e.call(this,n,r,c)||this;return d.cell=a,d.row=s,d.column=l,d.section=s.section,d}return t})(Dv),dW=(function(){function e(t,n){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,n,r,a,s,l){for(var c=0,d=n;c<d.length;c++){var h=d[c],m=new hW(t,this,r,a,s,l),v=h(m)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],v)return!1}return!0},e.prototype.callEndPageHooks=function(t,n){t.applyStyles(t.userStyles);for(var r=0,a=this.hooks.didDrawPage;r<a.length;r++){var s=a[r];s(new Dv(t,this,n))}},e.prototype.callWillDrawPageHooks=function(t,n){for(var r=0,a=this.hooks.willDrawPage;r<a.length;r++){var s=a[r];s(new Dv(t,this,n))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return t-r.left-r.right}},e})(),yE=(function(){function e(t,n,r,a,s){s===void 0&&(s=!1),this.height=0,this.raw=t,t instanceof hE&&(this.raw=t._element,this.element=t._element),this.index=n,this.section=r,this.cells=a,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(t){var n=this;return t.reduce(function(r,a){var s;return Math.max(r,((s=n.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},e.prototype.hasRowSpan=function(t){var n=this;return t.filter(function(r){var a=n.cells[r.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,n){return this.getMaxCellHeight(n)<=t},e.prototype.getMinimumRowHeight=function(t,n){var r=this;return t.reduce(function(a,s){var l=r.cells[s.index];if(!l)return 0;var c=n.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),h=d+c;return h>a?h:a},0)},e})(),bE=(function(){function e(t,n,r){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=t;var s=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,s=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=s!=null?""+s:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");t=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");r=this.x+a/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:t}},e.prototype.getContentHeight=function(t,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*n,s=r*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},e.prototype.padding=function(t){var n=Wp(this.styles.cellPadding,0);return t==="vertical"?n.top+n.bottom:t==="horizontal"?n.left+n.right:n[t]},e})(),mW=(function(){function e(t,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=n,this.index=r}return e.prototype.getMaxCustomCellWidth=function(t){for(var n=0,r=0,a=t.allRows();r<a.length;r++){var s=a[r],l=s.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(n=Math.max(n,l.styles.cellWidth))}return n},e})();function pW(e,t){gW(e,t);var n=[],r=0;t.columns.forEach(function(s){var l=s.getMaxCustomCellWidth(t);l?s.width=l:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var a=t.getWidth(e.pageSize().width)-r;a&&(a=kv(n,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=kv(n,a,function(s){return s.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),vW(t),yW(t,e),xW(t)}function gW(e,t){var n=e.scaleFactor(),r=t.settings.horizontalPageBreak,a=pE(e,t);t.allRows().forEach(function(s){for(var l=0,c=t.columns;l<c.length;l++){var d=c[l],h=s.cells[d.index];if(h){var m=t.hooks.didParseCell;t.callCellHooks(e,m,h,s,d,null);var v=h.padding("horizontal");h.contentWidth=Tp(h.text,h.styles,e)+v;var y=Tp(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,e);if(h.minReadableWidth=y+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>a?(h.minWidth=a,h.wrappedWidth=a):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/n;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),t.allRows().forEach(function(s){for(var l=0,c=t.columns;l<c.length;l++){var d=c[l],h=s.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var m=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},v=m.cellWidth||m.minCellWidth;v&&typeof v=="number"&&(d.minWidth=v,d.wrappedWidth=v)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function kv(e,t,n){for(var r=t,a=e.reduce(function(g,T){return g+T.wrappedWidth},0),s=0;s<e.length;s++){var l=e[s],c=l.wrappedWidth/a,d=r*c,h=l.width+d,m=n(l),v=h<m?m:h;t-=v-l.width,l.width=v}if(t=Math.round(t*1e10)/1e10,t){var y=e.filter(function(g){return t<0?g.width>n(g):!0});y.length&&(t=kv(y,t,n))}return t}function xW(e){for(var t={},n=1,r=e.allRows(),a=0;a<r.length;a++)for(var s=r[a],l=0,c=e.columns;l<c.length;l++){var d=c[l],h=t[d.index];if(n>1)n--,delete s.cells[d.index];else if(h)h.cell.height+=s.height,n=h.cell.colSpan,delete s.cells[d.index],h.left--,h.left<=1&&delete t[d.index];else{var m=s.cells[d.index];if(!m)continue;if(m.height=s.height,m.rowSpan>1){var v=r.length-a,y=m.rowSpan>v?v:m.rowSpan;t[d.index]={cell:m,left:y,row:s}}}}}function vW(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],a=null,s=0,l=0,c=0;c<e.columns.length;c++){var d=e.columns[c];if(l-=1,l>1&&e.columns[c+1])s+=d.width,delete r.cells[d.index];else if(a){var h=a;delete r.cells[d.index],a=null,h.width=d.width+s}else{var h=r.cells[d.index];if(!h)continue;if(l=h.colSpan,s=0,h.colSpan>1){a=h,s+=d.width;continue}h.width=d.width+s}}}function yW(e,t){for(var n={count:0,height:0},r=0,a=e.allRows();r<a.length;r++){for(var s=a[r],l=0,c=e.columns;l<c.length;l++){var d=c[l],h=s.cells[d.index];if(h){t.applyStyles(h.styles,!0);var m=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=t.splitTextToSize(h.text,m+1/t.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=O6(h.text,m,h.styles,t,"...");else if(h.styles.overflow==="hidden")h.text=O6(h.text,m,h.styles,t,"");else if(typeof h.styles.overflow=="function"){var v=h.styles.overflow(h.text,m);typeof v=="string"?h.text=[v]:h.text=v}h.contentHeight=h.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var y=h.contentHeight/h.rowSpan;h.rowSpan>1&&n.count*n.height<y*h.rowSpan?n={height:y,count:h.rowSpan}:n&&n.count>0&&n.height>y&&(y=n.height),y>s.height&&(s.height=y)}}n.count--}}function O6(e,t,n,r,a){return e.map(function(s){return bW(s,t,n,r,a)})}function bW(e,t,n,r,a){var s=1e4*r.scaleFactor();if(t=Math.ceil(t*s)/s,t>=Tp(e,n,r))return e;for(;t<Tp(e+a,n,r)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function wE(e,t){var n=new X0(e),r=wW(t,n.scaleFactor()),a=new dW(t,r);return pW(n,a),n.applyStyles(n.userStyles),a}function wW(e,t){var n=e.content,r=NW(n.columns);if(n.head.length===0){var a=R6(r,"head");a&&n.head.push(a)}if(n.foot.length===0){var a=R6(r,"foot");a&&n.foot.push(a)}var s=e.settings.theme,l=e.styles;return{columns:r,head:jx("head",n.head,r,l,s,t),body:jx("body",n.body,r,l,s,t),foot:jx("foot",n.foot,r,l,s,t)}}function jx(e,t,n,r,a,s){var l={},c=t.map(function(d,h){for(var m=0,v={},y=0,g=0,T=0,b=n;T<b.length;T++){var A=b[T];if(l[A.index]==null||l[A.index].left===0)if(g===0){var E=void 0;Array.isArray(d)?E=d[A.index-y-m]:E=d[A.dataKey];var D={};typeof E=="object"&&!Array.isArray(E)&&(D=(E==null?void 0:E.styles)||{});var j=_W(e,A,h,a,r,s,D),R=new bE(E,j,e);v[A.dataKey]=R,v[A.index]=R,g=R.colSpan-1,l[A.index]={left:R.rowSpan-1,times:g}}else g--,y++;else l[A.index].left--,g=l[A.index].times,m++}return new yE(d,h,e,v)});return c}function R6(e,t){var n={};return e.forEach(function(r){if(r.raw!=null){var a=SW(t,r.raw);a!=null&&(n[r.dataKey]=a)}}),Object.keys(n).length>0?n:null}function SW(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function NW(e){return e.map(function(t,n){var r,a;return typeof t=="object"?a=(r=t.dataKey)!==null&&r!==void 0?r:n:a=n,new mW(a,t,n)})}function _W(e,t,n,r,a,s,l){var c=Qq(r),d;e==="head"?d=a.headStyles:e==="body"?d=a.bodyStyles:e==="foot"&&(d=a.footStyles);var h=xc({},c.table,c[e],a.styles,d),m=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},v=e==="body"?m:{},y=e==="body"&&n%2===0?xc({},c.alternateRow,a.alternateRowStyles):{},g=Jq(s),T=xc({},g,h,y,v);return xc(T,l)}function TW(e,t,n){var r;n===void 0&&(n={});var a=pE(e,t),s=new Map,l=[],c=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(y){var g=t.columns.find(function(T){return T.dataKey===y||T.index===y});g&&!s.has(g.index)&&(s.set(g.index,!0),l.push(g.index),c.push(t.columns[g.index]),a-=g.wrappedWidth)});for(var h=!0,m=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;m<t.columns.length;){if(s.has(m)){m++;continue}var v=t.columns[m].wrappedWidth;if(h||a>=v)h=!1,l.push(m),c.push(t.columns[m]),a-=v;else break;m++}return{colIndexes:l,columns:c,lastIndex:m-1}}function AW(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=TW(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}function SE(e,t){var n=t.settings,r=n.startY,a=n.margin,s={x:a.left,y:r},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=r+a.bottom+l;if(n.pageBreak==="avoid"){var d=t.body,h=d.reduce(function(y,g){return y+g.height},0);c+=h}var m=new X0(e);(n.pageBreak==="always"||n.startY!=null&&c>m.pageSize().height)&&(_E(m),s.y=a.top),t.callWillDrawPageHooks(m,s);var v=xc({},s);t.startPageNumber=m.pageNumber(),n.horizontalPageBreak?EW(m,t,v,s):(m.applyStyles(m.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&t.head.forEach(function(y){return Ac(m,t,y,s,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(y,g){var T=g===t.body.length-1;Ap(m,t,y,T,v,s,t.columns)}),m.applyStyles(m.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&t.foot.forEach(function(y){return Ac(m,t,y,s,t.columns)})),dE(m,t,v,s),t.callEndPageHooks(m,s),t.finalY=s.y,e.lastAutoTable=t,m.applyStyles(m.userStyles)}function EW(e,t,n,r){var a=AW(e,t),s=t.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(h,m){e.applyStyles(e.userStyles),m>0?Nd(e,t,n,r,h.columns,!0):M6(e,t,r,h.columns),CW(e,t,n,r,h.columns),Dx(e,t,r,h.columns)});else for(var l=-1,c=a[0],d=function(){var h=l;if(c){e.applyStyles(e.userStyles);var m=c.columns;l>=0?Nd(e,t,n,r,m,!0):M6(e,t,r,m),h=z6(e,t,l+1,r,m),Dx(e,t,r,m)}var v=h-l;a.slice(1).forEach(function(y){e.applyStyles(e.userStyles),Nd(e,t,n,r,y.columns,!0),z6(e,t,l+1,r,y.columns,v),Dx(e,t,r,y.columns)}),l=h};l<t.body.length-1;)d()}function M6(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(s){return Ac(e,t,s,n,r)})}function CW(e,t,n,r,a){e.applyStyles(e.userStyles),t.body.forEach(function(s,l){var c=l===t.body.length-1;Ap(e,t,s,c,n,r,a)})}function z6(e,t,n,r,a,s){e.applyStyles(e.userStyles),s=s??t.body.length;var l=Math.min(n+s,t.body.length),c=-1;return t.body.slice(n,l).forEach(function(d,h){var m=n+h===t.body.length-1,v=NE(e,t,m,r);d.canEntireRowFit(v,a)&&(Ac(e,t,d,r,a),c=n+h)}),c}function Dx(e,t,n,r){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(s){return Ac(e,t,s,n,r)})}function jW(e,t,n){var r=n.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),s=Math.floor((t-a)/r);return Math.max(0,s)}function DW(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var s=0,l=0,c=n.columns;l<c.length;l++){var d=c[l],h=e.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var m=new bE(h.raw,h.styles,h.section);m=xc(m,h),m.text=[];var v=jW(h,t,r);h.text.length>v&&(m.text=h.text.splice(v,h.text.length));var y=r.scaleFactor(),g=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(y,g),h.contentHeight>=t&&(h.contentHeight=t,m.styles.minCellHeight-=t),h.contentHeight>e.height&&(e.height=h.contentHeight),m.contentHeight=m.getContentHeight(y,g),m.contentHeight>s&&(s=m.contentHeight),a[d.index]=m}}var T=new yE(e.raw,-1,e.section,a,!0);T.height=s;for(var b=0,A=n.columns;b<A.length;b++){var d=A[b],m=T.cells[d.index];m&&(m.height=T.height);var h=e.cells[d.index];h&&(h.height=e.height)}return T}function kW(e,t,n,r){var a=e.pageSize().height,s=r.settings.margin,l=s.top+s.bottom,c=a-l;t.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var d=t.getMinimumRowHeight(r.columns,e),h=d<n;if(d>c)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var m=t.hasRowSpan(r.columns),v=t.getMaxCellHeight(r.columns)>c;return v?(m&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||r.settings.rowPageBreak==="avoid")}function Ap(e,t,n,r,a,s,l){var c=NE(e,t,r,s);if(n.canEntireRowFit(c,l))Ac(e,t,n,s,l);else if(kW(e,n,c,t)){var d=DW(n,c,t,e);Ac(e,t,n,s,l),Nd(e,t,a,s,l),Ap(e,t,d,r,a,s,l)}else Nd(e,t,a,s,l),Ap(e,t,n,r,a,s,l)}function Ac(e,t,n,r,a){r.x=t.settings.margin.left;for(var s=0,l=a;s<l.length;s++){var c=l[s],d=n.cells[c.index];if(!d){r.x+=c.width;continue}e.applyStyles(d.styles),d.x=r.x,d.y=r.y;var h=t.callCellHooks(e,t.hooks.willDrawCell,d,n,c,r);if(h===!1){r.x+=c.width;continue}LW(e,d,r);var m=d.getTextPos();uE(d.text,m.x,m.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,n,c,r),r.x+=c.width}r.y+=n.height}function LW(e,t,n){var r=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof r.lineWidth=="number"){var a=mE(r.lineWidth,r.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else typeof r.lineWidth=="object"&&(r.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),FW(e,t,n,r.lineWidth))}function FW(e,t,n,r){var a,s,l,c;r.top&&(a=n.x,s=n.y,l=n.x+t.width,c=n.y,r.right&&(l+=.5*r.right),r.left&&(a-=.5*r.left),d(r.top,a,s,l,c)),r.bottom&&(a=n.x,s=n.y+t.height,l=n.x+t.width,c=n.y+t.height,r.right&&(l+=.5*r.right),r.left&&(a-=.5*r.left),d(r.bottom,a,s,l,c)),r.left&&(a=n.x,s=n.y,l=n.x,c=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(c+=.5*r.bottom),d(r.left,a,s,l,c)),r.right&&(a=n.x+t.width,s=n.y,l=n.x+t.width,c=n.y+t.height,r.top&&(s-=.5*r.top),r.bottom&&(c+=.5*r.bottom),d(r.right,a,s,l,c));function d(h,m,v,y,g){e.getDocument().setLineWidth(h),e.getDocument().line(m,v,y,g,"S")}}function NE(e,t,n,r){var a=t.settings.margin.bottom,s=t.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-a}function Nd(e,t,n,r,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!s&&t.foot.forEach(function(c){return Ac(e,t,c,r,a)}),t.callEndPageHooks(e,r);var l=t.settings.margin;dE(e,t,n,r),_E(e),t.pageNumber++,r.x=l.left,r.y=l.top,n.y=l.top,t.callWillDrawPageHooks(e,r),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return Ac(e,t,c,r,a)}),e.applyStyles(e.userStyles))}function _E(e){var t=e.pageNumber();e.setPage(t+1);var n=e.pageNumber();return n===t?(e.addPage(),!0):!1}function OW(e){e.API.autoTable=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],a=vE(this,r),s=wE(this,a);return SE(this,s),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,n,r,a){uE(t,n,r,a,this)},e.API.autoTableSetDefaults=function(t){return X0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,n){X0.setDefaults(t,n)},e.API.autoTableHtmlToJson=function(t,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new X0(this),s=xE(a,t,window,n,!1),l=s.head,c=s.body,d=((r=l[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:d,rows:c,data:c}}}var kx;function du(e,t){var n=vE(e,t),r=wE(e,n);SE(e,r)}try{if(typeof window<"u"&&window){var I6=window,P6=I6.jsPDF||((kx=I6.jspdf)===null||kx===void 0?void 0:kx.jsPDF);P6&&OW(P6)}}catch(e){console.error("Could not apply autoTable plugin",e)}const B6=(e,t,n)=>{var d,h,m,v,y,g,T;const r=mi.book_new(),a=new Date().toISOString().split("T")[0];if(e.carreras&&e.carreras.length>0){const b=e.carreras.map(E=>({Fecha:E.fechaHora instanceof Date?E.fechaHora.toLocaleDateString("es-ES"):new Date(E.fechaHora).toLocaleDateString("es-ES"),Hora:E.fechaHora instanceof Date?E.fechaHora.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):new Date(E.fechaHora).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),"Taxmetro ()":E.taximetro||0,"Cobrado ()":E.cobrado||0,"Forma de Pago":E.formaPago||"","Tipo de Carrera":E.tipoCarrera||"Urbana",Emisora:E.emisora?"S":"No",Aeropuerto:E.aeropuerto?"S":"No",Estacin:E.estacion?"S":"No",Notas:E.notas||""})),A=mi.json_to_sheet(b);A["!cols"]=[{wch:12},{wch:8},{wch:12},{wch:12},{wch:15},{wch:15},{wch:10},{wch:10},{wch:10},{wch:30}],mi.book_append_sheet(r,A,"Carreras")}if(e.gastos&&e.gastos.length>0){const b=e.gastos.map(E=>({Fecha:E.fecha instanceof Date?E.fecha.toLocaleDateString("es-ES"):new Date(E.fecha).toLocaleDateString("es-ES"),Concepto:E.concepto||"",Proveedor:E.proveedor||"",Taller:E.taller||"","Base Imponible ()":E.baseImponible||E.importe||0,"IVA %":E.ivaPorcentaje||0,"IVA ()":E.ivaImporte||0,"Total ()":E.importe||0,"N Factura":E.numeroFactura||"","Forma de Pago":E.formaPago||"",Kilmetros:E.kilometros||0,Notas:E.notas||""})),A=mi.json_to_sheet(b);A["!cols"]=[{wch:12},{wch:20},{wch:20},{wch:20},{wch:15},{wch:8},{wch:12},{wch:12},{wch:15},{wch:15},{wch:12},{wch:30}],mi.book_append_sheet(r,A,"Gastos")}if(e.turnos&&e.turnos.length>0){const b=e.turnos.map(E=>({"Fecha Inicio":E.fechaInicio instanceof Date?E.fechaInicio.toLocaleDateString("es-ES"):new Date(E.fechaInicio).toLocaleDateString("es-ES"),"Hora Inicio":E.fechaInicio instanceof Date?E.fechaInicio.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):new Date(E.fechaInicio).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),"Km Inicio":E.kilometrosInicio||0,"Fecha Fin":E.fechaFin?E.fechaFin instanceof Date?E.fechaFin.toLocaleDateString("es-ES"):new Date(E.fechaFin).toLocaleDateString("es-ES"):"","Hora Fin":E.fechaFin?E.fechaFin instanceof Date?E.fechaFin.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):new Date(E.fechaFin).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"","Km Fin":E.kilometrosFin||"","Km Recorridos":E.kilometrosFin&&E.kilometrosInicio?E.kilometrosFin-E.kilometrosInicio:""})),A=mi.json_to_sheet(b);A["!cols"]=[{wch:12},{wch:8},{wch:10},{wch:12},{wch:8},{wch:10},{wch:12}],mi.book_append_sheet(r,A,"Turnos")}const s=[{"Total Ingresos ()":((d=e.carreras)==null?void 0:d.reduce((b,A)=>b+(A.cobrado||0),0))||0,"Total Gastos ()":((h=e.gastos)==null?void 0:h.reduce((b,A)=>b+(A.importe||0),0))||0,"Balance Neto ()":(((m=e.carreras)==null?void 0:m.reduce((b,A)=>b+(A.cobrado||0),0))||0)-(((v=e.gastos)==null?void 0:v.reduce((b,A)=>b+(A.importe||0),0))||0),"Total IVA Gastos ()":((y=e.gastos)==null?void 0:y.reduce((b,A)=>b+(A.ivaImporte||0),0))||0,"Perodo Desde":((g=t.fechaDesde)==null?void 0:g.toLocaleDateString("es-ES"))||"","Perodo Hasta":((T=t.fechaHasta)==null?void 0:T.toLocaleDateString("es-ES"))||"","Fecha Exportacin":new Date().toLocaleDateString("es-ES")}],l=mi.json_to_sheet(s);l["!cols"]=[{wch:20},{wch:20},{wch:20},{wch:20},{wch:15},{wch:15},{wch:15}],mi.book_append_sheet(r,l,"Resumen");const c=n||`TAppXI_Export_${a}.xlsx`;sE(r,c)},U6=(e,t,n)=>{var v,y,g,T;const r=new Date().toISOString().split("T")[0],a=[];a.push("TAppXI - Exportacin de Datos"),a.push(`Fecha de exportacin: ${new Date().toLocaleDateString("es-ES")}`),a.push(`Perodo: ${((v=t.fechaDesde)==null?void 0:v.toLocaleDateString("es-ES"))||"N/A"} - ${((y=t.fechaHasta)==null?void 0:y.toLocaleDateString("es-ES"))||"N/A"}`),a.push(""),e.carreras&&e.carreras.length>0&&(a.push("=== CARRERAS ==="),a.push("Fecha,Hora,Taxmetro,Cobrado,Forma Pago,Tipo Carrera,Emisora,Aeropuerto,Estacin"),e.carreras.forEach(b=>{const A=b.fechaHora instanceof Date?b.fechaHora:new Date(b.fechaHora);a.push([A.toLocaleDateString("es-ES"),A.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),(b.taximetro||0).toFixed(2),(b.cobrado||0).toFixed(2),b.formaPago||"",b.tipoCarrera||"Urbana",b.emisora?"S":"No",b.aeropuerto?"S":"No",b.estacion?"S":"No"].join(","))}),a.push("")),e.gastos&&e.gastos.length>0&&(a.push("=== GASTOS ==="),a.push("Fecha,Concepto,Proveedor,Base Imponible,IVA %,IVA,Total,N Factura,Forma Pago"),e.gastos.forEach(b=>{const A=b.fecha instanceof Date?b.fecha:new Date(b.fecha);a.push([A.toLocaleDateString("es-ES"),(b.concepto||"").replace(/,/g,";"),(b.proveedor||"").replace(/,/g,";"),(b.baseImponible||b.importe||0).toFixed(2),(b.ivaPorcentaje||0).toString(),(b.ivaImporte||0).toFixed(2),(b.importe||0).toFixed(2),(b.numeroFactura||"").replace(/,/g,";"),b.formaPago||""].join(","))}),a.push(""));const s=((g=e.carreras)==null?void 0:g.reduce((b,A)=>b+(A.cobrado||0),0))||0,l=((T=e.gastos)==null?void 0:T.reduce((b,A)=>b+(A.importe||0),0))||0;a.push("=== RESUMEN ==="),a.push(`Total Ingresos,${s.toFixed(2)}`),a.push(`Total Gastos,${l.toFixed(2)}`),a.push(`Balance Neto,${(s-l).toFixed(2)}`);const c=a.join(`
`),d=new Blob(["\uFEFF"+c],{type:"text/csv;charset=utf-8;"}),h=URL.createObjectURL(d),m=document.createElement("a");m.href=h,m.download=n||`TAppXI_Export_${r}.csv`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)},RW=e=>new Promise((t,n)=>{const r=new Image;r.crossOrigin="Anonymous",r.src=e,r.onload=()=>{const a=document.createElement("canvas");a.width=r.width,a.height=r.height;const s=a.getContext("2d");if(s){s.drawImage(r,0,0);try{const l=a.toDataURL("image/jpeg");t(l)}catch(l){console.warn("Could not get base64 data due to CORS:",l),t(null)}}else t(null)},r.onerror=a=>{console.warn("Failed to load image:",e,a),t(null)}}),MW=async e=>{if(!e)return null;if(e.startsWith("data:image"))return e;let t=e;const n=/drive\.google\.com\/(?:file\/d\/|open\?id=)([^/?&]+)/,r=e.match(n);r&&r[1]&&(t=`https://lh3.googleusercontent.com/d/${r[1]}=s200`);try{return await RW(t)}catch(a){return console.error("Error processing logo:",a),null}},H6=async(e,t,n)=>{var j,R,q;const r=new on,a=r.internal.pageSize.getWidth(),s=r.internal.pageSize.getHeight();let l=20;const c=localStorage.getItem("branding_logo"),d=localStorage.getItem("branding_datosFiscales"),h=d?JSON.parse(d):null;let m=40;const v=await MW(c);if(v)try{r.addImage(v,"JPEG",14,10,25,25)}catch(Z){console.error("Error adding logo to PDF:",Z)}r.setFontSize(22),r.setTextColor(0,0,0),r.setFont(void 0,"bold");const y=a-14;if(r.text("TAppXI",y,20,{align:"right"}),r.setFontSize(10),r.setFont(void 0,"normal"),r.setTextColor(100,100,100),r.text("Informe Profesional",y,25,{align:"right"}),h){let Z=35;r.setFontSize(9),r.setTextColor(80,80,80),h.nombre&&(r.setFont(void 0,"bold"),r.text(h.nombre,y,Z,{align:"right"}),r.setFont(void 0,"normal"),Z+=4),h.nif&&(r.text(`NIF: ${h.nif}`,y,Z,{align:"right"}),Z+=4),h.direccion&&(r.text(h.direccion,y,Z,{align:"right"}),Z+=4),(h.telefono||h.email)&&(r.text(`${h.telefono||""} ${h.email?" "+h.email:""}`,y,Z,{align:"right"}),m=Math.max(m,Z+10))}l=m+5,r.setFontSize(11),r.setTextColor(100,100,100),t.fechaDesde&&t.fechaHasta&&r.text(`Perodo: ${t.fechaDesde.toLocaleDateString("es-ES")} - ${t.fechaHasta.toLocaleDateString("es-ES")}`,14,m,{align:"left"}),r.setFontSize(8),r.text(`Generado: ${new Date().toLocaleDateString("es-ES")}`,14,m+4,{align:"left"}),l+=10,r.setFontSize(16),r.setTextColor(0,0,0),r.setFont(void 0,"bold"),r.text("RESUMEN EJECUTIVO",14,l),l+=10;const g=((j=e.carreras)==null?void 0:j.reduce((Z,I)=>Z+(I.cobrado||0),0))||0,T=((R=e.gastos)==null?void 0:R.reduce((Z,I)=>Z+(I.importe||0),0))||0,b=((q=e.gastos)==null?void 0:q.reduce((Z,I)=>Z+(I.ivaImporte||0),0))||0,A=g-T;if(r.setFontSize(11),r.setFont(void 0,"normal"),r.text(`Total Ingresos: ${g.toFixed(2)} `,14,l),l+=7,r.text(`Total Gastos: ${T.toFixed(2)} `,14,l),l+=7,r.text(`IVA (Gastos): ${b.toFixed(2)} `,14,l),l+=7,r.setFont(void 0,"bold"),r.setTextColor(0,100,0),r.text(`Balance Neto: ${A.toFixed(2)} `,14,l),l+=12,e.carreras&&e.carreras.length>0){l>s-60&&(r.addPage(),l=20),r.setFontSize(16),r.setTextColor(0,0,0),r.setFont(void 0,"bold"),r.text("DETALLE DE INGRESOS",14,l),l+=8;const Z=e.carreras.map(Y=>{const P=Y.fechaHora instanceof Date?Y.fechaHora:new Date(Y.fechaHora);return[P.toLocaleDateString("es-ES"),P.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),(Y.taximetro||0).toFixed(2),(Y.cobrado||0).toFixed(2),Y.formaPago||"N/A",Y.tipoCarrera||"Urbana"]}),I=du||r.autoTable;typeof I=="function"&&(I(r,{startY:l,head:[["Fecha","Hora","Taxmetro","Cobrado","Forma Pago","Tipo"]],body:Z,theme:"striped",headStyles:{fillColor:[0,150,200],textColor:255,fontStyle:"bold"},styles:{fontSize:9},margin:{left:14,right:14}}),l=r.lastAutoTable.finalY+10)}if(e.gastos&&e.gastos.length>0){l>s-60&&(r.addPage(),l=20),r.setFontSize(16),r.setTextColor(0,0,0),r.setFont(void 0,"bold"),r.text("DETALLE DE GASTOS",14,l),l+=8;const Z=e.gastos.map(Y=>[(Y.fecha instanceof Date?Y.fecha:new Date(Y.fecha)).toLocaleDateString("es-ES"),(Y.concepto||"Sin concepto").substring(0,20),(Y.proveedor||"Sin proveedor").substring(0,20),(Y.baseImponible||Y.importe||0).toFixed(2),(Y.ivaPorcentaje||0).toString()+"%",(Y.ivaImporte||0).toFixed(2),(Y.importe||0).toFixed(2)]),I=du||r.autoTable;typeof I=="function"&&(I(r,{startY:l,head:[["Fecha","Concepto","Proveedor","Base","IVA %","IVA ","Total"]],body:Z,theme:"striped",headStyles:{fillColor:[200,0,0],textColor:255,fontStyle:"bold"},styles:{fontSize:8},margin:{left:14,right:14}}),l=r.lastAutoTable.finalY+10)}const E=r.getNumberOfPages();for(let Z=1;Z<=E;Z++)r.setPage(Z),r.setFontSize(8),r.setTextColor(128,128,128),r.text(`Pgina ${Z} de ${E} - TAppXI`,a/2,s-10,{align:"center"});const D=n||`TAppXI_Informe_${new Date().toISOString().split("T")[0]}.pdf`;r.save(D)},zW=(e,t,n)=>{var E,D,j;const r=mi.book_new(),a=new Date().toISOString().split("T")[0],s=((E=t.fechaDesde)==null?void 0:E.getFullYear())||new Date().getFullYear(),l=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],c=[];for(let R=0;R<12;R++){const q=new Date(s,R,1),Z=new Date(s,R+1,0,23,59,59),I=(e.carreras||[]).filter(X=>{const H=X.fechaHora instanceof Date?X.fechaHora:new Date(X.fechaHora);return H>=q&&H<=Z}),Y=(e.gastos||[]).filter(X=>{const H=X.fecha instanceof Date?X.fecha:new Date(X.fecha);return H>=q&&H<=Z}),P=I.reduce((X,H)=>X+(H.cobrado||0),0),Q=Y.reduce((X,H)=>X+(H.importe||0),0),O=Y.reduce((X,H)=>X+(H.baseImponible||H.importe||0),0),G=Y.reduce((X,H)=>X+(H.ivaImporte||0),0),K=P-Q;c.push({Mes:l[R],"Ingresos ()":P,"Gastos Deducibles ()":Q,"Base Imponible Gastos ()":O,"IVA Soportado ()":G,"Rendimiento Neto ()":K,"N Carreras":I.length,"N Gastos":Y.length})}const d=c.reduce((R,q)=>R+q["Ingresos ()"],0),h=c.reduce((R,q)=>R+q["Gastos Deducibles ()"],0),m=c.reduce((R,q)=>R+q["Base Imponible Gastos ()"],0),v=c.reduce((R,q)=>R+q["IVA Soportado ()"],0),y=d-h;c.push({Mes:"TOTAL ANUAL","Ingresos ()":d,"Gastos Deducibles ()":h,"Base Imponible Gastos ()":m,"IVA Soportado ()":v,"Rendimiento Neto ()":y,"N Carreras":(e.carreras||[]).length,"N Gastos":(e.gastos||[]).length});const g=mi.json_to_sheet(c);if(g["!cols"]=[{wch:15},{wch:18},{wch:20},{wch:22},{wch:18},{wch:18},{wch:12},{wch:12}],mi.book_append_sheet(r,g,"Resumen Fiscal"),e.carreras&&e.carreras.length>0){const R=e.carreras.map(Z=>{const I=Z.fechaHora instanceof Date?Z.fechaHora:new Date(Z.fechaHora);return{Fecha:I.toLocaleDateString("es-ES"),Mes:l[I.getMonth()],Hora:I.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),"Ingreso ()":Z.cobrado||0,"Taxmetro ()":Z.taximetro||0,"Forma de Pago":Z.formaPago||"",Tipo:Z.tipoCarrera||"Urbana",Emisora:Z.emisora?"S":"No",Aeropuerto:Z.aeropuerto?"S":"No",Estacin:Z.estacion?"S":"No"}}),q=mi.json_to_sheet(R);q["!cols"]=[{wch:12},{wch:12},{wch:8},{wch:14},{wch:14},{wch:15},{wch:12},{wch:10},{wch:10},{wch:10}],mi.book_append_sheet(r,q,"Ingresos Detallados")}if(e.gastos&&e.gastos.length>0){const R=e.gastos.map(Z=>{const I=Z.fecha instanceof Date?Z.fecha:new Date(Z.fecha);return{Fecha:I.toLocaleDateString("es-ES"),Mes:l[I.getMonth()],Concepto:Z.concepto||"",Proveedor:Z.proveedor||"","NIF Proveedor":"","N Factura":Z.numeroFactura||"","Base Imponible ()":Z.baseImponible||Z.importe||0,"IVA %":Z.ivaPorcentaje||0,"IVA ()":Z.ivaImporte||0,"Total ()":Z.importe||0,"Forma de Pago":Z.formaPago||"",Kilmetros:Z.kilometros||0,Deducible:"S"}}),q=mi.json_to_sheet(R);q["!cols"]=[{wch:12},{wch:12},{wch:25},{wch:25},{wch:15},{wch:15},{wch:18},{wch:8},{wch:12},{wch:14},{wch:15},{wch:12},{wch:10}],mi.book_append_sheet(r,q,"Gastos Deducibles")}const T=[{Concepto:"Ao Fiscal",Valor:s.toString()},{Concepto:"Fecha de Generacin",Valor:new Date().toLocaleDateString("es-ES")},{Concepto:"Perodo Desde",Valor:((D=t.fechaDesde)==null?void 0:D.toLocaleDateString("es-ES"))||"N/A"},{Concepto:"Perodo Hasta",Valor:((j=t.fechaHasta)==null?void 0:j.toLocaleDateString("es-ES"))||"N/A"},{Concepto:"",Valor:""},{Concepto:"TOTAL INGRESOS ANUALES",Valor:`${d.toFixed(2)} `},{Concepto:"TOTAL GASTOS DEDUCIBLES",Valor:`${h.toFixed(2)} `},{Concepto:"BASE IMPONIBLE GASTOS",Valor:`${m.toFixed(2)} `},{Concepto:"IVA SOPORTADO",Valor:`${v.toFixed(2)} `},{Concepto:"RENDIMIENTO NETO",Valor:`${y.toFixed(2)} `},{Concepto:"",Valor:""},{Concepto:"NOTAS IMPORTANTES",Valor:""},{Concepto:"",Valor:"1. Los ingresos de taxistas NO estn sujetos a IVA (Rgimen Especial)"},{Concepto:"",Valor:"2. El IVA soportado en gastos puede deducirse segn normativa vigente"},{Concepto:"",Valor:"3. Verificar que todos los gastos sean deducibles segn tu actividad"},{Concepto:"",Valor:"4. Completar NIF de proveedores si es necesario para la declaracin"},{Concepto:"",Valor:"5. Este documento es una ayuda, consulta con tu asesor fiscal"}],b=mi.json_to_sheet(T);b["!cols"]=[{wch:30},{wch:50}],mi.book_append_sheet(r,b,"Informacin Fiscal");const A=`TAppXI_Hacienda_${s}_${a}.xlsx`;sE(r,A)},Qd="customReports";function IW(e){return{id:e.id,nombre:e.nombre,descripcion:e.descripcion??"",filtros:e.filtros??{},tipoExportacion:e.tipoExportacion??"excel",agrupacion:e.agrupacion??"ninguna",createdAt:e.createdAt?new Date(e.createdAt):new Date,lastUsed:e.lastUsed?new Date(e.lastUsed):void 0}}const PW=async e=>{const t=crypto.randomUUID(),n={id:t,...e,createdAt:new Date().toISOString(),lastUsed:void 0};return await Wr(Qd,t,n),t},Lx=async()=>(await nl(Qd)).map(IW),BW=async e=>{await Ec(Qd,e)},UW=async e=>{const t=await xo(Qd,e);if(!t)throw new Error("CustomReport not found");const n={...t,lastUsed:new Date().toISOString()};await Wr(Qd,e,n)},N0=({label:e,children:t})=>u.jsxs("div",{className:"space-y-1",children:[u.jsx("label",{className:"block text-xs font-medium text-zinc-400",children:e}),t]}),HW=({navigateTo:e})=>{const{isDark:t,setTheme:n,themeName:r,setThemeName:a,highContrast:s,toggleHighContrast:l}=zl(),{fontSize:c,setFontSize:d}=Kz(),[h,m]=W.useState(t),[v,y]=W.useState(c),[g,T]=W.useState(parseFloat(localStorage.getItem("objetivoDiario")||"100")),[b,A]=W.useState(!1),[E,D]=W.useState(!1),[j,R]=W.useState(null),[q,Z]=W.useState(r),[I,Y]=W.useState(s),[P,Q]=W.useState(!1),[O,G]=W.useState(24),[K,X]=W.useState(null),[H,V]=W.useState(!1),[ae,ce]=W.useState(()=>{const Oe=localStorage.getItem("tarifa1");return Oe?parseFloat(Oe):4.4}),[le,me]=W.useState(()=>{const Oe=localStorage.getItem("tarifa2");return Oe?parseFloat(Oe):5.47}),[M,N]=W.useState(()=>{const Oe=localStorage.getItem("tarifa3");return Oe?parseFloat(Oe):6.85}),[F,L]=W.useState(()=>{const Oe=localStorage.getItem("tarifaAeropuertoDia");return Oe?parseFloat(Oe):25.72}),[B,te]=W.useState(()=>{const Oe=localStorage.getItem("tarifaAeropuertoNoche");return Oe?parseFloat(Oe):28.67}),[de,Ne]=W.useState(!1),[se,ve]=W.useState(!1),[je,ke]=W.useState(""),[Ge,Te]=W.useState(""),[xe,gt]=W.useState("excel"),[Xe,wt]=W.useState(!1),[Ze,Et]=W.useState(""),[St,Kt]=W.useState(""),[Lt,qt]=W.useState(!1),[rn,Wt]=W.useState([]),[cn,zt]=W.useState(!1),[It,tn]=W.useState(""),[Ft,Mn]=W.useState(""),[Xt,Dt]=W.useState({}),[Pt,xn]=W.useState("excel"),[$t,mn]=W.useState(""),[Bt,Fn]=W.useState({nombre:"",nif:"",direccion:"",telefono:"",email:""}),[Hn,_n]=W.useState(!1),[Ut,qe]=W.useState(!1),[Ie,nt]=W.useState([]),[ln,Wn]=W.useState(!1),[kt,rr]=W.useState(0),[Vn,nn]=W.useState(""),[Sr,jn]=W.useState(!1),[ar,ne]=W.useState(0),[ye,fe]=W.useState(""),[he,ge]=W.useState(null),[be,Pe]=W.useState(null),[Je,Ue]=W.useState(null),Re=Oe=>{ge(Oe)},He=(Oe,lt)=>{Pe(Oe),Ue(()=>lt)},ht=()=>{ge(null)},yt=()=>{Pe(null),Ue(null)},Tt=()=>{const Oe=Je;yt(),Oe&&Oe()};W.useEffect(()=>{(async()=>{if(!H)try{const lt=await oh();if(lt){const rt=lt.tamanoFuente??lt["tam\\u00f1oFuente"]??14;m(lt.temaOscuro??!1),n(lt.temaOscuro??!1),y(rt),d(rt),T(lt.objetivoDiario??100);const wn=lt.temaColor||localStorage.getItem("temaColor")||"azul",$n=lt.altoContraste??localStorage.getItem("altoContraste")==="true";Z(wn),a(wn),Y($n),$n!==void 0&&!!$n!==s&&l(),localStorage.setItem("temaOscuro",(lt.temaOscuro??!1).toString()),localStorage.setItem("tamanoFuente",rt.toString()),localStorage.removeItem("tam\\u00f1oFuente"),localStorage.setItem("objetivoDiario",(lt.objetivoDiario??100).toString()),localStorage.setItem("temaColor",wn),localStorage.setItem("altoContraste",String($n)),lt.tarifa1!==void 0&&(ce(lt.tarifa1),localStorage.setItem("tarifa1",lt.tarifa1.toString())),lt.tarifa2!==void 0&&(me(lt.tarifa2),localStorage.setItem("tarifa2",lt.tarifa2.toString())),lt.tarifa3!==void 0&&(N(lt.tarifa3),localStorage.setItem("tarifa3",lt.tarifa3.toString())),lt.tarifaAeropuertoDia!==void 0&&(L(lt.tarifaAeropuertoDia),localStorage.setItem("tarifaAeropuertoDia",lt.tarifaAeropuertoDia.toString())),lt.tarifaAeropuertoNoche!==void 0&&(te(lt.tarifaAeropuertoNoche),localStorage.setItem("tarifaAeropuertoNoche",lt.tarifaAeropuertoNoche.toString())),lt.logo&&(mn(lt.logo),localStorage.setItem("branding_logo",lt.logo)),lt.datosFiscales&&(Fn(lt.datosFiscales),localStorage.setItem("branding_datosFiscales",JSON.stringify(lt.datosFiscales)))}else{const rt=localStorage.getItem("branding_logo");rt&&mn(rt);const wn=localStorage.getItem("branding_datosFiscales");wn&&Fn(JSON.parse(wn))}}catch(lt){console.error("Error cargando ajustes:",lt)}})()},[d,n,a,s,l,H]),W.useEffect(()=>{const Oe=new Date,lt=new Date(Oe.getFullYear(),Oe.getMonth(),1),rt=new Date(Oe.getFullYear(),Oe.getMonth()+1,0);ke(lt.toISOString().split("T")[0]),Te(rt.toISOString().split("T")[0])},[]),W.useEffect(()=>{(async()=>{try{const lt=await Lx();Wt(lt)}catch(lt){console.error("Error cargando reportes personalizados:",lt)}})()},[]);const xt=async()=>{D(!0),R(null);try{await Jm({temaOscuro:h,tamanoFuente:v,letraDescanso:"",objetivoDiario:g,temaColor:q,altoContraste:I,tarifa1:ae,tarifa2:le,tarifa3:M,tarifaAeropuertoDia:F,tarifaAeropuertoNoche:B,logo:$t,datosFiscales:Bt}),n(h),d(v),a(q),I!==s&&l(),localStorage.setItem("temaOscuro",h.toString()),localStorage.setItem("tamanoFuente",v.toString()),localStorage.removeItem("tam\\u00f1oFuente"),localStorage.setItem("objetivoDiario",g.toString()),localStorage.setItem("temaColor",q),localStorage.setItem("altoContraste",I.toString()),localStorage.setItem("tarifa1",ae.toString()),localStorage.setItem("tarifa2",le.toString()),localStorage.setItem("tarifa3",M.toString()),localStorage.setItem("tarifaAeropuertoDia",F.toString()),localStorage.setItem("tarifaAeropuertoNoche",B.toString()),localStorage.setItem("branding_logo",$t),localStorage.setItem("branding_datosFiscales",JSON.stringify(Bt)),V(!1),A(!0),setTimeout(()=>A(!1),2e3)}catch(Oe){console.error("Error guardando ajustes:",Oe),R("Error al guardar los ajustes. Por favor, intentalo de nuevo.")}finally{D(!1)}},Nt=async()=>{if(!de){Ne(!0);try{await oI(),Re(` Copia de seguridad subida a Google Drive correctamente.

El archivo est disponible en tu Google Drive.`)}catch(Oe){console.error("Error realizando backup:",Oe);const lt=(Oe==null?void 0:Oe.message)||(Oe==null?void 0:Oe.error)||String(Oe);let rt=` Error al subir a Google Drive.

`;typeof lt=="string"?lt.includes("Configuracin de Google faltante")||lt.includes("VITE_GOOGLE")?(rt+=` Faltan credenciales de Google.

`,rt+=`Pasos para solucionarlo:
`,rt+=`1. Crea un archivo .env en la raz del proyecto
`,rt+=`2. Aade estas lneas:
`,rt+=`   VITE_GOOGLE_CLIENT_ID=tu_client_id
`,rt+=`   VITE_GOOGLE_API_KEY=tu_api_key
`,rt+=`3. Reinicia el servidor (npm run dev)

`,rt+=" Consulta el archivo SOLUCION_BACKUP_GOOGLE.md para instrucciones detalladas."):lt.includes("origin")||lt.includes("idpiframe_initialization_failed")?(rt+=` El origen no est permitido en Google Cloud Console.

`,rt+=`Tu origen actual: ${window.location.origin}

`,rt+=`Pasos para solucionarlo:
`,rt+=`1. Ve a: https://console.cloud.google.com/apis/credentials
`,rt+=`2. Click en tu OAuth 2.0 Client ID
`,rt+=`3. En 'Orgenes autorizados de JavaScript', aade:
`,rt+=`   ${window.location.origin}
`,rt+=`4. Guarda y espera 5-15 minutos

`,rt+=" Consulta SOLUCION_BACKUP_GOOGLE.md para ms ayuda."):lt.includes("popup_closed_by_user")?(rt+=` Inicio de sesin cancelado.

`,rt+="Por favor, completa el proceso de autorizacin cuando se abra la ventana de Google."):lt.includes("insufficientPermissions")||lt.includes("permission")?(rt+=` Error de permisos.

`,rt+="Asegrate de haber autorizado el acceso a Google Drive cuando se te solicit."):lt.includes("quota")||lt.includes("storage")?(rt+=` Sin espacio en Google Drive.

`,rt+="Libera espacio en tu cuenta de Google Drive e intenta de nuevo."):(rt+=`Detalles del error:
${lt}

`,rt+=" Consulta SOLUCION_BACKUP_GOOGLE.md para ms ayuda."):(rt+=`Revisa la consola del navegador (F12) para ms detalles.

`,rt+=" Consulta SOLUCION_BACKUP_GOOGLE.md para ms ayuda."),Re(rt),He("Quieres descargar el backup JSON localmente como alternativa?",async()=>{try{await sI(),Re(" Backup descargado localmente correctamente.")}catch(wn){console.error("Error descargando backup:",wn),Re(" Error al descargar el backup localmente.")}})}finally{Ne(!1)}}},Mt=async()=>{if(!se){ve(!0);try{const{spreadsheetId:Oe,url:lt}=await lI();He(` Exportacin a Google Sheets completada.

ID: ${Oe}

Quieres abrir la hoja de clculo ahora?`,()=>{window.open(lt,"_blank")})}catch(Oe){console.error("Error exportando a Google Sheets:",Oe);const lt=(Oe==null?void 0:Oe.message)||(Oe==null?void 0:Oe.error)||String(Oe);let rt=` Error al exportar a Google Sheets.

`;typeof lt=="string"?lt.includes("Configuracin de Google faltante")||lt.includes("VITE_GOOGLE")?(rt+=` Faltan credenciales de Google.

`,rt+=`Pasos para solucionarlo:
`,rt+=`1. Crea un archivo .env en la raz del proyecto
`,rt+=`2. Aade estas lneas:
`,rt+=`   VITE_GOOGLE_CLIENT_ID=tu_client_id
`,rt+=`   VITE_GOOGLE_API_KEY=tu_api_key
`,rt+=`3. Reinicia el servidor (npm run dev)

`,rt+=" Consulta el archivo SOLUCION_BACKUP_GOOGLE.md para instrucciones detalladas."):lt.includes("origin")||lt.includes("idpiframe_initialization_failed")?(rt+=` El origen no est permitido en Google Cloud Console.

`,rt+=`Tu origen actual: ${window.location.origin}

`,rt+=`Pasos para solucionarlo:
`,rt+=`1. Ve a: https://console.cloud.google.com/apis/credentials
`,rt+=`2. Click en tu OAuth 2.0 Client ID
`,rt+=`3. En 'Orgenes autorizados de JavaScript', aade:
`,rt+=`   ${window.location.origin}
`,rt+=`4. Guarda y espera 5-15 minutos

`,rt+=" Consulta SOLUCION_BACKUP_GOOGLE.md para ms ayuda."):lt.includes("popup_closed_by_user")?(rt+=` Inicio de sesin cancelado.

`,rt+="Por favor, completa el proceso de autorizacin cuando se abra la ventana de Google."):lt.includes("insufficientPermissions")||lt.includes("permission")?(rt+=` Error de permisos.

`,rt+="Asegrate de haber autorizado el acceso a Google Sheets cuando se te solicit."):lt.includes("not found")||lt.includes("does not exist")?(rt+=` La hoja no se encontr.

`,rt+="Esto puede ser un error temporal. Intenta exportar de nuevo."):(rt+=`Detalles del error:
${lt}

`,rt+=" Consulta SOLUCION_BACKUP_GOOGLE.md para ms ayuda."):(rt+=`Revisa la consola del navegador (F12) para ms detalles.

`,rt+=" Consulta SOLUCION_BACKUP_GOOGLE.md para ms ayuda."),Re(rt)}finally{ve(!1)}}},Qn=async()=>{Wn(!0),qe(!0),nt([]);try{const Oe="(name contains 'tappxi' or name contains 'TAppXI') and trashed = false";console.log("Buscando backups con query:",Oe);const lt=await rI(Oe);console.log("Archivos encontrados (raw):",lt);const rt=lt.filter(wn=>wn.mimeType==="application/json"||wn.mimeType==="application/vnd.google-apps.spreadsheet");console.log("Archivos vlidos tras filtrar:",rt),nt(rt)}catch(Oe){console.error("Error listando backups:",Oe),Re("Error al buscar copias de seguridad en Google Drive. Revisa la consola."),qe(!1)}finally{Wn(!1)}},On=async(Oe,lt,rt)=>{He(`Ests seguro de que quieres restaurar el backup "${lt}"?

 ESTO SOBREESCRIBIR LOS DATOS EXISTENTES QUE COINCIDAN.`,async()=>{_n(!0),rr(0),nn("Iniciando restauracin...");try{let wn;const $n=(qr,xa)=>{rr(qr),nn(xa)};if(rt==="application/vnd.google-apps.spreadsheet")wn=await cI(Oe,$n);else{const qr=await aI(Oe);wn=await CA(qr,$n)}rr(100),nn("Restauracin completada!"),await new Promise(qr=>setTimeout(qr,500)),Re(` Restauracin completada con xito.

Resumen:
- Carreras: ${wn.carreras}
- Gastos: ${wn.gastos}
- Turnos: ${wn.turnos}

La aplicacin se recargar para aplicar los cambios.`),setTimeout(()=>window.location.reload(),3e3)}catch(wn){console.error("Error restaurando backup:",wn),Re(` Error al restaurar el backup: ${wn.message}`)}finally{_n(!1),qe(!1),rr(0),nn("")}})},er=()=>{He("Estas seguro de que quieres eliminar TODOS los datos? Esta accion no se puede deshacer.",()=>{He("ULTIMA CONFIRMACION: Esta accion eliminara todos los datos permanentemente. Continuar?",async()=>{var Oe;yt(),await new Promise(lt=>setTimeout(lt,100)),jn(!0),ne(0),fe("Iniciando eliminacin...");try{await mT(rt=>{ne(rt.percentage),fe(rt.message)}),fe("Limpiando datos locales..."),localStorage.clear(),ne(100),fe("Eliminacin completada!"),await new Promise(rt=>setTimeout(rt,500)),Re(` Todos los datos han sido eliminados correctamente.

La aplicacin se recargar para reflejar los cambios.`),setTimeout(()=>window.location.reload(),3e3)}catch(lt){console.error("Error eliminando datos:",lt);let rt=` Error al eliminar los datos: ${lt.message}`;((Oe=lt==null?void 0:lt.message)!=null&&Oe.includes("permission")||(lt==null?void 0:lt.code)==="permission-denied")&&(rt+=`

 SOLUCIN:
`,rt+=`1. Ve a Firebase Console: https://console.firebase.google.com/
`,rt+=`2. Selecciona tu proyecto (tappxi-21346)
`,rt+=`3. Ve a Firestore Database > Reglas
`,rt+=`4. Copia y pega las reglas del archivo firestore.rules
`,rt+=`5. Haz clic en "Publicar"
`,rt+=`6. Recarga la aplicacin

`,rt+=" Consulta PASOS_SOLUCION_PERMISOS.md para instrucciones detalladas."),Re(rt)}finally{jn(!1),ne(0),fe("")}})})},ga=async()=>{if(!je||!Ge){Re("Por favor, selecciona ambas fechas.");return}wt(!0);try{const Oe=new Date(je);Oe.setHours(0,0,0,0);const lt=new Date(Ge);lt.setHours(23,59,59,999);const[rt,wn,$n]=await Promise.all([Vs(),Zo(),ff(1e3)]),qr=rt.filter(Ae=>{const Ot=Ae.fechaHora instanceof Date?Ae.fechaHora:new Date(Ae.fechaHora);return Ot>=Oe&&Ot<=lt}),xa=wn.filter(Ae=>{const Ot=Ae.fecha instanceof Date?Ae.fecha:new Date(Ae.fecha);return Ot>=Oe&&Ot<=lt}),va=$n.filter(Ae=>{const Ot=Ae.fechaInicio instanceof Date?Ae.fechaInicio:new Date(Ae.fechaInicio);return Ot>=Oe&&Ot<=lt}),oa={fechaDesde:Oe,fechaHasta:lt},Gn={carreras:qr,gastos:xa,turnos:va};xe==="excel"?B6(Gn,oa):xe==="csv"?U6(Gn,oa):await H6(Gn,oa),Re(`Exportacin a ${xe.toUpperCase()} completada exitosamente.`)}catch(Oe){console.error("Error en exportacin avanzada:",Oe),Re("Error al exportar los datos. Por favor, intenta de nuevo.")}finally{wt(!1)}},$a=async()=>{if(!Ze||!St){Re("Por favor, selecciona ambas fechas para la exportacin fiscal.");return}qt(!0);try{const Oe=new Date(Ze);Oe.setHours(0,0,0,0);const lt=new Date(St);lt.setHours(23,59,59,999);const[rt,wn,$n]=await Promise.all([Vs(),Zo(),ff(1e3)]),qr=rt.filter(Ae=>{const Ot=Ae.fechaHora instanceof Date?Ae.fechaHora:new Date(Ae.fechaHora);return Ot>=Oe&&Ot<=lt}),xa=wn.filter(Ae=>{const Ot=Ae.fecha instanceof Date?Ae.fecha:new Date(Ae.fecha);return Ot>=Oe&&Ot<=lt}),va=$n.filter(Ae=>{const Ot=Ae.fechaInicio instanceof Date?Ae.fechaInicio:new Date(Ae.fechaInicio);return Ot>=Oe&&Ot<=lt});zW({carreras:qr,gastos:xa,turnos:va},{fechaDesde:Oe,fechaHasta:lt}),Re(` Exportacin para Hacienda completada exitosamente.

El archivo Excel contiene:
- Resumen fiscal mensual
- Ingresos detallados
- Gastos deducibles
- Informacin fiscal`)}catch(Oe){console.error("Error en exportacin para Hacienda:",Oe),Re("Error al exportar los datos fiscales. Por favor, intenta de nuevo.")}finally{qt(!1)}},yi=async()=>{if(!It.trim()){Re("Por favor, ingresa un nombre para el reporte.");return}if(!je||!Ge){Re("Por favor, selecciona ambas fechas.");return}try{const Oe=new Date(je);Oe.setHours(0,0,0,0);const lt=new Date(Ge);lt.setHours(23,59,59,999);const rt={fechaDesde:Oe,fechaHasta:lt,...Xt};await PW({nombre:It,descripcion:Ft,filtros:rt,tipoExportacion:Pt,agrupacion:"ninguna"});const wn=await Lx();Wt(wn),tn(""),Mn(""),zt(!1),Re("Reporte personalizado guardado exitosamente.")}catch(Oe){console.error("Error guardando reporte personalizado:",Oe),Re("Error al guardar el reporte. Por favor, intenta de nuevo.")}},ka=async Oe=>{He("Ests seguro de que quieres eliminar este reporte personalizado?",async()=>{try{await BW(Oe);const lt=await Lx();Wt(lt)}catch(lt){console.error("Error eliminando reporte:",lt),Re("Error al eliminar el reporte.")}})},Li=async Oe=>{wt(!0);try{const[lt,rt,wn]=await Promise.all([Vs(),Zo(),ff(1e3)]),$n={...Oe.filtros};$n.fechaDesde&&($n.fechaDesde=new Date($n.fechaDesde)),$n.fechaHasta&&($n.fechaHasta=new Date($n.fechaHasta));let qr=lt,xa=rt,va=wn;$n.fechaDesde&&$n.fechaHasta&&(qr=lt.filter(Gn=>{const Ae=Gn.fechaHora instanceof Date?Gn.fechaHora:new Date(Gn.fechaHora);return Ae>=$n.fechaDesde&&Ae<=$n.fechaHasta}),xa=rt.filter(Gn=>{const Ae=Gn.fecha instanceof Date?Gn.fecha:new Date(Gn.fecha);return Ae>=$n.fechaDesde&&Ae<=$n.fechaHasta}));const oa={carreras:qr,gastos:xa,turnos:va};Oe.tipoExportacion==="excel"?B6(oa,$n,`${Oe.nombre}.xlsx`):Oe.tipoExportacion==="csv"?U6(oa,$n,`${Oe.nombre}.csv`):H6(oa,$n,`${Oe.nombre}.pdf`),await UW(Oe.id),Re(`Exportacin "${Oe.nombre}" completada exitosamente.`)}catch(lt){console.error("Error usando reporte:",lt),Re("Error al exportar con el reporte. Por favor, intenta de nuevo.")}finally{wt(!1)}};return u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-24 space-y-2",children:[u.jsx(Da,{title:"Ajustes",navigateTo:e,backTarget:mt.Home}),u.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tema Oscuro"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Activar o desactivar el tema oscuro"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:h,onChange:Oe=>{V(!0),m(Oe.target.checked),n(Oe.target.checked)},className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-zinc-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tema de color"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Elige el color principal de la interfaz"})]}),u.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"azul",label:"Azul"},{id:"esmeralda",label:"Esmeralda"},{id:"ambar",label:"mbar"},{id:"fucsia",label:"Fucsia"}].map(Oe=>u.jsxs("button",{type:"button",onClick:()=>{V(!0),Z(Oe.id)},className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm border transition-all
                                ${q===Oe.id?"border-yellow-400 bg-yellow-400/10 text-yellow-200":"border-zinc-600 bg-zinc-800 text-zinc-300 hover:border-yellow-300"}`,children:[u.jsx("span",{children:Oe.label}),u.jsx("span",{className:`w-4 h-4 rounded-full ${Oe.id==="azul"?"bg-blue-500":Oe.id==="esmeralda"?"bg-emerald-500":Oe.id==="ambar"?"bg-amber-400":"bg-fuchsia-500"}`})]},Oe.id))})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tarifas Urbanas (Mnimas)"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Configura los importes para las tarifas 1, 2 y 3."})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 1 (Da Lab)"}),u.jsx("input",{type:"number",step:"0.01",value:ae,onChange:Oe=>{V(!0),ce(parseFloat(Oe.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 2 (Noche L-J/Finde)"}),u.jsx("input",{type:"number",step:"0.01",value:le,onChange:Oe=>{V(!0),me(parseFloat(Oe.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 3 (Especial/Noche Vi-Sa)"}),u.jsx("input",{type:"number",step:"0.01",value:M,onChange:Oe=>{V(!0),N(parseFloat(Oe.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tarifas Aeropuerto"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Configura los importes fijos para T4 y T5."})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 4 (Da)"}),u.jsx("input",{type:"number",step:"0.01",value:F,onChange:Oe=>{V(!0),L(parseFloat(Oe.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-medium text-zinc-400 mb-1",children:"Tarifa 5 (Noche/Finde)"}),u.jsx("input",{type:"number",step:"0.01",value:B,onChange:Oe=>{V(!0),te(parseFloat(Oe.target.value)||0)},className:"w-full p-2 bg-zinc-900 border border-zinc-600 rounded-lg text-zinc-100 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),u.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Modo alto contraste"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Mejora la legibilidad con colores ms contrastados"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:I,onChange:Oe=>{V(!0),Y(Oe.target.checked)},className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-zinc-600 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-yellow-400 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-yellow-400"})]})]})}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Tamano de Fuente"}),u.jsxs("p",{className:"text-zinc-400 text-sm mb-1.5",children:["Ajusta el tamano de la fuente: ",v,"px"]})]}),u.jsx("input",{type:"range",min:"12",max:"20",value:v,onChange:Oe=>{const lt=Number(Oe.target.value);V(!0),y(lt),d(lt)},className:"w-full h-2 bg-zinc-600 rounded-lg appearance-none cursor-pointer accent-blue-500"}),u.jsxs("div",{className:"flex justify-between text-xs text-zinc-400 mt-1",children:[u.jsx("span",{children:"12px"}),u.jsx("span",{children:"16px"}),u.jsx("span",{children:"20px"})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Objetivo Diario"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Establece tu objetivo diario de ingresos"})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[u.jsx("input",{type:"number",value:g,onChange:Oe=>T(Number(Oe.target.value)),className:"flex-1 bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),u.jsx("span",{className:"text-zinc-400 font-medium",children:"EUR"})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"mb-2",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Datos Fiscales y Marca"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Configura tus datos para los informes y facturas."})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx(N0,{label:"URL del Logo",children:u.jsx("input",{type:"text",value:$t,onChange:Oe=>{V(!0),mn(Oe.target.value)},placeholder:"https://ejemplo.com/logo.png",className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[u.jsx(N0,{label:"Nombre / Razn Social",children:u.jsx("input",{type:"text",value:Bt.nombre,onChange:Oe=>{V(!0),Fn({...Bt,nombre:Oe.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),u.jsx(N0,{label:"NIF / CIF",children:u.jsx("input",{type:"text",value:Bt.nif,onChange:Oe=>{V(!0),Fn({...Bt,nif:Oe.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),u.jsx(N0,{label:"Direccin Fiscal",children:u.jsx("input",{type:"text",value:Bt.direccion,onChange:Oe=>{V(!0),Fn({...Bt,direccion:Oe.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[u.jsx(N0,{label:"Telfono",children:u.jsx("input",{type:"tel",value:Bt.telefono,onChange:Oe=>{V(!0),Fn({...Bt,telefono:Oe.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})}),u.jsx(N0,{label:"Email",children:u.jsx("input",{type:"email",value:Bt.email,onChange:Oe=>{V(!0),Fn({...Bt,email:Oe.target.value})},className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})})]})]})]}),u.jsxs("div",{className:"flex flex-col items-center pb-2 space-y-1.5",children:[j&&u.jsx("div",{className:"bg-red-500/20 border border-red-500 text-red-400 px-4 py-2 rounded-lg text-sm",children:j}),u.jsx("button",{onClick:xt,disabled:E,className:`bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-8 rounded-lg transition-colors flex items-center gap-2 ${b?"bg-green-600 hover:bg-green-700":""} ${E?"opacity-50 cursor-not-allowed":""}`,children:E?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Guardando..."})]}):b?u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"M20 6L9 17l-5-5"})}),u.jsx("span",{children:"Guardado"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),u.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),u.jsx("polyline",{points:"7 3 7 8 15 8"})]}),u.jsx("span",{children:"Guardar Ajustes"})]})})]}),u.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Copia de seguridad"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Sube el backup a Drive o exporta a Google Sheets"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:Nt,disabled:de||se,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:de?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Subiendo..."})]}):u.jsx("span",{children:"Subir a Drive"})}),u.jsx("button",{onClick:Mt,disabled:de||se,className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:se?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Exportando..."})]}):u.jsx("span",{children:"Google Sheets"})})]})]})}),u.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-0.5",children:"Restaurar Datos"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Recupera una copia de seguridad desde Drive"})]}),u.jsx("button",{onClick:Qn,disabled:Hn,className:"bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Hn?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Restaurando..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"7 10 12 15 17 10"}),u.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),u.jsx("span",{children:"Restaurar desde Drive"})]})})]})}),Ut&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-md max-h-[80vh] flex flex-col border border-zinc-700 shadow-2xl",children:[u.jsxs("div",{className:"p-4 border-b border-zinc-700 flex justify-between items-center",children:[u.jsx("h3",{className:"text-lg font-bold text-white",children:"Seleccionar Copia de Seguridad"}),u.jsx("button",{onClick:()=>qe(!1),className:"text-zinc-400 hover:text-white",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ln?u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-zinc-400",children:[u.jsxs("svg",{className:"animate-spin h-8 w-8 mb-3 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("p",{children:"Buscando backups en Drive..."})]}):Ie.length===0?u.jsxs("div",{className:"text-center py-8 text-zinc-400",children:[u.jsx("p",{children:"No se encontraron copias de seguridad recientes."}),u.jsx("p",{className:"text-xs mt-2 opacity-70",children:"Asegrate de haber subido backups previamente."})]}):u.jsx("div",{className:"space-y-2",children:Ie.map(Oe=>u.jsxs("button",{onClick:()=>On(Oe.id,Oe.name,Oe.mimeType),disabled:Hn,className:"w-full text-left p-3 rounded-lg bg-zinc-700/50 hover:bg-zinc-700 border border-zinc-600 transition-colors group",children:[u.jsxs("div",{className:"font-medium text-zinc-200 group-hover:text-white truncate flex items-center gap-2",children:[u.jsx("span",{children:Oe.mimeType==="application/vnd.google-apps.spreadsheet"?"":""}),u.jsx("span",{children:Oe.name})]}),u.jsx("div",{className:"text-xs text-zinc-400 mt-1",children:new Date(Oe.createdTime).toLocaleString()})]},Oe.id))})}),u.jsx("div",{className:"p-4 border-t border-zinc-700 bg-zinc-800/50 rounded-b-xl",children:u.jsx("button",{onClick:()=>qe(!1),className:"w-full py-2 bg-zinc-700 hover:bg-zinc-600 text-white rounded-lg transition-colors font-medium",children:"Cancelar"})})]})}),de&&u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:u.jsxs("svg",{className:"animate-spin w-full h-full text-blue-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Subiendo a Google Drive"}),u.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Preparando y subiendo tu copia de seguridad..."}),u.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),se&&u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:u.jsxs("svg",{className:"animate-spin w-full h-full text-green-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Exportando a Google Sheets"}),u.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Creando hojas y exportando tus datos..."}),u.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),Hn&&u.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center",children:[u.jsxs("div",{className:"w-16 h-16 mb-4 relative flex items-center justify-center",children:[u.jsxs("svg",{className:"animate-spin w-full h-full text-blue-500 absolute",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsxs("span",{className:"text-xs font-bold text-white relative z-10",children:[kt,"%"]})]}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Restaurando Datos"}),u.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:Vn}),u.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2.5 mb-1 overflow-hidden",children:u.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300 ease-out",style:{width:`${kt}%`}})}),u.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Por favor, no cierres la aplicacin."})]})}),he&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[70] p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center scale-100 animate-in zoom-in-95 duration-200",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center mb-4 text-blue-400",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Aviso"}),u.jsx("p",{className:"text-zinc-300 text-sm mb-6 whitespace-pre-wrap",children:he}),u.jsx("button",{onClick:ht,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors",children:"Aceptar"})]})}),be&&u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-[70] p-4 animate-in fade-in duration-200",children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl w-full max-w-sm p-6 border border-zinc-700 shadow-2xl flex flex-col items-center text-center scale-100 animate-in zoom-in-95 duration-200",children:[u.jsx("div",{className:"w-12 h-12 bg-yellow-500/20 rounded-full flex items-center justify-center mb-4 text-yellow-400",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Confirmacin"}),u.jsx("p",{className:"text-zinc-300 text-sm mb-6 whitespace-pre-wrap",children:be}),u.jsxs("div",{className:"flex gap-3 w-full",children:[u.jsx("button",{onClick:yt,className:"flex-1 bg-zinc-700 hover:bg-zinc-600 text-white font-semibold py-2.5 px-4 rounded-lg transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:Tt,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-2.5 px-4 rounded-lg transition-colors",children:"Confirmar"})]})]})}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-3",children:"Exportacin Avanzada de Datos"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Fecha Desde"}),u.jsx("input",{type:"date",value:je,onChange:Oe=>ke(Oe.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Fecha Hasta"}),u.jsx("input",{type:"date",value:Ge,onChange:Oe=>Te(Oe.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Formato de Exportacin"}),u.jsxs("select",{value:xe,onChange:Oe=>gt(Oe.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[u.jsx("option",{value:"excel",children:"Excel (.xlsx)"}),u.jsx("option",{value:"pdf",children:"PDF Profesional"}),u.jsx("option",{value:"csv",children:"CSV (para contadores)"})]})]}),u.jsx("button",{onClick:ga,disabled:Xe||!je||!Ge,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Xe?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),u.jsx("span",{children:"Exportando..."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[u.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),u.jsx("polyline",{points:"7 10 12 15 17 10"}),u.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),u.jsx("span",{children:"Exportar Datos"})]})})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base mb-2",children:" Exportacin para Hacienda"}),u.jsx("p",{className:"text-zinc-400 text-xs mb-3",children:"Genera un Excel con formato especfico para la declaracin de impuestos. Incluye resumen mensual, ingresos y gastos deducibles."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Ao Fiscal Desde"}),u.jsx("input",{type:"date",value:Ze,onChange:Oe=>Et(Oe.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"01/01/2024"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Ao Fiscal Hasta"}),u.jsx("input",{type:"date",value:St,onChange:Oe=>Kt(Oe.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"31/12/2024"})]})]}),u.jsx("button",{onClick:$a,disabled:Lt||!Ze||!St,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Lt?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generando..."]}):u.jsx(u.Fragment,{children:" Exportar para Hacienda"})}),u.jsxs("div",{className:"text-zinc-500 text-xs space-y-1",children:[u.jsx("p",{children:" El archivo incluye 4 hojas: Resumen Fiscal, Ingresos, Gastos e Informacin"}),u.jsx("p",{children:" Formato optimizado para autnomos en Espaa"}),u.jsx("p",{children:" Los ingresos de taxistas NO estn sujetos a IVA"})]})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-zinc-700",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-zinc-100 font-bold text-base",children:"Reportes Personalizados"}),u.jsx("button",{onClick:()=>zt(!cn),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-1.5 px-3 rounded-lg transition-colors text-sm",children:cn?"Cancelar":"+ Nuevo Reporte"})]}),cn&&u.jsxs("div",{className:"bg-zinc-900 rounded-lg p-3 mb-3 space-y-3 border border-zinc-600",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Nombre del Reporte *"}),u.jsx("input",{type:"text",value:It,onChange:Oe=>tn(Oe.target.value),placeholder:"Ej: Informe Mensual Ingresos",className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Descripcin (opcional)"}),u.jsx("input",{type:"text",value:Ft,onChange:Oe=>Mn(Oe.target.value),placeholder:"Descripcin breve del reporte",className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-400 text-xs mb-1",children:"Formato"}),u.jsxs("select",{value:Pt,onChange:Oe=>xn(Oe.target.value),className:"w-full bg-zinc-700 text-zinc-100 border border-zinc-600 rounded-lg px-2 py-1.5 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[u.jsx("option",{value:"excel",children:"Excel"}),u.jsx("option",{value:"pdf",children:"PDF"}),u.jsx("option",{value:"csv",children:"CSV"})]})]}),u.jsx("button",{onClick:yi,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Guardar Reporte"})]}),u.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:rn.length===0?u.jsx("p",{className:"text-zinc-400 text-sm text-center py-4",children:"No hay reportes personalizados guardados"}):rn.map(Oe=>u.jsx("div",{className:"bg-zinc-900 rounded-lg p-2.5 border border-zinc-600",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"text-zinc-100 font-semibold text-sm",children:Oe.nombre}),Oe.descripcion&&u.jsx("p",{className:"text-zinc-400 text-xs mt-0.5",children:Oe.descripcion}),u.jsxs("div",{className:"flex gap-2 mt-1.5",children:[u.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-900/50 text-blue-300",children:Oe.tipoExportacion.toUpperCase()}),Oe.lastUsed&&u.jsxs("span",{className:"text-xs text-zinc-500",children:["Usado: ",Oe.lastUsed.toLocaleDateString("es-ES")]})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>Li(Oe),disabled:Xe,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors disabled:opacity-50",title:"Usar este reporte",children:"Usar"}),u.jsx("button",{onClick:()=>ka(Oe.id),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-xs transition-colors",title:"Eliminar reporte",children:""})]})]})},Oe.id))})]}),u.jsx("div",{className:"bg-zinc-800 rounded-lg p-2.5 border border-red-500/50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-red-400 font-bold text-base mb-0.5",children:"Eliminacion Total de Datos"}),u.jsx("p",{className:"text-zinc-400 text-sm",children:"Elimina permanentemente todos los datos de la aplicacion"})]}),u.jsx("button",{onClick:er,className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Eliminar"})]})}),Sr&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-[80] px-4",children:u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-6 max-w-md w-full border border-red-500 shadow-2xl",children:[u.jsx("h3",{className:"text-xl font-bold text-red-400 mb-4 text-center",children:"Eliminando Datos"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"bg-zinc-700 rounded-full h-4 overflow-hidden",children:u.jsx("div",{className:"bg-red-500 h-full transition-all duration-300",style:{width:`${ar}%`}})}),u.jsxs("p",{className:"text-center text-zinc-300 mt-2 text-sm",children:[ar,"%"]})]}),u.jsx("p",{className:"text-zinc-300 text-center text-sm",children:ye}),u.jsx("div",{className:"mt-4 text-zinc-500 text-xs text-center",children:"Por favor, no cierres esta ventana..."})]})})]})},VW=(e,t,n)=>{let r=e;(t||n)&&(r=e.filter(g=>{const T=g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora);return!(t&&T<t||n&&T>n)}));const a=r.reduce((g,T)=>g+(T.cobrado||0),0),s=r.length,l=new Map;r.forEach(g=>{const b=(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getHours(),A=g.cobrado||0,E=l.get(b)||{ingresos:0,carreras:0};l.set(b,{ingresos:E.ingresos+A,carreras:E.carreras+1})});const c=Array.from(l.entries()).map(([g,T])=>({hour:g,totalIngresos:T.ingresos,numCarreras:T.carreras,promedioPorCarrera:T.carreras>0?T.ingresos/T.carreras:0,porcentajeDelTotal:a>0?T.ingresos/a*100:0})).sort((g,T)=>T.totalIngresos-g.totalIngresos);for(let g=0;g<24;g++)l.has(g)||c.push({hour:g,totalIngresos:0,numCarreras:0,promedioPorCarrera:0,porcentajeDelTotal:0});c.sort((g,T)=>g.hour-T.hour);const d=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"],h=new Map;r.forEach(g=>{const b=(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getDay(),A=g.cobrado||0,E=h.get(b)||{ingresos:0,carreras:0};h.set(b,{ingresos:E.ingresos+A,carreras:E.carreras+1})});const m=Array.from(h.entries()).map(([g,T])=>({day:d[g],dayNumber:g,totalIngresos:T.ingresos,numCarreras:T.carreras,promedioPorCarrera:T.carreras>0?T.ingresos/T.carreras:0,porcentajeDelTotal:a>0?T.ingresos/a*100:0})).sort((g,T)=>T.totalIngresos-g.totalIngresos);for(let g=0;g<7;g++)h.has(g)||m.push({day:d[g],dayNumber:g,totalIngresos:0,numCarreras:0,promedioPorCarrera:0,porcentajeDelTotal:0});m.sort((g,T)=>g.dayNumber-T.dayNumber);const v=new Map;r.forEach(g=>{const T=g.cobrado||0;let b="";g.aeropuerto?b="Aeropuerto":g.estacion?b="Estacin":g.emisora?b="Emisora":g.tipoCarrera==="Interurbana"?b="Interurbana":b="Urbana";const A=v.get(b)||{ingresos:0,carreras:0};v.set(b,{ingresos:A.ingresos+T,carreras:A.carreras+1})});const y=Array.from(v.entries()).map(([g,T])=>({zona:g,totalIngresos:T.ingresos,numCarreras:T.carreras,promedioPorCarrera:T.carreras>0?T.ingresos/T.carreras:0,porcentajeDelTotal:a>0?T.ingresos/a*100:0,porcentajeCarreras:s>0?T.carreras/s*100:0})).sort((g,T)=>T.totalIngresos-g.totalIngresos);return{mejoresHoras:c,mejoresDias:m,estadisticasZonas:y,totalIngresos:a,totalCarreras:s,periodo:{desde:t||new Date(Math.min(...r.map(g=>(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getTime()))),hasta:n||new Date(Math.max(...r.map(g=>(g.fechaHora instanceof Date?g.fechaHora:new Date(g.fechaHora)).getTime())))}}},GW=(e,t=5)=>e.mejoresHoras.filter(n=>n.numCarreras>0).sort((n,r)=>r.totalIngresos-n.totalIngresos).slice(0,t),qW=(e,t=5)=>e.estadisticasZonas.filter(n=>n.numCarreras>0).sort((n,r)=>r.totalIngresos-n.totalIngresos).slice(0,t),WW=({navigateTo:e})=>{const[t,n]=W.useState("month"),[r,a]=W.useState(!0),[s,l]=W.useState([]),[c,d]=W.useState(!1),[h,m]=W.useState(null),[v,y]=W.useState(!1),g=W.useMemo(()=>{const j=new Date;j.setHours(23,59,59,999);const R=new Date;switch(t){case"week":R.setDate(R.getDate()-7);break;case"month":R.setMonth(R.getMonth()-1);break;case"3months":R.setMonth(R.getMonth()-3);break}return R.setHours(0,0,0,0),{start:R,end:j}},[t]);W.useEffect(()=>{(async()=>{a(!0);try{const R=[],q=new Date(g.start);for(;q<=g.end;)R.push(new Date(q)),q.setDate(q.getDate()+1);const Z=await Promise.all(R.map(async I=>{try{if(await iT(I))return{date:I,ingresos:0,gastos:0,balance:0,numCarreras:0,isRestDay:!0};const[P,Q]=await Promise.all([Q0(I),Lp(I)]),O=P.reduce((K,X)=>K+(X.cobrado||0),0),G=Q.reduce((K,X)=>K+(X.importe||0),0);return{date:I,ingresos:O,gastos:G,balance:O-G,numCarreras:P.length,isRestDay:!1}}catch(Y){return console.error(`Error cargando datos para ${I.toISOString()}:`,Y),{date:I,ingresos:0,gastos:0,balance:0,numCarreras:0,isRestDay:!1}}}));l(Z)}catch(R){console.error("Error cargando estadsticas:",R)}finally{a(!1)}})()},[g]),W.useEffect(()=>{(async()=>{if(c){y(!0);try{const R=await Vs(),q=VW(R,g.start,g.end);m(q)}catch(R){console.error("Error cargando anlisis de zonas y horarios:",R)}finally{y(!1)}}})()},[c,g]);const T=W.useMemo(()=>{const j=s.filter(X=>!X.isRestDay);if(j.length===0)return{totalIngresos:0,totalGastos:0,totalBalance:0,promedioDiarioIngresos:0,promedioDiarioGastos:0,promedioDiarioBalance:0,totalCarreras:0,promedioCarrerasPorDia:0,mejorDia:null,peorDia:null,diasConIngresos:0,diasConGastos:0,diasTrabajados:0,diasDescanso:0};const R=j.reduce((X,H)=>X+H.ingresos,0),q=j.reduce((X,H)=>X+H.gastos,0),Z=R-q,I=j.reduce((X,H)=>X+H.numCarreras,0),Y=j.filter(X=>X.ingresos>0).length,P=j.filter(X=>X.gastos>0).length,Q=j.length,O=s.length-Q,G=j.reduce((X,H)=>H.balance>((X==null?void 0:X.balance)||-1/0)?H:X,null),K=j.reduce((X,H)=>H.balance<((X==null?void 0:X.balance)||1/0)?H:X,null);return{totalIngresos:R,totalGastos:q,totalBalance:Z,promedioDiarioIngresos:R/Q,promedioDiarioGastos:q/Q,promedioDiarioBalance:Z/Q,totalCarreras:I,promedioCarrerasPorDia:I/Q,mejorDia:G,peorDia:K,diasConIngresos:Y,diasConGastos:P,diasTrabajados:Q,diasDescanso:O}},[s]),b=(j,R,q=150)=>{const Z=j.filter(K=>!K.isRestDay);if(Z.length===0)return null;const I=400,Y=40,Q=(I-Y*2)/Z.length,O=Math.max(2,Q*.8),G=q-40;return u.jsxs("div",{className:"relative",style:{height:`${q}px`},children:[u.jsxs("svg",{width:"100%",height:q,viewBox:`0 0 ${I} ${q}`,preserveAspectRatio:"none",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(K=>{const X=q-20-K*G,H=(R*K).toFixed(0);return u.jsxs("g",{children:[u.jsx("line",{x1:Y,y1:X,x2:I-Y,y2:X,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),u.jsxs("text",{x:Y-5,y:X+4,className:"text-xs fill-zinc-500",fontSize:"10",textAnchor:"end",children:[H,""]})]},K)}),Z.map((K,X)=>{const H=Y+X*Q+Q/2-O/2,V=R>0?K.ingresos/R*G:0,ae=R>0?K.gastos/R*G:0,ce=q-20;return u.jsxs("g",{children:[V>0&&u.jsx("rect",{x:H,y:ce-V,width:O,height:V,fill:"#00CFFF",opacity:"0.8",rx:"2"}),ae>0&&u.jsx("rect",{x:H,y:ce-V,width:O,height:ae,fill:"#FF00D6",opacity:"0.6",rx:"2",transform:`translate(0, ${V})`})]},X)})]}),u.jsx("div",{className:"flex justify-between mt-2 text-xs text-zinc-500 px-2",children:Z.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:Z[0].date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})}),u.jsx("span",{children:Z[Math.floor(Z.length/2)].date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})}),u.jsx("span",{children:Z[Z.length-1].date.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})})]})})]})},A=(j,R=150)=>{const q=j.filter(V=>!V.isRestDay);if(q.length===0)return null;const Z=Math.max(...q.map(V=>Math.abs(V.balance)),1),I=Math.min(...q.map(V=>V.balance),0),Y=Z-I||1,P=R-40,Q=R-20-P/2,O=400,G=20,K=O-G*2,X=q.map((V,ae)=>{const ce=ae/(q.length-1||1),le=G+ce*K,me=(V.balance-I)/Y,M=Q-(me-.5)*P;return{x:le,y:M,balance:V.balance}}),H=X.map((V,ae)=>`${ae===0?"M":"L"} ${V.x} ${V.y}`).join(" ");return u.jsxs("div",{className:"relative",style:{height:`${R}px`},children:[u.jsxs("svg",{width:"100%",height:R,viewBox:`0 0 ${O} ${R}`,preserveAspectRatio:"none",className:"overflow-visible",children:[u.jsx("line",{x1:G,y1:Q,x2:O-G,y2:Q,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),u.jsx("path",{d:H,fill:"none",stroke:"#00FFB0",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),X.map((V,ae)=>u.jsx("circle",{cx:V.x,cy:V.y,r:"4",fill:V.balance>=0?"#00FFB0":"#FF00D6",stroke:"#1a1a1a",strokeWidth:"2"},ae))]}),u.jsxs("div",{className:"flex justify-between mt-2 text-xs text-zinc-500 px-2",children:[u.jsx("span",{children:"0"}),u.jsxs("span",{className:"text-green-400",children:["+",Z.toFixed(0),""]}),u.jsxs("span",{className:"text-red-400",children:[I.toFixed(0),""]})]})]})},E=s.filter(j=>!j.isRestDay),D=Math.max(...E.map(j=>Math.max(j.ingresos,j.gastos)),1);return u.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col px-3 pt-3 pb-6 text-zinc-100 space-y-4",children:[u.jsx(Da,{title:"Estadsticas",navigateTo:e,backTarget:mt.Home,className:"flex-shrink-0"}),u.jsx("div",{className:"bg-zinc-900 px-1 py-2 border border-zinc-800 rounded-lg",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>n("week"),className:`flex-1 py-2 px-3 rounded-lg font-semibold text-sm transition-all ${t==="week"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"7 Das"}),u.jsx("button",{onClick:()=>n("month"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${t==="month"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"1 Mes"}),u.jsx("button",{onClick:()=>n("3months"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${t==="3months"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"3 Meses"})]})}),u.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-4",children:r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"text-zinc-400",children:"Cargando estadsticas..."})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-2 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-3",children:"Resumen del Perodo"}),u.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-1 flex flex-col items-center justify-center",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1 text-center",children:"Ingresos"}),u.jsxs("div",{className:"text-green-400 text-lg  w-full text-center whitespace-nowrap",children:[T.totalIngresos.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-1 flex flex-col items-center justify-center",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1 text-center",children:"Gastos"}),u.jsxs("div",{className:"text-red-400 text-lg  w-full text-center whitespace-nowrap",children:[T.totalGastos.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-1 flex flex-col items-center justify-center",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1 text-center",children:"Balance"}),u.jsxs("div",{className:`text-lg  w-full text-first whitespace-nowrap ${T.totalBalance>=0?"text-green-400":"text-red-400"}`,children:[T.totalBalance.toFixed(2),""]})]})]})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Ingresos vs Gastos"}),u.jsx("div",{className:"mb-4",children:b(s,D)}),u.jsx("p",{className:"text-xs text-zinc-500 text-center mt-2",children:"Solo das trabajados (excluyendo descansos)"}),u.jsxs("div",{className:"flex gap-4 justify-center text-xs",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded bg-cyan-400"}),u.jsx("span",{className:"text-zinc-400",children:"Ingresos"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 rounded bg-pink-500"}),u.jsx("span",{className:"text-zinc-400",children:"Gastos"})]})]})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Evolucin del Balance"}),u.jsx("div",{className:"mb-4",children:A(s)}),u.jsx("p",{className:"text-xs text-zinc-500 text-center mt-2",children:"Solo das trabajados (excluyendo descansos)"})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Estadsticas Detalladas"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Promedio Diario Ingresos"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[T.promedioDiarioIngresos.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Promedio Diario Gastos"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[T.promedioDiarioGastos.toFixed(2),""]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Total Carreras"}),u.jsx("div",{className:"text-white text-lg font-bold",children:T.totalCarreras})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Promedio Carreras/Da"}),u.jsx("div",{className:"text-white text-lg font-bold",children:T.promedioCarrerasPorDia.toFixed(1)})]})]}),T.mejorDia&&u.jsxs("div",{className:"bg-green-900/30 border border-green-500/50 rounded-lg p-3",children:[u.jsx("div",{className:"text-green-400 text-xs mb-1 font-semibold",children:"Mejor Da"}),u.jsx("div",{className:"text-white text-sm mb-1",children:T.mejorDia.date.toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"long"})}),u.jsxs("div",{className:"text-green-400 text-lg font-bold",children:["+",T.mejorDia.balance.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-400 text-xs mt-1",children:["Ingresos: ",T.mejorDia.ingresos.toFixed(2)," | Gastos: ",T.mejorDia.gastos.toFixed(2)," | Carreras: ",T.mejorDia.numCarreras]})]}),T.peorDia&&u.jsxs("div",{className:"bg-red-900/30 border border-red-500/50 rounded-lg p-3",children:[u.jsx("div",{className:"text-red-400 text-xs mb-1 font-semibold",children:"Peor Da"}),u.jsx("div",{className:"text-white text-sm mb-1",children:T.peorDia.date.toLocaleDateString("es-ES",{weekday:"long",day:"2-digit",month:"long"})}),u.jsxs("div",{className:"text-red-400 text-lg font-bold",children:[T.peorDia.balance.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-400 text-xs mt-1",children:["Ingresos: ",T.peorDia.ingresos.toFixed(2)," | Gastos: ",T.peorDia.gastos.toFixed(2)," | Carreras: ",T.peorDia.numCarreras]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Das Trabajados"}),u.jsx("div",{className:"text-white text-lg font-bold",children:T.diasTrabajados||0}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Das descanso: ",T.diasDescanso||0]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Das con Ingresos"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[T.diasConIngresos," / ",T.diasTrabajados||0]})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Das con Gastos"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[T.diasConGastos," / ",T.diasTrabajados||0]})]})]})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold",children:"Anlisis de Zonas y Horarios"}),u.jsx("button",{onClick:()=>d(!c),className:"text-cyan-400 hover:text-cyan-300 text-sm font-semibold",children:c?"Ocultar":"Mostrar"})]}),c&&u.jsx(u.Fragment,{children:v?u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"Cargando anlisis..."}):h?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Mejores Horas del Da"}),u.jsx("div",{className:"space-y-2",children:GW(h,5).map((j,R)=>u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-cyan-400 font-bold text-lg",children:[String(j.hour).padStart(2,"0"),":00"]}),u.jsxs("span",{className:"text-zinc-500 text-xs",children:[j.numCarreras," ",j.numCarreras===1?"carrera":"carreras"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-white font-bold",children:[j.totalIngresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-400 text-xs",children:[j.promedioPorCarrera.toFixed(2),"/carrera"]})]})]}),u.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 mt-2",children:u.jsx("div",{className:"bg-cyan-500 h-2 rounded-full transition-all",style:{width:`${j.porcentajeDelTotal}%`}})}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[j.porcentajeDelTotal.toFixed(1),"% del total"]})]},j.hour))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Rendimiento por Da de la Semana"}),u.jsx("div",{className:"space-y-2",children:h.mejoresDias.filter(j=>j.numCarreras>0).sort((j,R)=>R.totalIngresos-j.totalIngresos).map(j=>u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-cyan-400 font-bold",children:j.day}),u.jsxs("span",{className:"text-zinc-500 text-xs",children:[j.numCarreras," ",j.numCarreras===1?"carrera":"carreras"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-white font-bold",children:[j.totalIngresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-400 text-xs",children:[j.promedioPorCarrera.toFixed(2),"/carrera"]})]})]}),u.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 mt-2",children:u.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all",style:{width:`${j.porcentajeDelTotal}%`}})}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[j.porcentajeDelTotal.toFixed(1),"% del total"]})]},j.dayNumber))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Rendimiento por Zona"}),u.jsx("div",{className:"space-y-2",children:qW(h,10).map(j=>u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsxs("div",{className:"flex justify-between items-center mb-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-cyan-400 font-bold",children:j.zona}),u.jsxs("span",{className:"text-zinc-500 text-xs",children:[j.numCarreras," (",j.porcentajeCarreras.toFixed(1),"%)"]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-white font-bold",children:[j.totalIngresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-400 text-xs",children:[j.promedioPorCarrera.toFixed(2),"/carrera"]})]})]}),u.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 mt-2",children:u.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all",style:{width:`${j.porcentajeDelTotal}%`}})}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:[j.porcentajeDelTotal.toFixed(1),"% del total de ingresos"]})]},j.zona))})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-4 border border-cyan-500/30",children:[u.jsx("h3",{className:"text-cyan-300 text-base font-bold mb-3",children:" Resumen del Anlisis"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-400",children:"Total Ingresos"}),u.jsxs("div",{className:"text-white font-bold",children:[h.totalIngresos.toFixed(2),""]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-400",children:"Total Carreras"}),u.jsx("div",{className:"text-white font-bold",children:h.totalCarreras})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-400",children:"Promedio por Carrera"}),u.jsxs("div",{className:"text-white font-bold",children:[h.totalCarreras>0?(h.totalIngresos/h.totalCarreras).toFixed(2):"0.00",""]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-zinc-400",children:"Perodo"}),u.jsxs("div",{className:"text-white font-bold text-xs",children:[h.periodo.desde.toLocaleDateString("es-ES")," - ",h.periodo.hasta.toLocaleDateString("es-ES")]})]})]})]})]}):u.jsx("div",{className:"text-center py-8 text-zinc-400",children:"No hay datos suficientes para el anlisis"})})]})]})})]})},$W=({navigateTo:e})=>{const[t,n]=W.useState(new Date),[r,a]=W.useState(null),[s,l]=W.useState(null),[c,d]=W.useState({}),[h,m]=W.useState(!1),[v,y]=W.useState(null),[g,T]=W.useState([]),b=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],A=["L","M","X","J","V","S","D"],E=t.getFullYear(),D=t.getMonth(),j=new Date(E,D,1),q=new Date(E,D+1,0).getDate(),Z=j.getDay(),I=Z===0?6:Z-1;W.useEffect(()=>{try{const H=localStorage.getItem("breakConfiguration");H&&l(JSON.parse(H))}catch(H){console.error("Error al cargar configuracin:",H)}},[E,D]),W.useEffect(()=>{const H=()=>{try{const V=localStorage.getItem("breakConfiguration");V&&l(JSON.parse(V))}catch(V){console.error("Error al cargar configuracin:",V)}};return window.addEventListener("storage",H),window.addEventListener("breakConfigUpdated",H),()=>{window.removeEventListener("storage",H),window.removeEventListener("breakConfigUpdated",H)}},[]);const Y=(H,V,ae)=>{const ce=H.getTime(),le=V.getTime(),me=ae.getTime();return ce>=le&&ce<=me},P=H=>{const V=(H||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),ae=V.match(/sabado\s*:\s*([a-z]+)/),ce=V.match(/domingo\s*:\s*([a-z]+)/);return{saturday:((ae==null?void 0:ae[1])??"ac").toUpperCase(),sunday:((ce==null?void 0:ce[1])??"bd").toUpperCase()}},Q=W.useMemo(()=>{if(!s||!s.startDate)return{};const H={};try{const[V,ae,ce]=s.startDate.split("/"),le=new Date(parseInt(ce),parseInt(ae)-1,parseInt(V)),me=["A","B","C","D"],M=(Ne,se)=>(Ne%se+se)%se,N=P(s.weekendPattern||""),F=s.startDayLetter||s.initialBreakLetter||"A",L=me.indexOf(F);if(L===-1)return{};const B=le.getDay(),te=B===0?6:B-1,de=M(L-te,4);for(let Ne=1;Ne<=q;Ne++){const se=new Date(E,D,Ne),ve=se.getTime()-le.getTime(),je=Math.floor(ve/(1e3*60*60*24));if(je<0)continue;let ke=!1;for(const gt of g){const Xe=new Date(gt.fechaDesde);Xe.setHours(0,0,0,0);const wt=new Date(gt.fechaHasta);wt.setHours(23,59,59,999);const Ze=new Date(se);if(Ze.setHours(0,0,0,0),Y(Ze,Xe,wt)){if(gt.tipo==="Cambio de Letra"&&gt.nuevaLetra){H[Ne]=gt.nuevaLetra,ke=!0;break}if(gt.tipo==="Vacaciones"){ke=!0;break}}}if(ke&&H[Ne])continue;const Ge=se.getDay(),Te=Ge===6;if(Te||Ge===0){const Xe=Math.floor((je+te)/7)%2===1,wt=Xe?N.sunday:N.saturday,Ze=Xe?N.saturday:N.sunday;H[Ne]=Te?wt:Ze}else{const gt=Ge===0?6:Ge-1,Xe=Math.floor((je+te)/7),wt=M(de+Xe,4),Ze=M(wt+gt,4);H[Ne]=me[Ze]}}}catch(V){console.error("Error al calcular letras de descanso:",V)}return H},[E,D,q,s,g]);W.useEffect(()=>{(async()=>{try{const V=await o1();T(V)}catch(V){console.error("Error cargando excepciones:",V)}})()},[E,D]),W.useEffect(()=>{(async()=>{const V=new Date,ae=V.getFullYear()===E&&V.getMonth()===D,ce=Array.from({length:q},(M,N)=>{const F=N+1,L=new Date(E,D,F),B=ae&&F===V.getDate(),te=`${E}-${String(D+1).padStart(2,"0")}-${String(F).padStart(2,"0")}`;return(async()=>{try{const[de,Ne]=await Promise.all([Q0(L),Lp(L)]),se=de.reduce((je,ke)=>je+(ke.cobrado||0),0),ve=Ne.reduce((je,ke)=>je+(ke.importe||0),0);if(se>0||ve>0||B)return{dayKey:te,ingresos:se,gastos:ve}}catch(de){if(console.error(`Error cargando datos para el da ${F}:`,de),B)return{dayKey:te,ingresos:0,gastos:0}}return null})()}),le=await Promise.all(ce),me={};le.forEach(M=>{M&&(me[M.dayKey]={ingresos:M.ingresos,gastos:M.gastos})}),d(me)})()},[E,D,q]);const O=H=>{n(V=>{const ae=new Date(V);return H==="prev"?ae.setMonth(V.getMonth()-1):ae.setMonth(V.getMonth()+1),ae}),a(null)},G=H=>{a(H),y(H),m(!0)},K=[];for(let H=0;H<I;H++)K.push(null);for(let H=1;H<=q;H++)K.push(H);const X=H=>{if(H===null)return!1;const V=new Date(E,D,H).getDay();return V===0||V===6};return u.jsxs("div",{className:"bg-zinc-950 h-screen flex flex-col overflow-hidden fixed inset-0 w-full px-3 pt-3 pb-14",children:[u.jsx(Da,{title:"Calendario",navigateTo:e,backTarget:mt.Home}),u.jsxs("div",{className:"bg-blue-800 flex items-center justify-between py-2 px-2 flex-shrink-0",children:[u.jsx("button",{onClick:()=>O("prev"),className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),u.jsxs("h2",{className:"text-cyan-400 text-lg font-semibold",children:[b[D]," ",E]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>e(mt.ConfiguracionDescansos),className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})}),u.jsx("button",{onClick:()=>O("next"),className:"text-cyan-400 hover:text-cyan-300 transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]})]}),u.jsx("div",{className:"grid grid-cols-7 gap-0 py-1 bg-zinc-950 flex-shrink-0",children:A.map((H,V)=>u.jsx("div",{className:`text-center text-xs font-medium ${V>=5?"text-orange-500":"text-cyan-400"}`,children:H},V))}),u.jsx("div",{className:"grid grid-cols-7 gap-0 flex-1 bg-zinc-950 overflow-auto w-full",children:K.map((H,V)=>{var ke,Ge;if(H===null)return u.jsx("div",{className:"min-h-0"},V);const ae=X(H),ce=r===H,le=`${E}-${String(D+1).padStart(2,"0")}-${String(H).padStart(2,"0")}`,me=c[le],M=me!==void 0,N=new Date,F=N.getFullYear()===E&&N.getMonth()===D&&N.getDate()===H,L=M||F,B=(ke=Q[H])==null?void 0:ke.toUpperCase(),te=(Ge=s==null?void 0:s.userBreakLetter)==null?void 0:Ge.toUpperCase(),de=!!(te&&B&&(B===te||B==="AC"&&(te==="A"||te==="C")||B==="BD"&&(te==="B"||te==="D"))),Ne=g.some(Te=>{if(Te.tipo==="Vacaciones"){const xe=new Date(Te.fechaDesde);xe.setHours(0,0,0,0);const gt=new Date(Te.fechaHasta);gt.setHours(23,59,59,999);const Xe=new Date(E,D,H);return Xe.setHours(0,0,0,0),Y(Xe,xe,gt)}return!1});let se="";ce?se="bg-gradient-to-b from-orange-500 via-orange-400 to-yellow-500 border-2 border-white shadow-lg z-10":F?se="bg-gradient-to-b from-cyan-500 via-blue-500 to-indigo-500 border-2 border-white shadow-md":de||Ne?se="bg-green-600 hover:bg-green-500 border border-green-500":se="bg-zinc-700 hover:bg-zinc-600 border border-zinc-600";const ve=ce||F||de||Ne?"text-white":"text-sky-200",je=ce||F?"text-white":de||Ne?"text-red-200":"text-red-400";return u.jsxs("button",{onClick:()=>G(H),className:`
                                w-full h-full min-h-[60px] flex items-start justify-between p-0.5 relative
                                transition-all
                                rounded-md overflow-hidden
                                ${se}
                                ${ae&&!ce&&!de&&!F?"text-orange-500":"text-white"}
                            `,children:[Q[H]&&u.jsx("div",{className:"absolute top-0.5 left-0.5",children:u.jsx("span",{className:`text-xs font-bold px-1 py-0.5 rounded flex-shrink-0 ${ce||F?"bg-white text-zinc-900":"bg-blue-600 text-white"}`,children:Q[H]})}),u.jsx("div",{className:"absolute top-0.5 right-0.5",children:u.jsx("span",{className:`text-base font-medium flex-shrink-0 ${ce||F?"text-white":"text-zinc-100"}`,children:H})}),L&&u.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex flex-col items-start justify-end px-1.5 pb-1.5 pt-8 overflow-hidden",children:[((me==null?void 0:me.ingresos)??0)>0&&u.jsx("div",{className:`text-left leading-tight w-full ${ve}`,style:{fontSize:"clamp(13px, 2.5vw, 17px)",width:"100%"},children:me.ingresos.toFixed(2).replace(".",",")}),((me==null?void 0:me.gastos)??0)>0&&u.jsx("div",{className:`text-left leading-tight w-full ${je}`,style:{fontSize:"clamp(13px, 2.5vw, 17px)",width:"100%"},children:me.gastos.toFixed(2).replace(".",",")})]})]},V)})}),h&&v!==null&&(()=>{const H=`${E}-${String(D+1).padStart(2,"0")}-${String(v).padStart(2,"0")}`,V=c[H]||{ingresos:0,gastos:0},ae=V.ingresos||0,ce=V.gastos||0,le=ae-ce,me=new Date(E,D,v),N=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"][me.getDay()];return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>m(!1),children:u.jsxs("div",{className:"bg-zinc-900 rounded-2xl w-11/12 max-w-md p-6 space-y-4",onClick:F=>F.stopPropagation(),children:[u.jsx("div",{className:"bg-zinc-800 rounded-xl py-3 px-4 text-center",children:u.jsxs("h2",{className:"text-cyan-400 text-lg font-semibold",children:[N,", ",v," de ",b[D].toLowerCase()]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-3 border border-green-500",children:[u.jsx("div",{className:"flex items-center justify-center mb-2",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-amber-400",children:u.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"})})}),u.jsx("div",{className:"text-green-400 text-xs font-semibold mb-1 text-center",children:"Ingresos"}),u.jsxs("div",{className:"text-green-400 text-lg font-bold text-center",children:[ae.toFixed(2).replace(".",",")," "]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-3 border border-pink-500",children:[u.jsx("div",{className:"flex items-center justify-center mb-2",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-green-400",children:u.jsx("path",{d:"M7.07 11L6.5 9H2v2h4.57l1.5 4H2v2h5.07l1.5 4H2v2h5.07l1.5 4h2.86l-1.5-4H22v-2h-5.07l-1.5-4H22v-2h-5.07l-1.5-4h-2.86l1.5 4H9.07l-1.5-4H5.07zM9.07 15l-1.5-4h9.86l1.5 4H9.07z"})})}),u.jsx("div",{className:"text-pink-400 text-xs font-semibold mb-1 text-center",children:"Gastos"}),u.jsxs("div",{className:"text-pink-400 text-lg font-bold text-center",children:[ce.toFixed(2).replace(".",",")," "]})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4 border border-cyan-500",children:[u.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-cyan-400",children:u.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"})}),u.jsx("div",{className:"text-cyan-400 text-base font-semibold",children:"Balance"})]}),u.jsxs("div",{className:"text-green-400 text-2xl font-bold text-center",children:[le.toFixed(2).replace(".",",")," "]})]}),u.jsxs("button",{onClick:()=>m(!1),className:"w-full bg-zinc-800 border-2 border-pink-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:bg-zinc-700 hover:border-pink-400 transition-all active:scale-95",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",className:"text-red-400",children:u.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})}),u.jsx("span",{children:"CERRAR"})]})]})})})()]})},YW=({navigateTo:e})=>{const{showToast:t}=ku(),[n,r]=W.useState(""),[a,s]=W.useState("A"),[l,c]=W.useState("Sabado: AC / Domingo: BD"),[d,h]=W.useState("A"),[m,v]=W.useState(!0),[y,g]=W.useState(!1),[T,b]=W.useState(!1),[A,E]=W.useState(!1),[D,j]=W.useState(!1),[R,q]=W.useState(!1),[Z,I]=W.useState(!1),[Y,P]=W.useState(!1),[Q,O]=W.useState(!1),[G,K]=W.useState(!1),[X,H]=W.useState(!1),[V,ae]=W.useState(""),[ce,le]=W.useState(""),[me,M]=W.useState("Festivo (sin descanso)"),[N,F]=W.useState(!1),[L,B]=W.useState(!1),[te,de]=W.useState(""),[Ne,se]=W.useState("A"),[ve,je]=W.useState(!1),[ke,Ge]=W.useState(new Date),[Te,xe]=W.useState(new Date),[gt,Xe]=W.useState(null),[wt,Ze]=W.useState(null),Et=["Festivo (sin descanso)","Cambio de Letra","Vacaciones","Liberacion Especial"],St=["A","B","C","D","AB","AC","AD","BC","BD","CD"],[Kt,Lt]=W.useState([]),[qt,rn]=W.useState(!1),[Wt,cn]=W.useState(null),[zt,It]=W.useState(new Date),[tn,Ft]=W.useState(null),Mn=["A","B","C","D"],Xt=["Sabado: AC / Domingo: BD","Sabado: BD / Domingo: AC"];W.useEffect(()=>{try{const nt=localStorage.getItem("breakConfiguration");if(nt){const ln=JSON.parse(nt);r(ln.startDate||""),s(ln.startDayLetter||ln.initialBreakLetter||"A"),c(ln.weekendPattern||"Sabado: AC / Domingo: BD"),h(ln.userBreakLetter||"A")}}catch(nt){console.error("Error al cargar configuracion local:",nt)}(async()=>{try{const nt=await b5();if(nt){r(nt.startDate||""),s(nt.startDayLetter||"A"),c(nt.weekendPattern||"Sabado: AC / Domingo: BD"),h(nt.userBreakLetter||"A");const ln={startDate:nt.startDate||"",startDayLetter:nt.startDayLetter||"A",weekendPattern:nt.weekendPattern||"Sabado: AC / Domingo: BD",userBreakLetter:nt.userBreakLetter||"A",savedAt:nt.updatedAt?nt.updatedAt.toISOString():new Date().toISOString()};localStorage.setItem("breakConfiguration",JSON.stringify(ln))}}catch(nt){console.error("Error al cargar configuracion de descansos desde Firestore:",nt)}finally{v(!1)}})()},[]);const Dt=async()=>{if(!n){t("Por favor, selecciona una fecha de inicio del ciclo","warning");return}const Ie={startDate:n,startDayLetter:a,weekendPattern:l,userBreakLetter:d,savedAt:new Date().toISOString()};try{g(!0),localStorage.setItem("breakConfiguration",JSON.stringify(Ie)),await w5({startDate:Ie.startDate,startDayLetter:Ie.startDayLetter,weekendPattern:Ie.weekendPattern,userBreakLetter:Ie.userBreakLetter}),window.dispatchEvent(new Event("breakConfigUpdated")),t("Configuracin guardada correctamente","success"),e(mt.Calendario)}catch(nt){Gs.handle(nt,"BreakConfigurationScreen - handleSave")}finally{g(!1)}},Pt=async()=>{rn(!0);try{const Ie=await o1();Lt(Ie)}catch(Ie){console.error("Error cargando excepciones:",Ie)}finally{rn(!1)}},xn=()=>{I(!0),Pt()},$t=Ie=>{const nt=new Date(Ie.fechaDesde);ae(nt.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}));const ln=new Date(Ie.fechaHasta);le(ln.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})),M(Ie.tipo),F(Ie.aplicaPar),B(Ie.aplicaImpar),de(Ie.descripcion||""),se(Ie.nuevaLetra||"A"),Xe(Ie.fechaDesde),Ze(Ie.fechaHasta),cn(Ie.id),I(!1),P(!0)},mn=()=>{ae(""),le(""),M("Festivo (sin descanso)"),F(!1),B(!1),de(""),se("A"),Xe(null),Ze(null),cn(null)},Bt=Ie=>{s(Ie),b(!1)},Fn=Ie=>{h(Ie),E(!1)},Hn=Ie=>{c(Ie),q(!1)},_n=Ie=>{Ft(Ie);const nt=Ie.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});r(nt),j(!1)},Ut=Ie=>{It(nt=>{const ln=new Date(nt);return Ie==="prev"?ln.setMonth(nt.getMonth()-1):ln.setMonth(nt.getMonth()+1),ln})},qe=()=>{const Ie=zt.getFullYear(),nt=zt.getMonth(),ln=new Date(Ie,nt,1),kt=new Date(Ie,nt+1,0).getDate(),rr=ln.getDay()===0?6:ln.getDay()-1,Vn=[];for(let nn=0;nn<rr;nn++)Vn.push(null);for(let nn=1;nn<=kt;nn++)Vn.push(nn);return Vn};return W.useEffect(()=>{window.scrollTo(0,0)},[]),u.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col",children:[u.jsx(Da,{title:"Configuracin Descansos",navigateTo:e,backTarget:mt.Calendario,className:"rounded-none border-b border-yellow-300/40"}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-1 pt-1 space-y-2",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"text-blue-500",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),u.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Fecha de Inicio del Ciclo"})]}),u.jsx("button",{onClick:()=>j(!0),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-left text-white placeholder-zinc-500 focus:outline-none focus:border-green-400 hover:border-green-400 transition-colors",children:n||u.jsx("span",{className:"text-zinc-500",children:"DD/MM/AAAA"})})]}),u.jsxs("button",{onClick:()=>b(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-8 h-8 bg-red-500 rounded flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-lg",children:a})}),u.jsx("h2",{className:"text-green-400 text-lg font-semibold",children:"Letra del Da de Inicio"})]}),u.jsxs("div",{className:"text-white text-sm mb-1",children:["Fecha: ",n||"No seleccionada"]}),u.jsx("div",{className:"text-white text-2xl font-bold",children:a}),u.jsx("div",{className:"text-zinc-400 text-xs mt-1",children:"Letra que corresponde al da de inicio seleccionado"})]}),u.jsxs("button",{onClick:()=>E(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-8 h-8 bg-green-500 rounded flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-lg",children:d})}),u.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Mi Letra de Descanso"})]}),u.jsx("div",{className:"text-white text-2xl font-bold",children:d})]}),u.jsxs("button",{onClick:()=>q(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"text-cyan-400",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})}),u.jsx("h2",{className:"text-pink-400 text-lg font-semibold",children:"Patrn de Fin de Semana"})]}),u.jsx("div",{className:"text-white text-base",children:l})]})]}),u.jsxs("div",{className:"p-4 space-y-3 bg-zinc-950 border-t border-zinc-800",children:[u.jsxs("button",{onClick:Dt,disabled:m||y,className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})}),u.jsx("span",{children:"GUARDAR CONFIGURACIN"})]}),u.jsxs("button",{onClick:xn,className:"w-full bg-zinc-800 border-2 border-pink-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:bg-zinc-700 hover:border-pink-400 transition-all active:scale-95",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l1.2-1.2c.5-.4.5-1.1.1-1.5z"})}),u.jsx("span",{children:"GESTIONAR EXCEPCIONES"})]})]}),T&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>b(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Letra del Da de Inicio"}),u.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Selecciona la letra que corresponde al da de inicio que configuraste"}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:Mn.map(Ie=>u.jsx("button",{onClick:()=>Bt(Ie),className:`p-4 rounded-lg font-bold text-2xl transition-all ${a===Ie?"bg-red-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Ie},Ie))}),u.jsx("button",{onClick:()=>b(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),A&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>E(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Mi Letra de Descanso"}),u.jsx("div",{className:"grid grid-cols-4 gap-3",children:Mn.map(Ie=>u.jsx("button",{onClick:()=>Fn(Ie),className:`p-4 rounded-lg font-bold text-2xl transition-all ${d===Ie?"bg-green-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Ie},Ie))}),u.jsx("button",{onClick:()=>E(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),R&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>q(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Patrn de Fin de Semana"}),u.jsx("div",{className:"space-y-3",children:Xt.map(Ie=>u.jsx("button",{onClick:()=>Hn(Ie),className:`w-full p-4 rounded-lg text-left transition-all ${l===Ie?"bg-pink-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Ie},Ie))}),u.jsx("button",{onClick:()=>q(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),D&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Fecha"}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("button",{onClick:()=>Ut("prev"),className:"text-cyan-400 hover:text-cyan-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),u.jsx("h4",{className:"text-white font-semibold",children:zt.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>Ut("next"),className:"text-cyan-400 hover:text-cyan-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["L","M","X","J","V","S","D"].map((Ie,nt)=>u.jsx("div",{className:`text-center text-xs font-medium ${nt>=5?"text-orange-500":"text-cyan-400"}`,children:Ie},nt)),qe().map((Ie,nt)=>{if(Ie===null)return u.jsx("div",{className:"aspect-square"},nt);const ln=new Date(zt.getFullYear(),zt.getMonth(),Ie),Wn=tn&&ln.toDateString()===tn.toDateString(),kt=ln.toDateString()===new Date().toDateString();return u.jsx("button",{onClick:()=>_n(ln),className:`aspect-square rounded-lg text-sm font-medium transition-all ${Wn?"bg-green-500 text-white":kt?"bg-zinc-600 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Ie},nt)})]}),u.jsx("button",{onClick:()=>j(!1),className:"w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cerrar"})]})}),Z&&u.jsxs("div",{className:"fixed inset-0 bg-zinc-950 z-50 flex flex-col",children:[u.jsxs("div",{className:"bg-zinc-900 flex items-center py-3 px-4 border-b border-zinc-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>I(!1),className:"text-white mr-4 hover:text-cyan-400 transition-colors p-2 -ml-2 cursor-pointer z-10","aria-label":"Cerrar",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",pointerEvents:"none",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),u.jsx("h1",{className:"text-white text-lg font-semibold flex-1 text-center -ml-8",children:"Gestin de Excepciones"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:u.jsx("div",{className:"bg-zinc-800 rounded-xl p-4 min-h-[300px]",children:qt?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("p",{className:"text-zinc-400 text-sm",children:"Cargando excepciones..."})}):Kt.length===0?u.jsx("div",{className:"flex items-center justify-center py-8",children:u.jsx("p",{className:"text-zinc-500 text-sm",children:"No hay excepciones configuradas"})}):u.jsx("div",{className:"space-y-3",children:Kt.map(Ie=>u.jsx("div",{onClick:()=>$t(Ie),className:"bg-zinc-900 rounded-lg p-4 border border-zinc-700 cursor-pointer hover:bg-zinc-800 transition-colors",children:u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-cyan-400 font-semibold text-sm mb-1",children:Ie.tipo}),u.jsxs("div",{className:"text-white text-xs mb-1",children:[Ie.fechaDesde.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})," - ",Ie.fechaHasta.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})]}),Ie.descripcion&&u.jsx("div",{className:"text-zinc-400 text-xs mt-2",children:Ie.descripcion}),Ie.tipo==="Cambio de Letra"&&Ie.nuevaLetra&&u.jsxs("div",{className:"text-blue-400 text-xs mt-2 font-semibold",children:["Nueva letra: ",Ie.nuevaLetra]})]}),u.jsx("button",{onClick:async nt=>{if(nt.stopPropagation(),confirm("Ests seguro de que quieres eliminar esta excepcin?"))try{await rT(Ie.id),await Pt(),t("Excepcin eliminada correctamente","success")}catch(ln){Gs.handle(ln,"BreakConfigurationScreen - deleteExcepcion")}},className:"text-red-400 hover:text-red-300 ml-2",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})})})]})},Ie.id))})})}),u.jsx("div",{className:"p-4 bg-zinc-950 border-t border-zinc-800",children:u.jsxs("button",{onClick:()=>{mn(),P(!0)},className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-zinc-900 font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),u.jsx("span",{children:"AADIR EXCEPCIN"})]})})]}),Y&&u.jsxs("div",{className:"fixed inset-0 bg-zinc-950 z-[60] flex flex-col",children:[u.jsxs("div",{className:"bg-zinc-900 flex items-center py-3 px-4 border-b border-zinc-700 flex-shrink-0",children:[u.jsx("button",{onClick:()=>{P(!1),mn()},className:"text-white mr-4 hover:text-cyan-400 transition-colors p-2 -ml-2 cursor-pointer z-10","aria-label":"Cerrar",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",pointerEvents:"none",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),u.jsx("h1",{className:"text-white text-lg font-semibold flex-1 text-center -ml-8",children:Wt?"Editar Excepcin":"Aadir Excepcin"})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-blue-500",children:u.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})}),u.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Rango de Fechas"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsx("button",{onClick:()=>K(!0),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-left text-white focus:outline-none focus:border-green-400 hover:border-green-400 transition-colors",children:V||u.jsx("span",{className:"text-zinc-500",children:"Desde"})}),u.jsx("button",{onClick:()=>H(!0),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-left text-white focus:outline-none focus:border-green-400 hover:border-green-400 transition-colors",children:ce||u.jsx("span",{className:"text-zinc-500",children:"Hasta"})})]})]}),u.jsxs("button",{onClick:()=>O(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-red-500",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10",fill:"white"}),u.jsx("circle",{cx:"12",cy:"12",r:"6",fill:"red"}),u.jsx("circle",{cx:"12",cy:"12",r:"2",fill:"white"})]}),u.jsx("h2",{className:"text-green-400 text-lg font-semibold",children:"Tipo de Excepcin"})]}),u.jsx("div",{className:"text-white text-base",children:me})]}),me==="Cambio de Letra"&&u.jsxs("button",{onClick:()=>je(!0),className:"w-full bg-zinc-800 rounded-xl p-4 text-left hover:bg-zinc-700 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded flex items-center justify-center",children:u.jsx("span",{className:"text-white font-bold text-lg",children:Ne})}),u.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Nueva Letra"})]}),u.jsx("div",{className:"text-white text-2xl font-bold",children:Ne}),u.jsx("div",{className:"text-zinc-400 text-xs mt-1",children:"Letra que sustituir a la existente en el rango de fechas"})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-4",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",className:"text-cyan-400",children:u.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})}),u.jsx("h2",{className:"text-cyan-400 text-lg font-semibold",children:"Descripcin (opcional)"})]}),u.jsx("textarea",{value:te,onChange:Ie=>de(Ie.target.value),className:"w-full bg-zinc-900 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400 resize-none",placeholder:"Descripcin de la excepcin...",rows:3})]})]}),u.jsx("div",{className:"p-4 bg-zinc-950 border-t border-zinc-800",children:u.jsxs("button",{onClick:async()=>{if(!V||!ce){t("Por favor, selecciona las fechas de inicio y fin","warning");return}try{const[Ie,nt,ln]=V.split("/"),Wn=new Date(parseInt(ln),parseInt(nt)-1,parseInt(Ie)),[kt,rr,Vn]=ce.split("/"),nn=new Date(parseInt(Vn),parseInt(rr)-1,parseInt(kt));Wt?(await nT(Wt,{fechaDesde:Wn,fechaHasta:nn,tipo:me,aplicaPar:N,aplicaImpar:L,descripcion:te,nuevaLetra:me==="Cambio de Letra"?Ne:void 0}),t("Excepcin actualizada correctamente","success")):(await tT({fechaDesde:Wn,fechaHasta:nn,tipo:me,aplicaPar:N,aplicaImpar:L,descripcion:te,nuevaLetra:me==="Cambio de Letra"?Ne:void 0}),t("Excepcin guardada correctamente","success")),mn(),P(!1),await Pt()}catch(Ie){Gs.handle(Ie,"BreakConfigurationScreen - saveExcepcion")}},className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})}),u.jsx("span",{children:Wt?"ACTUALIZAR EXCEPCIN":"GUARDAR EXCEPCIN"})]})})]}),Q&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>O(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Tipo de Excepcin"}),u.jsx("div",{className:"space-y-3",children:Et.map(Ie=>u.jsx("button",{onClick:()=>{M(Ie),O(!1)},className:`w-full p-4 rounded-lg text-left transition-all ${me===Ie?"bg-green-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Ie},Ie))}),u.jsx("button",{onClick:()=>O(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),ve&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>je(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Nueva Letra"}),u.jsx("p",{className:"text-zinc-400 text-sm mb-4",children:"Selecciona la letra que sustituir a la existente en el rango de fechas"}),u.jsx("div",{className:"grid grid-cols-5 gap-3",children:St.map(Ie=>u.jsx("button",{onClick:()=>{se(Ie),je(!1)},className:`p-4 rounded-lg font-bold text-lg transition-all ${Ne===Ie?"bg-blue-500 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:Ie},Ie))}),u.jsx("button",{onClick:()=>je(!1),className:"mt-4 w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cancelar"})]})}),G&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>K(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Fecha Desde"}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("button",{onClick:()=>Ge(Ie=>{const nt=new Date(Ie);return nt.setMonth(Ie.getMonth()-1),nt}),className:"text-cyan-400 hover:text-cyan-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),u.jsx("h4",{className:"text-white font-semibold",children:ke.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>Ge(Ie=>{const nt=new Date(Ie);return nt.setMonth(Ie.getMonth()+1),nt}),className:"text-cyan-400 hover:text-cyan-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["L","M","X","J","V","S","D"].map((Ie,nt)=>u.jsx("div",{className:`text-center text-xs font-medium ${nt>=5?"text-orange-500":"text-cyan-400"}`,children:Ie},nt)),(()=>{const Ie=ke.getFullYear(),nt=ke.getMonth(),ln=new Date(Ie,nt,1),kt=new Date(Ie,nt+1,0).getDate(),rr=ln.getDay()===0?6:ln.getDay()-1,Vn=[];for(let nn=0;nn<rr;nn++)Vn.push(null);for(let nn=1;nn<=kt;nn++)Vn.push(nn);return Vn.map((nn,Sr)=>{if(nn===null)return u.jsx("div",{className:"aspect-square"},Sr);const jn=new Date(Ie,nt,nn),ar=gt&&jn.toDateString()===gt.toDateString(),ne=jn.toDateString()===new Date().toDateString();return u.jsx("button",{onClick:()=>{Xe(jn);const ye=jn.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});ae(ye),K(!1)},className:`aspect-square rounded-lg text-sm font-medium transition-all ${ar?"bg-green-500 text-white":ne?"bg-zinc-600 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:nn},Sr)})})()]}),u.jsx("button",{onClick:()=>K(!1),className:"w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cerrar"})]})}),X&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[70]",onClick:()=>H(!1),children:u.jsxs("div",{className:"bg-zinc-800 rounded-xl p-6 w-11/12 max-w-md",onClick:Ie=>Ie.stopPropagation(),children:[u.jsx("h3",{className:"text-white text-xl font-bold mb-4",children:"Seleccionar Fecha Hasta"}),u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("button",{onClick:()=>xe(Ie=>{const nt=new Date(Ie);return nt.setMonth(Ie.getMonth()-1),nt}),className:"text-cyan-400 hover:text-cyan-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),u.jsx("h4",{className:"text-white font-semibold",children:Te.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),u.jsx("button",{onClick:()=>xe(Ie=>{const nt=new Date(Ie);return nt.setMonth(Ie.getMonth()+1),nt}),className:"text-cyan-400 hover:text-cyan-300",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]}),u.jsxs("div",{className:"grid grid-cols-7 gap-1 mb-4",children:[["L","M","X","J","V","S","D"].map((Ie,nt)=>u.jsx("div",{className:`text-center text-xs font-medium ${nt>=5?"text-orange-500":"text-cyan-400"}`,children:Ie},nt)),(()=>{const Ie=Te.getFullYear(),nt=Te.getMonth(),ln=new Date(Ie,nt,1),kt=new Date(Ie,nt+1,0).getDate(),rr=ln.getDay()===0?6:ln.getDay()-1,Vn=[];for(let nn=0;nn<rr;nn++)Vn.push(null);for(let nn=1;nn<=kt;nn++)Vn.push(nn);return Vn.map((nn,Sr)=>{if(nn===null)return u.jsx("div",{className:"aspect-square"},Sr);const jn=new Date(Ie,nt,nn),ar=wt&&jn.toDateString()===wt.toDateString(),ne=jn.toDateString()===new Date().toDateString();return u.jsx("button",{onClick:()=>{Ze(jn);const ye=jn.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});le(ye),H(!1)},className:`aspect-square rounded-lg text-sm font-medium transition-all ${ar?"bg-green-500 text-white":ne?"bg-zinc-600 text-white":"bg-zinc-700 text-white hover:bg-zinc-600"}`,children:nn},Sr)})})()]}),u.jsx("button",{onClick:()=>H(!1),className:"w-full bg-zinc-700 text-white py-2 rounded-lg hover:bg-zinc-600 transition-colors",children:"Cerrar"})]})})]})},KW=({navigateTo:e})=>{const{showToast:t}=ku(),[n,r]=W.useState(""),[a,s]=W.useState(""),[l,c]=W.useState({tipo:"todos",gastosFiltro:"todos"}),[d,h]=W.useState(!1),[m,v]=W.useState(!1),[y,g]=W.useState(!1),[T,b]=W.useState(!1);W.useEffect(()=>{const q=new Date,Z=new Date(q.getFullYear(),q.getMonth(),1),I=new Date(q.getFullYear(),q.getMonth()+1,0);r(Z.toISOString().split("T")[0]),s(I.toISOString().split("T")[0])},[]);const A=async()=>{if(!n||!a){t("Por favor, selecciona ambas fechas","warning");return}h(!0);try{const q=new Date(n);q.setHours(0,0,0,0);const Z=new Date(a);Z.setHours(23,59,59,999);const[I,Y,P]=await Promise.all([Vs(),Zo(),Du()]),Q=I.filter(X=>{const H=X.fechaHora instanceof Date?X.fechaHora:new Date(X.fechaHora);return H>=q&&H<=Z}),O=Y.filter(X=>{const H=X.fecha instanceof Date?X.fecha:new Date(X.fecha);return H>=q&&H<=Z}),G=P.filter(X=>{const H=X.fechaInicio instanceof Date?X.fechaInicio:new Date(X.fechaInicio);return H>=q&&H<=Z});let K=O;if(console.log("Filtros aplicados:",l),console.log("Gastos antes de filtrar:",O.length),l.tipo==="gastos"||l.tipo==="todos")if(l.gastosFiltro==="actividad")K=K.filter(X=>{var V;const H=(V=X.tipo)==null?void 0:V.toLowerCase();return H==="actividad"||!H&&(X.proveedor||X.concepto)&&!X.kilometrosVehiculo});else if(l.gastosFiltro==="vehiculo"){console.log("Aplicando filtro de Vehculo...");const X=K.length;K=K.filter(H=>{const V=String(H.tipo||"").toLowerCase().trim(),ae=V==="vehiculo"||V==="vehculo"||V==="vehicle"||V==="vehicul"||V.length>0&&V.includes("vehic"),ce=H.taller!=null&&String(H.taller).trim()!=="",le=H.kilometrosVehiculo!=null&&Number(H.kilometrosVehiculo)>0,me=H.servicios&&Array.isArray(H.servicios)&&H.servicios.length>0,M=H.litros!=null&&Number(H.litros)>0||H.precioPorLitro!=null&&Number(H.precioPorLitro)>0,N=ce||le||me||M,F=ae||N;return console.log("Gasto evaluado:",{id:H.id,tipo:H.tipo,tipoLower:V,taller:H.taller,kilometrosVehiculo:H.kilometrosVehiculo,servicios:H.servicios,esTipoVehiculo:ae,tieneCamposVehiculo:N,resultado:F}),F}),console.log(`Filtro Vehculo: ${K.length} gastos encontrados de ${X} totales`),console.log("Gastos filtrados:",K.map(H=>({id:H.id,tipo:H.tipo,taller:H.taller})))}else l.gastosFiltro==="conceptos"&&l.concepto?K=K.filter(X=>{var H;return(H=X.concepto)==null?void 0:H.toLowerCase().includes(l.concepto.toLowerCase())}):l.gastosFiltro==="proveedores"&&l.proveedor?K=K.filter(X=>{var H;return(H=X.proveedor)==null?void 0:H.toLowerCase().includes(l.proveedor.toLowerCase())}):l.gastosFiltro==="iva"&&(K=K.filter(X=>X.ivaPorcentaje!=null&&Number(X.ivaPorcentaje)>0));E(Q,K,G,q,Z,l),t("Informe generado correctamente","success")}catch(q){Gs.handle(q,"ReportsScreen - generarInforme")}finally{h(!1)}},E=(q,Z,I,Y,P,Q)=>{const O=new on,G=O.internal.pageSize.getWidth(),K=O.internal.pageSize.getHeight();let X=15;O.setFontSize(16),O.setTextColor(0,0,0),O.text("INFORME FISCAL Y CONTABLE",G/2,X,{align:"center"}),X+=7,O.setFontSize(10),O.text(`Perodo: ${Y.toLocaleDateString("es-ES")} - ${P.toLocaleDateString("es-ES")}`,G/2,X,{align:"center"}),X+=6;let H="Filtros: ";if(Q.tipo==="todos")H+="Todos";else if(Q.tipo==="ingresos")H+="Solo Ingresos";else if(Q.tipo==="gastos"&&(H+="Solo Gastos",Q.gastosFiltro)){const L=Q.gastosFiltro.charAt(0).toUpperCase()+Q.gastosFiltro.slice(1);H+=` - ${L}`,Q.gastosFiltro==="conceptos"&&Q.concepto&&(H+=` (${Q.concepto})`),Q.gastosFiltro==="proveedores"&&Q.proveedor&&(H+=` (${Q.proveedor})`)}O.setFontSize(10),O.text(H,G/2,X,{align:"center"}),X+=6,O.setTextColor(100,100,100),O.setFontSize(9),O.text(`Fecha de generacin: ${new Date().toLocaleDateString("es-ES")} ${new Date().toLocaleTimeString("es-ES")}`,G/2,X,{align:"center"}),O.setTextColor(0,0,0),X+=10;const V=q.reduce((L,B)=>L+(B.cobrado||0),0),ae=Z.reduce((L,B)=>L+(B.importe||0),0),ce=Z.reduce((L,B)=>L+(B.baseImponible||B.importe||0),0),le=Z.reduce((L,B)=>L+(B.ivaImporte||0),0),me=V-ae;O.setFontSize(12),O.text("RESUMEN EJECUTIVO",14,X),X+=5,du(O,{startY:X,head:[["Total Ingresos ()","Total Gastos ()","Balance Neto ()"]],body:[[V.toFixed(2),ae.toFixed(2),me.toFixed(2)]],theme:"grid",styles:{fontSize:9,halign:"center",cellPadding:1.5},headStyles:{fillColor:[245,245,245],textColor:[0,0,0],fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},margin:{left:14,right:14}});const M=O.lastAutoTable.finalY+2;if(du(O,{startY:M,head:[["Base Imponible Gastos ()","IVA Gastos ()"]],body:[[ce.toFixed(2),le.toFixed(2)]],theme:"grid",styles:{fontSize:9,halign:"center",cellPadding:1.5},headStyles:{fillColor:[245,245,245],textColor:[0,0,0],fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},margin:{left:30,right:30}}),X=O.lastAutoTable.finalY+8,Q.tipo==="ingresos"||Q.tipo==="todos"){X>K-60&&(O.addPage(),X=20),O.setFontSize(14),O.text("DETALLE DE INGRESOS",14,X),X+=8;const L={};I.forEach(se=>{const ve=se.fechaInicio instanceof Date?se.fechaInicio:new Date(se.fechaInicio),je=ve.toISOString().split("T")[0];if(L[je]||(L[je]={fecha:new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()),ingresos:0,kilometros:0,horasMs:0,carrerasTotal:0,carrerasTarjeta:0,carrerasEmisora:0,carrerasVales:0,importeTarjeta:0,importeEmisora:0,importeVales:0}),se.kilometrosFin&&se.kilometrosInicio&&(L[je].kilometros+=se.kilometrosFin-se.kilometrosInicio),se.fechaFin&&se.fechaInicio){const ke=se.fechaInicio instanceof Date?se.fechaInicio:new Date(se.fechaInicio),Ge=se.fechaFin instanceof Date?se.fechaFin:new Date(se.fechaFin);L[je].horasMs+=Ge.getTime()-ke.getTime()}}),q.forEach(se=>{const ve=se.fechaHora instanceof Date?se.fechaHora:new Date(se.fechaHora),je=ve.toISOString().split("T")[0];L[je]||(L[je]={fecha:new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()),ingresos:0,kilometros:0,horasMs:0,carrerasTotal:0,carrerasTarjeta:0,carrerasEmisora:0,carrerasVales:0,importeTarjeta:0,importeEmisora:0,importeVales:0});const ke=L[je];ke.ingresos+=se.cobrado||0,ke.carrerasTotal++,se.formaPago==="Tarjeta"&&(ke.carrerasTarjeta++,ke.importeTarjeta+=se.cobrado||0),se.formaPago==="Vales"&&(ke.carrerasVales++,ke.importeVales+=se.cobrado||0),se.emisora&&(ke.carrerasEmisora++,ke.importeEmisora+=se.cobrado||0)}),Z.forEach(se=>{const ve=se.fecha instanceof Date?se.fecha:new Date(se.fecha),je=ve.toISOString().split("T")[0];L[je]||(L[je]={fecha:new Date(ve.getFullYear(),ve.getMonth(),ve.getDate()),ingresos:0,kilometros:0,horasMs:0,carrerasTotal:0,carrerasTarjeta:0,carrerasEmisora:0,carrerasVales:0,importeTarjeta:0,importeEmisora:0,importeVales:0})});const B=Object.values(L).sort((se,ve)=>se.fecha.getTime()-ve.fecha.getTime()).filter(se=>se.ingresos>0),te=[];let de=-1;const Ne=["ENERO","FEBRERO","MARZO","ABRIL","MAYO","JUNIO","JULIO","AGOSTO","SEPTIEMBRE","OCTUBRE","NOVIEMBRE","DICIEMBRE"];B.forEach(se=>{const ve=se.fecha.getMonth();ve!==de&&(de=ve,te.push([{content:Ne[ve],colSpan:11,styles:{fontStyle:"bold",fillColor:[240,240,240],textColor:[0,0,0],halign:"left"}}]));const je=se.fecha.toLocaleDateString("es-ES"),ke=Math.floor(se.horasMs/(1e3*60*60)),Ge=Math.floor(se.horasMs%(1e3*60*60)/(1e3*60)),Te=`${ke}h ${Ge}m`;te.push([je,se.ingresos.toFixed(2),se.kilometros.toFixed(0),Te,se.carrerasTotal.toString(),se.carrerasTarjeta.toString(),se.carrerasEmisora.toString(),se.carrerasVales.toString(),se.importeTarjeta.toFixed(2),se.importeEmisora.toFixed(2),se.importeVales.toFixed(2)])}),typeof du=="function"?du(O,{startY:X,head:[[{content:"FECHA",rowSpan:2,styles:{valign:"middle",halign:"center",fillColor:[0,0,255]}},{content:"INGRESOS",rowSpan:2,styles:{valign:"middle",halign:"center",fillColor:[0,0,255]}},{content:"Kms.",rowSpan:2,styles:{valign:"middle",halign:"center",fillColor:[0,0,255]}},{content:"HORAS",rowSpan:2,styles:{valign:"middle",halign:"center",fillColor:[0,0,255]}},{content:"CARRERAS",colSpan:4,styles:{halign:"center",fillColor:[205,200,0],textColor:[0,0,0]}},{content:"IMPORTE EN ",colSpan:3,styles:{halign:"center",fillColor:[255,200,0],textColor:[0,0,0]}}],[{content:"TOTAL",styles:{fillColor:[205,200,0],textColor:[0,0,0]}},{content:"TARJ.",styles:{fillColor:[205,200,0],textColor:[0,0,0]}},{content:"EMIS.",styles:{fillColor:[205,200,0],textColor:[0,0,0]}},{content:"VALES",styles:{fillColor:[205,200,0],textColor:[0,0,0]}},{content:"TARJETAS",styles:{fillColor:[255,200,0],textColor:[0,0,0]}},{content:"EMISORA",styles:{fillColor:[255,200,0],textColor:[0,0,0]}},{content:"VALES",styles:{fillColor:[255,200,0],textColor:[0,0,0]}}]],body:te,theme:"grid",headStyles:{textColor:[255,255,255],fontStyle:"bold",lineWidth:.1,lineColor:[200,200,200]},styles:{fontSize:8,cellPadding:1,halign:"center",valign:"middle"},columnStyles:{0:{cellWidth:20,halign:"center"},1:{cellWidth:20,halign:"right"},2:{cellWidth:20,halign:"center"},3:{cellWidth:20,halign:"center",fontStyle:"bold"},4:{cellWidth:14},5:{cellWidth:15},6:{cellWidth:15},7:{cellWidth:14},8:{cellWidth:18,halign:"right"},9:{cellWidth:18,halign:"right"},10:{cellWidth:18,halign:"right"}},margin:{left:10,right:10}}):O.autoTable({startY:X,head:[["FECHA","INGRESOS","KILOMETROS","HORAS","CARRERAS","","","","IMPORTE EN ","",""],["","","","","TOTAL","TARJ.","EMIS.","VALES","TARJETAS","EMISORA","VALES"]],body:te,theme:"grid",styles:{fontSize:8,halign:"center"}}),X=O.lastAutoTable.finalY+10}if(Q.tipo==="gastos"||Q.tipo==="todos")if(X>K-60&&(O.addPage(),X=20),O.setFontSize(14),O.text("DETALLE DE GASTOS",14,X),X+=8,Z.length>0){const L=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],B={};[...Z].sort((ke,Ge)=>{const Te=ke.fecha instanceof Date?ke.fecha:new Date(ke.fecha),xe=Ge.fecha instanceof Date?Ge.fecha:new Date(Ge.fecha);return Te.getTime()-xe.getTime()}).forEach(ke=>{const Te=(ke.fecha instanceof Date?ke.fecha:new Date(ke.fecha)).getMonth();B[Te]||(B[Te]=[]),B[Te].push(ke)});const de=[];Object.keys(B).sort((ke,Ge)=>Number(ke)-Number(Ge)).forEach(ke=>{const Ge=Number(ke);de.push([{content:L[Ge],colSpan:11,styles:{fontStyle:"bold",fillColor:[240,240,240],textColor:[0,0,0],halign:"left"}}]),B[Ge].forEach(Te=>{var Xe,wt;const xe=Te.fecha instanceof Date?Te.fecha:new Date(Te.fecha),gt=((Xe=Te.tipo)==null?void 0:Xe.toLowerCase())==="vehiculo"&&Te.servicios&&Array.isArray(Te.servicios)&&Te.servicios.length>0;de.push([xe.toLocaleDateString("es-ES"),((wt=Te.importe)==null?void 0:wt.toFixed(2))||"0.00",Te.proveedor||Te.taller||"Sin proveedor",Te.concepto||"Sin concepto",Te.numeroFactura||"Sin factura",Te.formaPago||"N/A",(Te.baseImponible||Te.importe||0).toFixed(2),Te.ivaPorcentaje?`${Te.ivaPorcentaje}%`:"0%",(Te.ivaImporte||0).toFixed(2),Te.kilometros?Te.kilometros.toFixed(0):Te.kilometrosVehiculo?Te.kilometrosVehiculo.toFixed(0):"N/A",Te.notas||""]),gt&&Te.servicios.forEach(Ze=>{de.push(["",Ze.importe?Ze.importe.toFixed(2):"0.00","",Ze.descripcion||"Sin descripcin",Ze.referencia||"Sin ref.",Ze.precio?Ze.precio.toFixed(2):"0.00",Ze.descuento?Ze.descuento.toFixed(2):"0.00","","",Ze.cantidad||"1",""])})})}),typeof du=="function"?du(O,{startY:X,head:[["Fecha","","Proveedor","Concepto","Factura","F. Pago","Base","%","IVA","Kms.","Notas"]],body:de,theme:"striped",headStyles:{fillColor:[0,0,200],textColor:255,fontStyle:"bold",fontSize:8,halign:"center"},styles:{fontSize:7,cellPadding:1,overflow:"linebreak",cellWidth:"wrap",halign:"center"},columnStyles:{0:{cellWidth:14},1:{cellWidth:11,halign:"right"},2:{cellWidth:34,halign:"left"},3:{cellWidth:23,halign:"left"},4:{cellWidth:30,halign:"left"},5:{cellWidth:15,halign:"left"},6:{cellWidth:10,halign:"right"},7:{cellWidth:9},8:{cellWidth:10,halign:"right"},9:{cellWidth:10},10:{cellWidth:"auto",halign:"left"}},margin:{left:10,right:10},didParseCell:ke=>{ke.cell.text&&ke.cell.text.length>0&&(ke.cell.text=String(ke.cell.text))}}):O.autoTable({startY:X,head:[["Fecha","","Proveedor","Concepto","Factura","F. Pago","Base","%","IVA","Kms.","Notas"]],body:de,theme:"striped",headStyles:{fillColor:[0,0,200],textColor:255,fontStyle:"bold",fontSize:8,halign:"center"},styles:{fontSize:7,cellPadding:1,overflow:"linebreak",cellWidth:"wrap",halign:"center"},columnStyles:{0:{cellWidth:14},1:{cellWidth:11,halign:"right"},2:{cellWidth:34,halign:"left"},3:{cellWidth:23,halign:"left"},4:{cellWidth:30,halign:"left"},5:{cellWidth:15,halign:"left"},6:{cellWidth:10,halign:"right"},7:{cellWidth:9},8:{cellWidth:10,halign:"right"},9:{cellWidth:10},10:{cellWidth:"auto",halign:"left"}},margin:{left:10,right:10},didParseCell:ke=>{ke.cell.text&&ke.cell.text.length>0&&(ke.cell.text=String(ke.cell.text))}}),X=O.lastAutoTable.finalY+10;const Ne=Q.gastosFiltro==="vehiculo",se=Ne?"Resumen por Taller:":"Resumen por Proveedor:",ve={};Z.forEach(ke=>{let Ge;Ne?Ge=ke.taller||"Sin taller":Ge=ke.proveedor||"Sin proveedor",ve[Ge]=(ve[Ge]||0)+(ke.importe||0)}),O.setFontSize(12),O.text(se,14,X),X+=6,O.setFontSize(10),Object.entries(ve).sort((ke,Ge)=>Ge[1]-ke[1]).forEach(([ke,Ge])=>{O.text(`${ke}: ${Ge.toFixed(2)} `,20,X),X+=5}),X+=5;const je={};Z.forEach(ke=>{const Ge=ke.ivaPorcentaje||0,Te=`${Ge}%`;je[Te]||(je[Te]={porcentaje:Ge,base:0,iva:0}),je[Te].base+=ke.baseImponible||ke.importe||0,je[Te].iva+=ke.ivaImporte||0}),O.setFontSize(12),O.text("Resumen de IVA:",14,X),X+=6,O.setFontSize(10),Object.entries(je).forEach(([ke,Ge])=>{O.text(`${ke}: Base ${Ge.base.toFixed(2)}  | IVA ${Ge.iva.toFixed(2)} `,20,X),X+=5})}else O.setFontSize(10),O.text("No hay gastos en el perodo seleccionado",14,X),X+=10;const N=O.getNumberOfPages();for(let L=1;L<=N;L++)O.setPage(L),O.setFontSize(8),O.setTextColor(128,128,128),O.text(`Pgina ${L} de ${N} - Documento generado para trmites administrativos`,G/2,K-10,{align:"center"});const F=`Informe_${Y.toISOString().split("T")[0]}_${P.toISOString().split("T")[0]}.pdf`;O.save(F)},D=async()=>{try{const[q,Z]=await Promise.all([Vs(),Zo()]),I=[...new Set(Z.map(P=>P.concepto).filter(Boolean))],Y=[...new Set(Z.map(P=>P.proveedor).filter(Boolean))];return{conceptos:I,proveedores:Y}}catch(q){return console.error("Error al obtener valores nicos:",q),{conceptos:[],proveedores:[]}}},[j,R]=W.useState({conceptos:[],proveedores:[]});return W.useEffect(()=>{D().then(R)},[]),u.jsxs("div",{className:"bg-zinc-950 min-h-screen text-zinc-100 px-3 pt-3 pb-24 space-y-4",children:[u.jsx(Da,{title:"Informes",navigateTo:e,backTarget:mt.Home}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Perodo del Informe"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Fecha Desde"}),u.jsx("input",{type:"date",value:n,onChange:q=>r(q.target.value),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Fecha Hasta"}),u.jsx("input",{type:"date",value:a,onChange:q=>s(q.target.value),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400"})]})]})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Filtros del Informe"}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Tipo de Informe"}),u.jsxs("select",{value:l.tipo,onChange:q=>c({...l,tipo:q.target.value}),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400",children:[u.jsx("option",{value:"todos",children:"Todos (Ingresos y Gastos)"}),u.jsx("option",{value:"ingresos",children:"Solo Ingresos"}),u.jsx("option",{value:"gastos",children:"Solo Gastos"})]})]}),(l.tipo==="gastos"||l.tipo==="todos")&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Filtro de Gastos"}),u.jsxs("select",{value:l.gastosFiltro,onChange:q=>c({...l,gastosFiltro:q.target.value}),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400",children:[u.jsx("option",{value:"todos",children:"Todos los Gastos"}),u.jsx("option",{value:"actividad",children:"Actividad"}),u.jsx("option",{value:"vehiculo",children:"Vehculo"}),u.jsx("option",{value:"iva",children:"IVA"}),u.jsx("option",{value:"conceptos",children:"Concepto"}),u.jsx("option",{value:"proveedores",children:"Proveedor"})]})]}),l.gastosFiltro==="actividad"&&u.jsx("div",{className:"mb-4",children:u.jsx("p",{className:"text-zinc-400 text-xs",children:"Se mostrarn solo los gastos de actividad (con proveedor o concepto, sin kilometrosVehiculo)"})}),l.gastosFiltro==="vehiculo"&&u.jsx("div",{className:"mb-4",children:u.jsx("p",{className:"text-zinc-400 text-xs",children:"Se mostrarn solo los gastos de vehculo (con kilometrosVehiculo)"})}),l.gastosFiltro==="conceptos"&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Concepto"}),u.jsx("input",{type:"text",list:"conceptos-list",value:l.concepto||"",onChange:q=>c({...l,concepto:q.target.value}),placeholder:"Buscar por concepto...",className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white placeholder-zinc-500 focus:outline-none focus:border-green-400"}),u.jsx("datalist",{id:"conceptos-list",children:j.conceptos.map((q,Z)=>u.jsx("option",{value:q},Z))})]}),l.gastosFiltro==="proveedores"&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Proveedor"}),u.jsxs("select",{value:l.proveedor||"",onChange:q=>c({...l,proveedor:q.target.value}),className:"w-full bg-zinc-800 border-2 border-green-500 rounded-lg px-4 py-3 text-white focus:outline-none focus:border-green-400",children:[u.jsx("option",{value:"",children:"Todos los proveedores"}),j.proveedores.map(q=>u.jsx("option",{value:q,children:q},q))]})]}),l.gastosFiltro==="iva"&&u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-zinc-300 text-sm mb-2",children:"Filtro de IVA"}),u.jsx("p",{className:"text-zinc-400 text-xs mb-2",children:"El informe mostrar todos los gastos con su desglose de IVA"})]})]})]}),u.jsx("button",{onClick:A,disabled:d||!n||!a,className:"w-full bg-gradient-to-r from-green-500 to-cyan-500 rounded-xl py-4 px-6 flex items-center justify-center gap-3 text-white font-bold text-base hover:from-green-400 hover:to-cyan-400 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:d?u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx(jd,{size:"sm"}),u.jsx("span",{children:"Generando informe..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"})}),"Generar Informe PDF"]})}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h3",{className:"text-cyan-400 text-sm font-bold mb-2",children:" Informacin"}),u.jsx("p",{className:"text-zinc-400 text-xs",children:"Los informes generados incluyen toda la informacin necesaria para trmites ante la Administracin: desglose de IVA, bases imponibles, facturas, proveedores y resmenes por categoras."})]})]})]})},XW=({navigateTo:e})=>{const[t,n]=W.useState("horarios"),[r,a]=W.useState(!0),[s,l]=W.useState([]),[c,d]=W.useState([]),[h,m]=W.useState([]),[v,y]=W.useState(100),[g,T]=W.useState({ingresos:0,gastos:0}),[b,A]=W.useState({ingresos:0,gastos:0}),[E,D]=W.useState({ingresos:0,gastos:0}),[j,R]=W.useState({ingresos:0,gastos:0}),[q,Z]=W.useState({objetivoMensual:0,objetivoHastaAhora:0,ingresosHastaAhora:0,porcentajeCumplimiento:0,proyeccionMensual:0,diferencia:0,diasTrabajadosHastaAhora:0,totalDiasTrabajadosMes:0}),I=W.useMemo(()=>{const H=new Date;H.setHours(23,59,59,999);const V=new Date;return V.setMonth(V.getMonth()-3),V.setHours(0,0,0,0),{start:V,end:H}},[]);W.useEffect(()=>{t==="horarios"&&(async()=>{a(!0);try{const[V,ae,ce]=await Promise.all([pT(I.start,I.end),gT(I.start,I.end),xT(I.start,I.end)]);l(V),d(ae),m(ce)}catch(V){console.error("Error cargando datos de horarios:",V)}finally{a(!1)}})()},[t,I]),W.useEffect(()=>{t==="comparativas"&&(async()=>{a(!0);try{const V=new Date,ae=V.getMonth(),ce=V.getFullYear(),le=ae===0?11:ae-1,me=ae===0?ce-1:ce,M=ce-1,[N,F,L,B,te,de,Ne,se,ve]=await Promise.all([av(ae,ce),iv(ae,ce),av(le,me),iv(le,me),sv(ce),ov(ce),sv(M),ov(M),oh()]);T({ingresos:N,gastos:F}),A({ingresos:L,gastos:B}),D({ingresos:te,gastos:de}),R({ingresos:Ne,gastos:se}),ve&&ve.objetivoDiario&&y(ve.objetivoDiario);const je=new Date(V.getFullYear(),V.getMonth(),1),ke=new Date(V.getFullYear(),V.getMonth()+1,0,23,59,59,999),Ge=await S5(je,ke),Te=Ge.filter(Kt=>Kt<=V).length,xe=Ge.length,gt=(ve==null?void 0:ve.objetivoDiario)||100,Xe=gt*xe,wt=gt*Te,Ze=N,Et=wt>0?Ze/wt*100:0,St=Te>0?Ze/Te*xe:0;Z({objetivoMensual:Xe,objetivoHastaAhora:wt,ingresosHastaAhora:Ze,porcentajeCumplimiento:Et,proyeccionMensual:St,diferencia:Ze-wt,diasTrabajadosHastaAhora:Te,totalDiasTrabajadosMes:xe})}catch(V){console.error("Error cargando datos de comparativas:",V)}finally{a(!1)}})()},[t]);const Y=W.useMemo(()=>s.length===0?[]:s.map((V,ae)=>({hora:ae,ingresos:V})).filter(V=>V.ingresos>0).sort((V,ae)=>ae.ingresos-V.ingresos).slice(0,5),[s]),P=W.useMemo(()=>{if(h.length===0)return[];const H=["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"];return h.map((ae,ce)=>({dia:ce,nombre:H[ce],ingresos:ae})).filter(ae=>ae.ingresos>0).sort((ae,ce)=>ce.ingresos-ae.ingresos)},[h]),Q=W.useMemo(()=>{const H=[];if(Y.length>0){const M=Y[0];H.push(`Mejor hora: ${M.hora}:00 - ${M.hora+1}:00 (${M.ingresos.toFixed(2)} promedio)`)}if(P.length>0){const M=P[0];H.push(`Mejor da: ${M.nombre} (${M.ingresos.toFixed(2)} promedio)`)}const V=s.slice(6,12).reduce((M,N)=>M+N,0),ae=s.slice(12,18).reduce((M,N)=>M+N,0),ce=s.slice(18,24).reduce((M,N)=>M+N,0),le=s.slice(0,6).reduce((M,N)=>M+N,0),me=[{nombre:"Maana (6-12h)",total:V},{nombre:"Tarde (12-18h)",total:ae},{nombre:"Noche (18-24h)",total:ce},{nombre:"Madrugada (0-6h)",total:le}].sort((M,N)=>N.total-M.total)[0];return me.total>0&&H.push(`Mejor franja: ${me.nombre} (${me.total.toFixed(2)} total)`),H},[Y,P,s]),O=()=>{if(s.length===0)return null;const H=Math.max(...s,1),V=200,ae=400,ce=40,me=(ae-ce*2)/24,M=V-60;return u.jsx("div",{className:"relative",style:{height:`${V}px`},children:u.jsxs("svg",{width:"100%",height:V,viewBox:`0 0 ${ae} ${V}`,preserveAspectRatio:"none",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(N=>{const F=V-40-N*M,L=(H*N).toFixed(0);return u.jsxs("g",{children:[u.jsx("line",{x1:ce,y1:F,x2:ae-ce,y2:F,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),u.jsxs("text",{x:ce-5,y:F+4,className:"text-xs fill-zinc-500",fontSize:"10",textAnchor:"end",children:[L,""]})]},N)}),s.map((N,F)=>{const L=ce+F*me,B=H>0?N/H*M:0,te=V-40-B,de=Y.some(Ne=>Ne.hora===F);return u.jsxs("g",{children:[u.jsx("rect",{x:L,y:te,width:me*.8,height:B,fill:de?"#00FFB0":"#00CFFF",opacity:"0.8",rx:"2"}),F%4===0&&u.jsxs("text",{x:L+me/2,y:V-20,className:"text-xs fill-zinc-400",fontSize:"9",textAnchor:"middle",children:[F,"h"]})]},F)})]})})},G=()=>{if(c.length===0)return null;const H=Math.max(...c,1),V=200,ae=400,ce=40,me=(ae-ce*2)/7,M=V-60,N=["Dom","Lun","Mar","Mi","Jue","Vie","Sb"];return u.jsx("div",{className:"relative",style:{height:`${V}px`},children:u.jsxs("svg",{width:"100%",height:V,viewBox:`0 0 ${ae} ${V}`,preserveAspectRatio:"none",className:"overflow-visible",children:[[0,.25,.5,.75,1].map(F=>{const L=V-40-F*M,B=(H*F).toFixed(0);return u.jsxs("g",{children:[u.jsx("line",{x1:ce,y1:L,x2:ae-ce,y2:L,stroke:"currentColor",strokeWidth:"1",className:"text-zinc-700",strokeDasharray:"2,2"}),u.jsxs("text",{x:ce-5,y:L+4,className:"text-xs fill-zinc-500",fontSize:"10",textAnchor:"end",children:[B,""]})]},F)}),c.map((F,L)=>{var se;const B=ce+L*me,te=H>0?F/H*M:0,de=V-40-te,Ne=((se=P[0])==null?void 0:se.dia)===L;return u.jsxs("g",{children:[u.jsx("rect",{x:B,y:de,width:me*.8,height:te,fill:Ne?"#00FFB0":"#00CFFF",opacity:"0.8",rx:"2"}),u.jsx("text",{x:B+me/2,y:V-20,className:"text-xs fill-zinc-400",fontSize:"9",textAnchor:"middle",children:N[L]})]},L)})]})})},K=W.useMemo(()=>{const H=g.ingresos-b.ingresos,V=g.gastos-b.gastos,ae=g.ingresos-g.gastos-(b.ingresos-b.gastos),ce=b.ingresos>0?H/b.ingresos*100:0;return{diferenciaIngresos:H,diferenciaGastos:V,diferenciaBalance:ae,porcentajeIngresos:ce}},[g,b]),X=W.useMemo(()=>{const H=E.ingresos-j.ingresos,V=E.gastos-j.gastos,ae=E.ingresos-E.gastos-(j.ingresos-j.gastos),ce=j.ingresos>0?H/j.ingresos*100:0;return{diferenciaIngresos:H,diferenciaGastos:V,diferenciaBalance:ae,porcentajeIngresos:ce}},[E,j]);return u.jsxs("div",{className:"bg-zinc-950 min-h-screen flex flex-col px-3 pt-3 pb-6 text-zinc-100",children:[u.jsx(Da,{title:"Anlisis Avanzado",navigateTo:e,backTarget:mt.Home,className:"mb-4"}),u.jsxs("div",{className:"flex gap-2 p-1 bg-zinc-900 border border-zinc-800 rounded-lg mb-4",children:[u.jsx("button",{onClick:()=>n("horarios"),className:`flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all ${t==="horarios"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"Horarios ptimos"}),u.jsx("button",{onClick:()=>n("comparativas"),className:`flex-1 py-2 px-4 rounded-md font-semibold text-sm transition-all ${t==="comparativas"?"bg-cyan-500 text-white":"bg-zinc-800 text-zinc-300 hover:bg-zinc-700"}`,children:"Comparativas"})]}),u.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:r?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:"text-zinc-400",children:"Cargando anlisis..."})}):t==="horarios"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Ingresos por Hora del Da"}),O(),u.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Datos basados en los ltimos 3 meses (solo das trabajados)"})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Promedio de Ingresos por Da de la Semana"}),G(),u.jsx("p",{className:"text-xs text-zinc-500 mt-2 text-center",children:"Promedio diario basado en los ltimos 3 meses (solo das trabajados)"})]}),Y.length>0&&u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Top 5 Mejores Horarios"}),u.jsx("div",{className:"space-y-2",children:Y.map((H,V)=>u.jsx("div",{className:"bg-zinc-800 rounded-lg p-3 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-500/20 flex items-center justify-center text-cyan-400 font-bold",children:V+1}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-white font-semibold",children:[H.hora,":00 - ",H.hora+1,":00"]}),u.jsxs("div",{className:"text-xs text-zinc-400",children:[H.ingresos.toFixed(2)," promedio"]})]})]})},H.hora))})]}),P.length>0&&u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Das Ms Rentables"}),u.jsx("div",{className:"space-y-2",children:P.map((H,V)=>u.jsx("div",{className:"bg-zinc-800 rounded-lg p-3 flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 flex items-center justify-center text-green-400 font-bold",children:V+1}),u.jsxs("div",{children:[u.jsx("div",{className:"text-white font-semibold",children:H.nombre}),u.jsxs("div",{className:"text-xs text-zinc-400",children:[H.ingresos.toFixed(2)," promedio"]})]})]})},H.dia))})]}),Q.length>0&&u.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 to-blue-900/30 rounded-xl p-4 border border-cyan-500/50",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:" Sugerencias de Horarios"}),u.jsx("div",{className:"space-y-2",children:Q.map((H,V)=>u.jsxs("div",{className:"text-zinc-200 text-sm flex items-start gap-2",children:[u.jsx("span",{className:"text-cyan-400",children:""}),u.jsx("span",{children:H})]},V))})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Comparativa Mensual"}),u.jsx("p",{className:"text-xs text-zinc-500 mb-4 text-center",children:"Datos calculados solo sobre das trabajados (excluyendo descansos)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Mes Actual"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[g.ingresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",g.gastos.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Mes Anterior"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[b.ingresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",b.gastos.toFixed(2),""]})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-2",children:"Diferencia"}),u.jsxs("div",{className:`text-lg font-bold ${K.diferenciaIngresos>=0?"text-green-400":"text-red-400"}`,children:[K.diferenciaIngresos>=0?"+":"",K.diferenciaIngresos.toFixed(2),"",K.porcentajeIngresos!==0&&u.jsxs("span",{className:"text-sm ml-2",children:["(",K.porcentajeIngresos>=0?"+":"",K.porcentajeIngresos.toFixed(1),"%)"]})]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-2",children:["Balance: ",K.diferenciaBalance>=0?"+":"",K.diferenciaBalance.toFixed(2),""]})]})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Comparativa Anual"}),u.jsx("p",{className:"text-xs text-zinc-500 mb-4 text-center",children:"Datos calculados solo sobre das trabajados (excluyendo descansos)"}),u.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Ao Actual"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[E.ingresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",E.gastos.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Ao Anterior"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[j.ingresos.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Gastos: ",j.gastos.toFixed(2),""]})]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-2",children:"Diferencia"}),u.jsxs("div",{className:`text-lg font-bold ${X.diferenciaIngresos>=0?"text-green-400":"text-red-400"}`,children:[X.diferenciaIngresos>=0?"+":"",X.diferenciaIngresos.toFixed(2),"",X.porcentajeIngresos!==0&&u.jsxs("span",{className:"text-sm ml-2",children:["(",X.porcentajeIngresos>=0?"+":"",X.porcentajeIngresos.toFixed(1),"%)"]})]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-2",children:["Balance: ",X.diferenciaBalance>=0?"+":"",X.diferenciaBalance.toFixed(2),""]})]})]}),u.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 border border-zinc-800",children:[u.jsx("h2",{className:"text-cyan-400 text-lg font-bold mb-4",children:"Metas vs Logros"}),u.jsxs("p",{className:"text-xs text-zinc-500 mb-4 text-center",children:["Objetivos calculados sobre ",q.totalDiasTrabajadosMes," das trabajados del mes"]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Objetivo Diario"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[v.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Objetivo Mensual"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[q.objetivoMensual.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Ingresos Hasta Ahora"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[q.ingresosHastaAhora.toFixed(2),""]}),u.jsxs("div",{className:"text-zinc-500 text-xs mt-1",children:["Objetivo hasta ahora: ",q.objetivoHastaAhora.toFixed(2),""]})]}),u.jsxs("div",{className:`rounded-lg p-3 ${q.porcentajeCumplimiento>=100?"bg-green-900/30 border border-green-500/50":"bg-zinc-800"}`,children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-2",children:"Cumplimiento del Objetivo"}),u.jsxs("div",{className:`text-2xl font-bold ${q.porcentajeCumplimiento>=100?"text-green-400":"text-white"}`,children:[q.porcentajeCumplimiento.toFixed(1),"%"]}),u.jsxs("div",{className:`text-sm mt-2 ${q.diferencia>=0?"text-green-400":"text-red-400"}`,children:[q.diferencia>=0?"+":"",q.diferencia.toFixed(2),""]})]}),u.jsxs("div",{className:"bg-zinc-800 rounded-lg p-3",children:[u.jsx("div",{className:"text-zinc-400 text-xs mb-1",children:"Proyeccin Mensual"}),u.jsxs("div",{className:"text-white text-lg font-bold",children:[q.proyeccionMensual.toFixed(2),""]}),u.jsx("div",{className:"text-zinc-500 text-xs mt-1",children:"Basado en el ritmo actual"})]})]})]})]})})]})},ZW=({navigateTo:e})=>{const{isDark:t}=zl(),{showToast:n}=ku(),[r,a]=W.useState([]),[s,l]=W.useState(!1),[c,d]=W.useState(null),[h,m]=W.useState(""),[v,y]=W.useState(""),[g,T]=W.useState("personalizado"),[b,A]=W.useState(""),[E,D]=W.useState(""),[j,R]=W.useState(""),[q,Z]=W.useState(!1),[I,Y]=W.useState(""),[P,Q]=W.useState(""),[O,G]=W.useState(!0);W.useEffect(()=>{let N;return(async()=>{try{N=(await P0(()=>Promise.resolve().then(()=>lv),void 0)).subscribeToReminders(B=>{a(B),G(!1)})}catch(L){console.error("Error importing api for reminders:",L)}})(),()=>{N&&N()}},[]);const K=()=>{m(""),y(""),T("personalizado"),A(""),D(""),R(""),Z(!1),Y(""),Q(""),d(null)},X=async()=>{if(!h.trim()){n("Por favor, ingresa un ttulo para el recordatorio","warning");return}if(g==="mantenimiento"&&!I){n("Por favor, ingresa los kilmetros lmite para mantenimiento","warning");return}if(g!=="mantenimiento"&&!b){n("Por favor, selecciona una fecha lmite","warning");return}try{c?(await XL(c.id,{titulo:h.trim(),descripcion:v.trim()||void 0,tipo:g,fechaLimite:g==="mantenimiento"?new Date().toISOString():b,horaRecordatorio:E||void 0,fechaRecordatorio:j||void 0,sonidoActivo:q,kilometrosLimite:I?parseFloat(I):void 0,kilometrosActuales:P?parseFloat(P):void 0}),n("Recordatorio actualizado correctamente","success")):(await KL({titulo:h.trim(),descripcion:v.trim()||void 0,tipo:g,fechaLimite:g==="mantenimiento"?new Date().toISOString():b,horaRecordatorio:E||void 0,fechaRecordatorio:j||void 0,sonidoActivo:q,kilometrosLimite:I?parseFloat(I):void 0,kilometrosActuales:P?parseFloat(P):void 0}),n("Recordatorio guardado correctamente","success")),K(),l(!1)}catch(N){console.error("Error saving reminder:",N),n("Error al guardar recordatorio","error")}},H=N=>{var F,L;d(N),m(N.titulo),y(N.descripcion||""),T(N.tipo),A(N.fechaLimite.split("T")[0]),D(N.horaRecordatorio||""),R(N.fechaRecordatorio?N.fechaRecordatorio.split("T")[0]:""),Z(N.sonidoActivo||!1),Y(((F=N.kilometrosLimite)==null?void 0:F.toString())||""),Q(((L=N.kilometrosActuales)==null?void 0:L.toString())||""),l(!0)},V=async N=>{await ZL(N)},ae=async N=>{confirm("Eliminar este recordatorio?")&&await JL(N)},ce=N=>new Date(N).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}),le=N=>({mantenimiento:" Mantenimiento",pago:" Pago",documentacion:" Documentacin",personalizado:" Personalizado"})[N]||N,me=r.filter(N=>!N.completado),M=r.filter(N=>N.completado);return u.jsxs("div",{className:`min-h-screen ${t?"bg-zinc-950":"bg-zinc-100"} text-zinc-100 px-3 pt-3 pb-24`,children:[u.jsx(Da,{title:"Recordatorios",navigateTo:e,backTarget:mt.Home}),u.jsxs("div",{className:"max-w-xl mx-auto space-y-4 mt-4",children:[u.jsxs("button",{onClick:()=>{K(),l(!0)},className:`w-full py-3 rounded-xl font-semibold flex items-center justify-center gap-2 ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nuevo Recordatorio"]}),me.length>0&&u.jsxs("div",{children:[u.jsxs("h2",{className:`text-lg font-bold mb-3 ${t?"text-zinc-100":"text-zinc-900"}`,children:["Pendientes (",me.length,")"]}),u.jsx("div",{className:"space-y-2",children:me.map(N=>u.jsx("div",{className:`p-4 rounded-xl border ${t?"bg-zinc-800 border-zinc-700":"bg-white border-zinc-300"}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:"text-sm",children:le(N.tipo)}),N.tipo==="mantenimiento"&&N.kilometrosLimite&&u.jsxs("span",{className:"text-xs text-zinc-400",children:[N.kilometrosLimite," km"]})]}),u.jsx("h3",{className:`font-semibold mb-1 ${t?"text-zinc-100":"text-zinc-900"}`,children:N.titulo}),N.descripcion&&u.jsx("p",{className:`text-sm mb-2 ${t?"text-zinc-400":"text-zinc-600"}`,children:N.descripcion}),N.tipo!=="mantenimiento"&&u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("p",{className:`text-xs ${t?"text-zinc-400":"text-zinc-600"}`,children:["Fecha lmite: ",ce(N.fechaLimite)]}),N.horaRecordatorio&&u.jsxs("p",{className:`text-xs ${t?"text-zinc-400":"text-zinc-600"}`,children:["Hora: ",N.horaRecordatorio,N.sonidoActivo&&u.jsx("span",{className:"ml-1",children:""})]})]})]}),u.jsxs("div",{className:"flex gap-2 ml-2",children:[u.jsx("button",{onClick:()=>V(N.id),className:"text-green-400 hover:text-green-300 text-sm",title:"Completar",children:""}),u.jsx("button",{onClick:()=>H(N),className:"text-blue-400 hover:text-blue-300 text-sm",title:"Editar",children:""}),u.jsx("button",{onClick:()=>ae(N.id),className:"text-red-400 hover:text-red-300 text-sm",title:"Eliminar",children:""})]})]})},N.id))})]}),M.length>0&&u.jsxs("div",{children:[u.jsxs("h2",{className:`text-lg font-bold mb-3 ${t?"text-zinc-100":"text-zinc-900"}`,children:["Completados (",M.length,")"]}),u.jsx("div",{className:"space-y-2",children:M.map(N=>u.jsx("div",{className:`p-4 rounded-xl border opacity-60 ${t?"bg-zinc-800 border-zinc-700":"bg-white border-zinc-300"}`,children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("span",{className:"text-sm",children:le(N.tipo)}),u.jsx("h3",{className:`font-semibold line-through ${t?"text-zinc-400":"text-zinc-500"}`,children:N.titulo})]}),u.jsx("button",{onClick:()=>ae(N.id),className:"text-red-400 hover:text-red-300 text-sm",children:""})]})},N.id))})]}),r.length===0&&u.jsxs("div",{className:`text-center py-12 ${t?"text-zinc-400":"text-zinc-600"}`,children:[u.jsx("p",{children:"No hay recordatorios"}),u.jsx("p",{className:"text-sm mt-2",children:"Crea un recordatorio para no olvidar nada importante"})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:`rounded-xl p-6 max-w-md w-full max-h-[90vh] overflow-y-auto ${t?"bg-zinc-900 border border-zinc-800":"bg-white border border-zinc-300"}`,children:[u.jsx("h3",{className:`text-lg font-bold mb-4 ${t?"text-zinc-100":"text-zinc-900"}`,children:c?"Editar Recordatorio":"Nuevo Recordatorio"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Ttulo *"}),u.jsx("input",{type:"text",value:h,onChange:N=>m(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Ej: Cambio de aceite"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Tipo"}),u.jsxs("select",{value:g,onChange:N=>T(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,children:[u.jsx("option",{value:"personalizado",children:" Personalizado"}),u.jsx("option",{value:"mantenimiento",children:" Mantenimiento"}),u.jsx("option",{value:"pago",children:" Pago"}),u.jsx("option",{value:"documentacion",children:" Documentacin"})]})]}),g==="mantenimiento"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Kilmetros Lmite *"}),u.jsx("input",{type:"number",value:I,onChange:N=>Y(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Ej: 150000"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Kilmetros Actuales (opcional)"}),u.jsx("input",{type:"number",value:P,onChange:N=>Q(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Ej: 145000"})]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Fecha Lmite *"}),u.jsx("input",{type:"date",value:b,onChange:N=>A(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Hora del Recordatorio (opcional)"}),u.jsx("input",{type:"time",value:E,onChange:N=>D(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`}),u.jsx("p",{className:"text-xs mt-1 text-zinc-500",children:"Se reproducir un sonido a esta hora"})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Recordar el (opcional)"}),u.jsx("input",{type:"date",value:j,onChange:N=>R(N.target.value),className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"sonidoActivo",checked:q,onChange:N=>Z(N.target.checked),className:`h-4 w-4 rounded ${t?"border-zinc-600 bg-zinc-800 text-blue-500":"border-zinc-300 bg-zinc-100 text-blue-500"}`}),u.jsx("label",{htmlFor:"sonidoActivo",className:`text-sm ${t?"text-zinc-300":"text-zinc-700"}`,children:" Activar aviso sonoro"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:`block text-sm font-medium mb-1.5 ${t?"text-zinc-400":"text-zinc-600"}`,children:"Descripcin (opcional)"}),u.jsx("textarea",{value:v,onChange:N=>y(N.target.value),rows:3,className:`w-full p-2 rounded-md ${t?"bg-zinc-800 border-zinc-700 text-zinc-100":"bg-zinc-100 border-zinc-300 text-zinc-900"} border`,placeholder:"Notas adicionales..."})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:X,className:`flex-1 py-2 rounded-lg font-semibold ${t?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Guardar"}),u.jsx("button",{onClick:()=>{l(!1),K()},className:`px-4 py-2 rounded-lg ${t?"bg-zinc-800 text-zinc-300 hover:bg-zinc-700":"bg-zinc-200 text-zinc-700 hover:bg-zinc-300"}`,children:"Cancelar"})]})]})]})})]})},e1="51003",TE=async()=>{var e,t;fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:53",message:"getStationInfo called",data:{timestamp:Date.now()},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{});try{const n=await JW();return fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:57",message:"tryGetRealData result",data:{hasData:!!n,llegadasCount:((e=n==null?void 0:n.llegadas)==null?void 0:e.length)||0,salidasCount:((t=n==null?void 0:n.salidas)==null?void 0:t.length)||0},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),n||(console.warn("No se pudieron obtener datos reales de ADIF. Mostrando pantalla vaca."),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:62",message:"Returning empty arrays - no real data",data:{reason:"tryGetRealData returned null"},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),{nombre:"Sevilla Santa Justa",codigo:e1,ultimaActualizacion:new Date,llegadas:[],salidas:[],isRealData:!0})}catch(n){return console.error("Error obteniendo informacin de la estacin:",n),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:74",message:"Error in getStationInfo",data:{error:n instanceof Error?n.message:String(n)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{}),{nombre:"Sevilla Santa Justa",codigo:e1,ultimaActualizacion:new Date,llegadas:[],salidas:[],isRealData:!0}}},JW=async()=>{var e,t,n,r;fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:93",message:"tryGetRealData called",data:{timestamp:Date.now()},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{});try{const a="http://localhost:3001";fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:96",message:"Proxy URL configured",data:{proxyUrl:a,hasEnvVar:!1},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{});try{fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:100",message:"Starting health check",data:{healthCheckUrl:`${a}/health`},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{});const s=await fetch(`${a}/health`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:106",message:"Health check response",data:{ok:s.ok,status:s.status,statusText:s.statusText},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),!s.ok)return console.warn(" Proxy server no disponible (health check fall)"),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:108",message:"Health check failed",data:{status:s.status},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),null;console.log(" Proxy server disponible")}catch(s){return console.warn(" No se puede conectar al proxy server. Asegrate de ejecutar: npm run train-proxy"),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:113",message:"Health check error",data:{error:s instanceof Error?s.message:String(s)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"A"})}).catch(()=>{}),null}try{const s=`${a}/station/${e1}`;fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:119",message:"Fetching station data",data:{stationUrl:s,stationCode:e1},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{});const l=await fetch(s,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(3e4)});if(fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:128",message:"Station data response",data:{ok:l.ok,status:l.status,statusText:l.statusText},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{}),l.ok){const c=await l.json();fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:129",message:"Raw data received from proxy",data:{hasLlegadas:Array.isArray(c.llegadas),llegadasCount:((e=c.llegadas)==null?void 0:e.length)||0,hasSalidas:Array.isArray(c.salidas),salidasCount:((t=c.salidas)==null?void 0:t.length)||0,dataKeys:Object.keys(c)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{});const d=QW(c);if(fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:130",message:"Parsed data result",data:{parsed:!!d,parsedLlegadasCount:((n=d==null?void 0:d.llegadas)==null?void 0:n.length)||0,parsedSalidasCount:((r=d==null?void 0:d.salidas)==null?void 0:r.length)||0},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),d)return console.log(` Datos reales obtenidos: ${d.llegadas.length} llegadas, ${d.salidas.length} salidas`),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:133",message:"Returning parsed data",data:{llegadasCount:d.llegadas.length,salidasCount:d.salidas.length,isRealData:d.isRealData},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),d;fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:136",message:"Parsing returned null",data:{rawDataKeys:Object.keys(c)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{})}else console.error(` Error del proxy: ${l.status} ${l.statusText}`),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:137",message:"Proxy returned error status",data:{status:l.status,statusText:l.statusText},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"B"})}).catch(()=>{})}catch(s){return console.error(" Error obteniendo datos del proxy:",s.message),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:140",message:"Error fetching station data",data:{error:s.message,errorName:s.name},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{}),null}return fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:144",message:"tryGetRealData returning null",data:{reason:"No data obtained"},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"D"})}).catch(()=>{}),null}catch(a){return console.warn(" Error intentando obtener datos reales:",a.message),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:146",message:"tryGetRealData catch error",data:{error:a.message,errorName:a.name},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"E"})}).catch(()=>{}),null}},QW=e=>{fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:155",message:"parseAdifData called",data:{hasData:!!e,dataType:typeof e,dataKeys:e?Object.keys(e):[]},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{});try{if(!e||typeof e!="object")return console.warn(" Datos invlidos del proxy"),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:158",message:"Invalid data format",data:{hasData:!!e,dataType:typeof e},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),null;const t=Array.isArray(e.llegadas)?e.llegadas:[],n=Array.isArray(e.salidas)?e.salidas:[];fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:164",message:"Raw arrays extracted",data:{llegadasRawCount:t.length,salidasRawCount:n.length,isLlegadasArray:Array.isArray(e.llegadas),isSalidasArray:Array.isArray(e.salidas)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),t.length>0&&fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:239",message:"Sample llegada raw data",data:{sampleItem:JSON.stringify(t[0]),itemKeys:t[0]?Object.keys(t[0]):[]},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{});const r=t.filter(c=>c&&(c.horaProgramada||c.hora)).map((c,d)=>{const h=Lm(c.horaProgramada||c.hora);if(h==="--:--")return null;const m=Math.max(0,parseInt(c.retraso)||parseInt(c.delay)||0),v=c.horaEstimada?Lm(c.horaEstimada):null;return{id:`arr-${Date.now()}-${d}-${c.numeroTren||d}`,numeroTren:c.numeroTren||c.tren||"N/A",origen:(c.origen||"N/A").trim(),destino:"Sevilla Santa Justa",horaProgramada:h,horaEstimada:v,retraso:m,estado:V6(c.estado,m),via:c.via||c.plataforma||null,tipoTren:(c.tipoTren||c.tipo||"N/A").trim()}}).filter(c=>c!==null);fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:266",message:"Llegadas parsed",data:{rawCount:t.length,parsedCount:r.length,filteredOut:t.length-r.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),n.length>0&&fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:268",message:"Sample salida raw data",data:{sampleItem:JSON.stringify(n[0]),itemKeys:n[0]?Object.keys(n[0]):[]},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{});const a=n.filter(c=>c&&(c.horaProgramada||c.hora)).map((c,d)=>{const h=Lm(c.horaProgramada||c.hora);if(h==="--:--")return null;const m=Math.max(0,parseInt(c.retraso)||parseInt(c.delay)||0),v=c.horaEstimada?Lm(c.horaEstimada):null;return{id:`dep-${Date.now()}-${d}-${c.numeroTren||d}`,numeroTren:c.numeroTren||c.tren||"N/A",origen:"Sevilla Santa Justa",destino:(c.destino||"N/A").trim(),horaProgramada:h,horaEstimada:v,retraso:m,estado:V6(c.estado,m),via:c.via||c.plataforma||null,tipoTren:(c.tipoTren||c.tipo||"N/A").trim()}}).filter(c=>c!==null);fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:295",message:"Salidas parsed",data:{rawCount:n.length,parsedCount:a.length,filteredOut:n.length-a.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{});const s=q6(r),l=q6(a);return fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:280",message:"Parsing complete",data:{llegadasCount:r.length,llegadasOrdenadasCount:s.length,salidasCount:a.length,salidasOrdenadasCount:l.length},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),{nombre:"Sevilla Santa Justa",codigo:e1,ultimaActualizacion:new Date,llegadas:s,salidas:l,isRealData:!0}}catch(t){return console.error(" Error parseando datos de ADIF:",t),fetch("http://127.0.0.1:7242/ingest/16a55f43-70e7-4375-9248-a649a1c4fc05",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"trainStation.ts:293",message:"Error in parseAdifData",data:{error:t instanceof Error?t.message:String(t)},timestamp:Date.now(),sessionId:"debug-session",runId:"run1",hypothesisId:"C"})}).catch(()=>{}),null}},Lm=e=>{if(!e)return"--:--";if(e instanceof Date)return e.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});if(typeof e=="string"){const t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"});if(/^\d{2}:\d{2}$/.test(e))return e}return"--:--"},V6=(e,t)=>{if(!e||typeof e!="string")return t>0?"retrasado":"a_tiempo";const n=e.toLowerCase().trim();return n.includes("cancelado")||n.includes("cancel")||n==="cancelado"?"cancelado":n.includes("llegado")||n.includes("arrived")||n==="llegado"?"llegado":n.includes("salido")||n.includes("departed")||n==="salido"?"salido":t>0||n.includes("retrasado")||n.includes("delay")||n.includes("atraso")?"retrasado":"a_tiempo"},G6=e=>{try{const[t,n]=e.split(":").map(Number);return isNaN(t)||isNaN(n)?0:t*60+n}catch{return 0}},q6=e=>{const t=new Date,n=t.getHours(),r=t.getMinutes(),a=n*60+r;return e.sort((s,l)=>{const c=G6(s.horaProgramada),d=G6(l.horaProgramada);return c>=a&&d>=a||c<a&&d<a?c-d:c<a?1:d<a?-1:c-d})},e$=(e,t=6e4)=>{let n,r=!0;const a=async()=>{if(r)try{const s=await TE();e(s)}catch(s){console.error("Error actualizando informacin de estacin:",s)}};return a(),n=setInterval(a,t),()=>{r=!1,n&&clearInterval(n)}},t$=({navigateTo:e})=>{const{isDark:t}=zl(),[n,r]=W.useState(null),[a,s]=W.useState(!0),[l,c]=W.useState("llegadas"),[d,h]=W.useState(null);W.useEffect(()=>{s(!0),h(null),(async()=>{try{const R=await TE();r(R)}catch(R){console.error("Error cargando informacin de estacin:",R),h("No se pudo cargar la informacin de la estacin. Por favor, intenta de nuevo.")}finally{s(!1)}})();const j=e$(R=>{r(R),h(null)},6e4);return()=>{j()}},[]);const m=D=>D||"--:--",v=(D,j)=>D==="cancelado"||D==="salido"||D==="llegado"?t?"text-zinc-500":"text-gray-500":j>0?t?"text-red-400":"text-red-600":t?"text-green-400":"text-green-600",y=(D,j)=>D==="cancelado"?"Cancelado":D==="salido"?"Salido":D==="llegado"?"Llegado":j>0?`+${j} min`:"A tiempo",g=(D,j)=>{const R=t?"bg-zinc-800":"bg-white",q=t?"border-zinc-700":"border-gray-200",Z=t?"text-zinc-100":"text-gray-900",I=t?"text-zinc-400":"text-gray-600";return u.jsx("div",{className:`${R} ${q} border rounded-lg p-3 mb-2 transition-colors`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`font-bold ${Z}`,children:D.numeroTren}),u.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${t?"bg-zinc-700 text-zinc-300":"bg-gray-100 text-gray-700"}`,children:D.tipoTren})]}),u.jsx("div",{className:`text-sm ${I} mb-1`,children:j?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-semibold",children:D.origen}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:D.destino})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:D.origen}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"font-semibold",children:D.destino})]})}),D.via&&u.jsx("div",{className:`text-xs ${I}`,children:D.via})]}),u.jsxs("div",{className:"text-right ml-4",children:[u.jsx("div",{className:`text-lg font-bold ${v(D.estado,D.retraso)}`,children:m(D.horaProgramada)}),D.horaEstimada&&D.retraso>0&&u.jsxs("div",{className:`text-sm ${t?"text-red-400":"text-red-600"}`,children:["Est: ",m(D.horaEstimada)]}),u.jsx("div",{className:`text-xs mt-1 ${v(D.estado,D.retraso)}`,children:y(D.estado,D.retraso)})]})]})},D.id)},T=t?"bg-zinc-950":"bg-gray-50",b=t?"bg-zinc-900":"bg-white",A=t?"text-zinc-100":"text-gray-900",E=t?"text-zinc-400":"text-gray-600";return u.jsxs("div",{className:`${T} min-h-screen flex flex-col`,children:[u.jsx(Da,{title:"Estacin Santa Justa",navigateTo:e,backTarget:mt.Home}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:`${E}`,children:"Cargando informacin de trenes..."})}):d?u.jsxs("div",{className:`${b} rounded-lg p-6 border ${t?"border-red-500/50":"border-red-300"}`,children:[u.jsx("div",{className:`${t?"text-red-400":"text-red-600"} font-bold mb-2`,children:" Error"}),u.jsx("div",{className:E,children:d}),u.jsxs("div",{className:`${E} text-xs mt-4`,children:[u.jsx("p",{className:"mb-2",children:"Nota: Esta funcionalidad requiere acceso a una API de informacin de trenes."}),u.jsx("p",{children:"Actualmente se muestran datos de ejemplo. Para datos reales, se necesita:"}),u.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[u.jsx("li",{children:"API oficial de ADIF/Renfe (no disponible pblicamente)"}),u.jsx("li",{children:"Servicio backend propio con scraping"}),u.jsx("li",{children:"API de terceros que proporcione esta informacin"})]})]})]}):n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${b} rounded-lg p-4 mb-4 border ${t?"border-zinc-700":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:`${A} font-bold text-lg mb-1`,children:[" ",n.nombre]}),u.jsxs("div",{className:`${E} text-xs`,children:["Cdigo ADIF: ",n.codigo]}),u.jsxs("div",{className:`${E} text-xs`,children:["ltima actualizacin: ",n.ultimaActualizacion.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n&&n.isRealData?u.jsx("div",{className:`text-xs px-3 py-1 rounded-full ${t?"bg-green-500/20 text-green-400":"bg-green-100 text-green-700"}`,children:" Datos Reales"}):u.jsx("div",{className:`text-xs px-3 py-1 rounded-full ${t?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-700"}`,children:" Horarios Aproximados"}),u.jsx("div",{className:`text-xs px-3 py-1 rounded-full ${t?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-700"}`,children:"En vivo"})]})]})}),u.jsx("div",{className:`${b} rounded-lg p-1 mb-4 border ${t?"border-zinc-700":"border-gray-200"}`,children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c("llegadas"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${l==="llegadas"?t?"bg-cyan-500 text-white":"bg-blue-600 text-white":t?"bg-zinc-800 text-zinc-300 hover:bg-zinc-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Llegadas (",n.llegadas.length,")"]}),u.jsxs("button",{onClick:()=>c("salidas"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${l==="salidas"?t?"bg-cyan-500 text-white":"bg-blue-600 text-white":t?"bg-zinc-800 text-zinc-300 hover:bg-zinc-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Salidas (",n.salidas.length,")"]})]})}),u.jsx("div",{children:l==="llegadas"?u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:`${A} font-bold text-base mb-3`,children:"Prximas Llegadas"}),n.llegadas.length===0?u.jsx("div",{className:`${E} text-center py-8`,children:"No hay llegadas programadas"}):n.llegadas.map(D=>g(D,!0))]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:`${A} font-bold text-base mb-3`,children:"Prximas Salidas"}),n.salidas.length===0?u.jsx("div",{className:`${E} text-center py-8`,children:"No hay salidas programadas"}):n.salidas.map(D=>g(D,!1))]})}),u.jsx("div",{className:`${b} rounded-lg p-3 mt-4 border ${t?"border-blue-500/30 bg-blue-900/10":"border-blue-300 bg-blue-50"}`,children:u.jsxs("div",{className:`text-xs ${t?"text-blue-300":"text-blue-800"}`,children:[u.jsx("p",{className:"font-semibold mb-1",children:" Informacin"}),u.jsx("p",{className:"mb-2",children:"Los datos se actualizan automticamente cada minuto. Los horarios mostrados son aproximados basados en servicios tpicos de Renfe."}),u.jsxs("p",{children:[u.jsx("strong",{children:"Para informacin oficial en tiempo real:"})," Consulta la web de",u.jsx("a",{href:"https://www.adif.es/es/-/51003-sevilla-sta.-justa",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:"ADIF"})," o",u.jsx("a",{href:"https://www.renfe.com",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:"Renfe"}),"."]})]})})]}):null})]})},ty="SVQ",AE=async()=>{const e=await n$();return e||(console.warn("No se pudieron obtener datos reales de OpenSky. Mostrando pantalla vaca."),{nombre:"Aeropuerto de Sevilla",codigo:ty,ultimaActualizacion:new Date,llegadas:[],salidas:[],isRealData:!0})},n$=async()=>{try{const e="http://localhost:3003";try{if(!(await fetch(`${e}/health`)).ok)return console.warn("Proxy server no disponible"),null}catch{return console.warn("No se puede conectar al proxy server. Asegrate de que est corriendo en",e),null}const[t,n]=await Promise.all([W6(e,"arrival"),W6(e,"departure")]);return!t&&!n?null:{nombre:"Aeropuerto de Sevilla",codigo:ty,ultimaActualizacion:new Date,isRealData:!0,llegadas:t||[],salidas:n||[]}}catch(e){return console.error("Error obteniendo datos del proxy:",e),null}},W6=async(e,t)=>{try{const n=t==="arrival",r=n?"arr_iata":"dep_iata",a=new URLSearchParams({[r]:ty,limit:"20"}),s=`${e}/api/flights?${a.toString()}`,l=await fetch(s,{method:"GET",headers:{Accept:"application/json"}});if(!l.ok)return console.error(`Proxy server error: ${l.status} ${l.statusText}`),null;const c=await l.json();if(!c.data||c.data.length===0)return console.warn(`No hay vuelos ${t} disponibles`),[];const d=r$(c.data,n);return n?d.filter(h=>"destino"in h&&h.destino==="Sevilla"):d.filter(h=>"origen"in h&&h.origen==="Sevilla")}catch(n){return console.error(`Error fetching ${t} flights:`,n),null}},r$=(e,t)=>{const n=new Date,r=new Date(n.getTime()+720*60*1e3);return e.map((a,s)=>{try{const l=a.departure||{},c=a.arrival||{},d=a.airline||{},h=a.flight||{},m=t?c.scheduled:l.scheduled,v=t?c.estimated:l.estimated;if(!m)return null;const y=new Date(m),g=v?new Date(v):null;if(y>r)return null;const T=g&&y?Math.max(0,Math.floor((g.getTime()-y.getTime())/6e4)):0,b=j=>`${String(j.getHours()).padStart(2,"0")}:${String(j.getMinutes()).padStart(2,"0")}`,A=a.flight_status||"scheduled";let E;t?A==="landed"?E="aterrizado":A==="cancelled"?E="cancelado":T>0?E="retrasado":E="a_tiempo":A==="active"||A==="departed"?E="despegado":A==="cancelled"?E="cancelado":T>0?E="retrasado":E="a_tiempo";const D={id:`${t?"arr":"dep"}-${a.flight_date}-${h.iata||s}`,numeroVuelo:h.iata||h.icao||`VUELO-${s}`,aerolinea:d.name||"N/A",horaProgramada:b(y),horaEstimada:g?b(g):null,retraso:T,estado:E,terminal:(t?c.terminal:l.terminal)||null,puerta:(t?c.gate:l.gate)||null,tipoVuelo:a.flight_type==="domestic"?"Nacional":"Internacional"};return t?{...D,origen:l.airport||l.iata||"N/A",destino:"Sevilla"}:{...D,origen:"Sevilla",destino:c.airport||c.iata||"N/A"}}catch(l){return console.error("Error parsing flight:",l),null}}).filter(a=>a!==null).slice(0,10)},a$=(e,t=6e4)=>{let n=!0;const r=async()=>{if(n)try{const s=await AE();e(s)}catch(s){console.error("Error actualizando informacin del aeropuerto:",s)}};r();const a=setInterval(r,t);return()=>{n=!1,clearInterval(a)}},i$=({navigateTo:e})=>{const{isDark:t}=zl(),[n,r]=W.useState(null),[a,s]=W.useState(!0),[l,c]=W.useState("llegadas"),[d,h]=W.useState(null);W.useEffect(()=>{s(!0),h(null),(async()=>{try{const R=await AE();r(R)}catch(R){console.error("Error cargando informacin del aeropuerto:",R),h("No se pudo cargar la informacin del aeropuerto. Por favor, intenta de nuevo.")}finally{s(!1)}})();const j=a$(R=>{r(R),h(null)},6e4);return()=>{j()}},[]);const m=D=>D||"--:--",v=(D,j)=>D==="cancelado"||D==="despegado"||D==="aterrizado"?t?"text-zinc-500":"text-gray-500":j>0?t?"text-red-400":"text-red-600":t?"text-green-400":"text-green-600",y=(D,j)=>D==="cancelado"?"Cancelado":D==="despegado"?"Despegado":D==="aterrizado"?"Aterrizado":D==="embarcando"?"Embarcando":j>0?`+${j} min`:"A tiempo",g=(D,j)=>{const R=t?"bg-zinc-800":"bg-white",q=t?"border-zinc-700":"border-gray-200",Z=t?"text-zinc-100":"text-gray-900",I=t?"text-zinc-400":"text-gray-600";return u.jsx("div",{className:`${R} ${q} border rounded-lg p-3 mb-2 transition-colors`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("span",{className:`font-bold ${Z}`,children:D.numeroVuelo}),u.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${t?"bg-zinc-700 text-zinc-300":"bg-gray-100 text-gray-700"}`,children:D.aerolinea}),D.tipoVuelo&&u.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${t?"bg-blue-900/50 text-blue-300":"bg-blue-100 text-blue-700"}`,children:D.tipoVuelo})]}),u.jsx("div",{className:`text-sm ${I} mb-1`,children:j?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"font-semibold",children:D.origen}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{children:D.destino})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:D.origen}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"font-semibold",children:D.destino})]})}),u.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[D.terminal&&u.jsxs("span",{className:I,children:["Terminal: ",D.terminal]}),D.puerta&&u.jsxs("span",{className:I,children:["Puerta: ",D.puerta]})]})]}),u.jsxs("div",{className:"text-right ml-4",children:[u.jsx("div",{className:`text-lg font-bold ${v(D.estado,D.retraso)}`,children:m(D.horaProgramada)}),D.horaEstimada&&D.retraso>0&&u.jsxs("div",{className:`text-sm ${t?"text-red-400":"text-red-600"}`,children:["Est: ",m(D.horaEstimada)]}),u.jsx("div",{className:`text-xs mt-1 ${v(D.estado,D.retraso)}`,children:y(D.estado,D.retraso)})]})]})},D.id)},T=t?"bg-zinc-950":"bg-gray-50",b=t?"bg-zinc-900":"bg-white",A=t?"text-zinc-100":"text-gray-900",E=t?"text-zinc-400":"text-gray-600";return u.jsxs("div",{className:`${T} min-h-screen flex flex-col`,children:[u.jsx(Da,{title:"Aeropuerto San Pablo",navigateTo:e,backTarget:mt.Home}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a?u.jsx("div",{className:"flex items-center justify-center py-12",children:u.jsx("div",{className:`${E}`,children:"Cargando informacin de vuelos..."})}):d?u.jsxs("div",{className:`${b} rounded-lg p-6 border ${t?"border-red-500/50":"border-red-300"}`,children:[u.jsx("div",{className:`${t?"text-red-400":"text-red-600"} font-bold mb-2`,children:" Error"}),u.jsx("div",{className:E,children:d})]}):n?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`${b} rounded-lg p-4 mb-4 border ${t?"border-zinc-700":"border-gray-200"}`,children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:`${A} font-bold text-lg mb-1`,children:[" ",n.nombre]}),u.jsxs("div",{className:`${E} text-xs`,children:["Cdigo IATA: ",n.codigo]}),u.jsxs("div",{className:`${E} text-xs`,children:["ltima actualizacin: ",n.ultimaActualizacion.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),u.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n&&n.isRealData?u.jsx("div",{className:`text-xs px-3 py-1 rounded-full ${t?"bg-green-500/20 text-green-400":"bg-green-100 text-green-700"}`,children:" Datos Reales"}):u.jsx("div",{className:`text-xs px-3 py-1 rounded-full ${t?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-700"}`,children:" Horarios Aproximados"}),u.jsx("div",{className:`text-xs px-3 py-1 rounded-full ${t?"bg-blue-500/20 text-blue-400":"bg-blue-100 text-blue-700"}`,children:"En vivo"})]})]})}),u.jsx("div",{className:`${b} rounded-lg p-1 mb-4 border ${t?"border-zinc-700":"border-gray-200"}`,children:u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c("llegadas"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${l==="llegadas"?t?"bg-cyan-500 text-white":"bg-blue-600 text-white":t?"bg-zinc-800 text-zinc-300 hover:bg-zinc-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Llegadas (",n.llegadas.length,")"]}),u.jsxs("button",{onClick:()=>c("salidas"),className:`flex-1 py-2 px-4 rounded-lg font-semibold text-sm transition-all ${l==="salidas"?t?"bg-cyan-500 text-white":"bg-blue-600 text-white":t?"bg-zinc-800 text-zinc-300 hover:bg-zinc-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Salidas (",n.salidas.length,")"]})]})}),u.jsx("div",{children:l==="llegadas"?u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:`${A} font-bold text-base mb-3`,children:"Prximas Llegadas"}),n.llegadas.length===0?u.jsx("div",{className:`${E} text-center py-8`,children:"No hay llegadas programadas"}):n.llegadas.map(D=>g(D,!0))]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:`${A} font-bold text-base mb-3`,children:"Prximas Salidas"}),n.salidas.length===0?u.jsx("div",{className:`${E} text-center py-8`,children:"No hay salidas programadas"}):n.salidas.map(D=>g(D,!1))]})}),u.jsx("div",{className:`${b} rounded-lg p-3 mt-4 border ${t?"border-blue-500/30 bg-blue-900/10":"border-blue-300 bg-blue-50"}`,children:u.jsxs("div",{className:`text-xs ${t?"text-blue-300":"text-blue-800"}`,children:[u.jsx("p",{className:"font-semibold mb-1",children:" Informacin"}),u.jsx("p",{className:"mb-2",children:"Los datos se actualizan automticamente cada minuto. Los horarios mostrados son aproximados basados en vuelos tpicos del aeropuerto."}),u.jsxs("p",{children:[u.jsx("strong",{children:"Para informacin oficial en tiempo real:"})," Consulta la web de",u.jsx("a",{href:"https://www.aena.es/es/sevilla/sevilla.html",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:"AENA"}),"."]})]})})]}):null})]})},s$=({navigateTo:e})=>u.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-10",children:u.jsx("div",{className:"relative h-10 bg-yellow-400 flex items-center justify-center",children:u.jsx("button",{onClick:()=>e(mt.Home),className:"w-12 h-12 bg-white rounded-full flex items-center justify-center shadow-2xl hover:bg-zinc-50 transition-all hover:scale-105 border-4 border-yellow-400","aria-label":"Ir a Home",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-zinc-900",children:u.jsx("path",{d:"M12 3L4 9v12h5v-7h6v7h5V9l-8-6z"})})})})}),o$=()=>{const[e,t]=W.useState(mt.Home),[n,r]=W.useState(null),[a,s]=W.useState(void 0),[l,c]=W.useState(null),[d,h]=W.useState(null),[m,v]=W.useState(0),{isDark:y}=zl();W.useEffect(()=>(a9(),n9(),()=>{r9()}),[]);const g=W.useCallback((j,R)=>{j===mt.IntroducirCarrera&&r(null),j!==mt.IntroducirCarrera&&s(void 0),j===mt.EditarTurno&&R&&c(R),j===mt.ResumenGastosMensual&&v(q=>q+1),t(j)},[]),T=W.useCallback(j=>{r(j),t(mt.EditarCarrera)},[]),b=W.useCallback(j=>{h(j),t(mt.EditarGasto)},[]),A=W.useCallback(j=>{if(j==="minima"){const{amount:R,tariffName:q}=CO();s({taximetro:R,cobrado:R,formaPago:"Efectivo",tipoCarrera:"Urbana",suplementos:q}),g(mt.IntroducirCarrera)}else if(j==="aeropuerto"){const{amount:R,tariffName:q,isNight:Z}=jO();s({taximetro:R,cobrado:R,formaPago:"Tarjeta",aeropuerto:!0,tipoCarrera:"Interurbana"}),g(mt.IntroducirCarrera)}},[g]);l9([{key:"n",ctrlKey:!0,action:()=>{(e===mt.Home||e===mt.VistaCarreras)&&g(mt.IntroducirCarrera)},description:"Nueva carrera"},{key:"e",ctrlKey:!0,action:()=>{e===mt.Home&&g(mt.Gastos)},description:"Nuevo gasto"},{key:"h",ctrlKey:!0,action:()=>{e!==mt.Home&&g(mt.Home)},description:"Ir a inicio"},{key:"Escape",action:()=>{e!==mt.Home&&g(mt.Home)},description:"Volver atrs"}]);const E=()=>{switch(e){case mt.Home:return u.jsx(X4,{navigateTo:g,onQuickAction:A});case mt.VistaCarreras:return u.jsx(U9,{navigateTo:g,navigateToEditRace:T});case mt.IntroducirCarrera:return u.jsx(n3,{navigateTo:g,raceId:null,initialData:a});case mt.EditarCarrera:return u.jsx(n3,{navigateTo:g,raceId:n});case mt.Gastos:return u.jsx(_3,{navigateTo:g});case mt.EditarGasto:return u.jsx(_3,{navigateTo:g,gastoId:d});case mt.Turnos:return u.jsx(T3,{navigateTo:g});case mt.EditarTurno:return l?u.jsx(LO,{navigateTo:g,turnoId:l}):u.jsx(T3,{navigateTo:g});case mt.CerrarTurno:return u.jsx(kO,{navigateTo:g});case mt.Historico:return u.jsx(OO,{navigateTo:g});case mt.Resumen:return u.jsx(IO,{navigateTo:g});case mt.ResumenDiario:return u.jsx(HO,{navigateTo:g});case mt.ResumenMensual:return u.jsx(Rz,{navigateTo:g});case mt.ResumenMensualDetallado:return u.jsx(Pz,{navigateTo:g});case mt.ResumenGastosMensual:return u.jsx(Vz,{navigateTo:g,navigateToEditGasto:b},`gastos-${m}`);case mt.ResumenMensualIngresos:return u.jsx($z,{navigateTo:g});case mt.AjustesGenerales:return u.jsx(HW,{navigateTo:g});case mt.Estadisticas:return u.jsx(WW,{navigateTo:g});case mt.Calendario:return u.jsx($W,{navigateTo:g});case mt.ConfiguracionDescansos:return u.jsx(YW,{navigateTo:g});case mt.Informes:return u.jsx(KW,{navigateTo:g});case mt.AnalisisAvanzado:return u.jsx(XW,{navigateTo:g});case mt.Recordatorios:return u.jsx(ZW,{navigateTo:g});case mt.EstacionTren:return u.jsx(t$,{navigateTo:g});case mt.Aeropuerto:return u.jsx(i$,{navigateTo:g});default:return u.jsx(X4,{navigateTo:g})}},D=y?"bg-zinc-950 text-zinc-50":"bg-zinc-50 text-zinc-900";return u.jsx(o9,{children:u.jsxs("div",{className:`${D} min-h-screen font-sans overflow-hidden`,children:[u.jsx("main",{className:"w-full pb-24 h-full relative",children:u.jsx(X7,{mode:"wait",children:u.jsx(jL,{children:E()},e)})}),e!==mt.Home&&u.jsx(s$,{navigateTo:g})]})})};class l$ extends W.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})},this.getIsDark=()=>{if(typeof window<"u"){const n=localStorage.getItem("temaOscuro");return n!==null?n==="true":document.documentElement.classList.contains("dark")}return!1},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Error capturado por ErrorBoundary:",t,n),this.setState({errorInfo:n})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:u.jsx(c$,{error:this.state.error,errorInfo:this.state.errorInfo,onReset:this.handleReset,isDark:this.getIsDark()}):this.props.children}}const c$=({error:e,errorInfo:t,onReset:n,isDark:r})=>u.jsx("div",{className:`min-h-screen flex items-center justify-center p-4 ${r?"bg-zinc-950":"bg-zinc-50"}`,children:u.jsx("div",{className:`max-w-md w-full p-6 rounded-xl ${r?"bg-zinc-900 border border-zinc-800":"bg-white border border-zinc-200"} shadow-xl`,children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:`text-2xl font-bold mb-2 ${r?"text-red-400":"text-red-600"}`,children:"Algo sali mal"}),u.jsx("p",{className:`mb-4 ${r?"text-zinc-300":"text-zinc-700"}`,children:"Ha ocurrido un error inesperado. Por favor, recarga la pgina o intenta de nuevo."}),e&&u.jsxs("details",{className:`text-left mb-4 p-3 rounded ${r?"bg-zinc-800":"bg-zinc-100"}`,children:[u.jsx("summary",{className:`cursor-pointer font-semibold ${r?"text-zinc-400":"text-zinc-600"}`,children:"Detalles del error"}),u.jsxs("pre",{className:`mt-2 text-xs overflow-auto ${r?"text-zinc-500":"text-zinc-600"}`,children:[e.message,t&&u.jsxs(u.Fragment,{children:[`

`,t.componentStack]})]})]}),u.jsxs("div",{className:"flex gap-2 justify-center",children:[u.jsx("button",{onClick:n,className:`px-4 py-2 rounded-lg font-semibold ${r?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:"Intentar de nuevo"}),u.jsx("button",{onClick:()=>window.location.reload(),className:`px-4 py-2 rounded-lg font-semibold ${r?"bg-zinc-700 hover:bg-zinc-600 text-white":"bg-zinc-200 hover:bg-zinc-300 text-zinc-900"}`,children:"Recargar pgina"})]})]})})}),u$=e=>u.jsx(l$,{...e}),EE=document.getElementById("root");if(!EE)throw new Error("Could not find root element to mount to");const f$=$C.createRoot(EE);f$.render(u.jsx(Ov.StrictMode,{children:u.jsx(u$,{children:u.jsx(DL,{children:u.jsx(Yz,{children:u.jsx(i9,{children:u.jsx(o$,{})})})})})}));export{Dr as _,d$ as c,Lv as g};
